<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Service Workers Nightly</title>
  <meta content="ED" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/W3C-ED" rel="stylesheet">
  <meta content="Bikeshed version 3f621ba99, updated Mon Jul 28 15:38:36 2025 -0700" name="generator">
  <link href="https://www.w3.org/TR/service-workers/" rel="canonical">
  <meta content="83a89937b0864badf0efe2a71f904f5a60acb941" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-mdn-anno */
:root {
	--mdn-bg: #EEE;
	--mdn-shadow: #999;
	--mdn-nosupport-text: #ccc;
	--mdn-pass: green;
	--mdn-fail: red;
}
@media (prefers-color-scheme: dark) {
	:root {
		--mdn-bg: #222;
		--mdn-shadow: #444;
		--mdn-nosupport-text: #666;
		--mdn-pass: #690;
		--mdn-fail: #d22;
	}
}
.mdn-anno {
	background: var(--mdn-bg, #EEE);
	border-radius: .25em;
	box-shadow: 0 0 3px var(--mdn-shadow, #999);
	color: var(--text, black);
	font: 1em sans-serif;
	hyphens: none;
	max-width: min-content;
	overflow: hidden;
	padding: 0.2em;
	position: absolute;
	right: 0.3em;
	top: auto;
	white-space: nowrap;
	word-wrap: normal;
	z-index: 8;
}
.mdn-anno.unpositioned {
	display: none;
}
.mdn-anno.overlapping-main {
	opacity: .2;
	transition: opacity .1s;
}
.mdn-anno[open] {
	opacity: 1;
	z-index: 9;
	min-width: 9em;
}
.mdn-anno:hover {
	opacity: 1;
	outline: var(--text, black) 1px solid;
}
.mdn-anno > summary {
	font-weight: normal;
	text-align: right;
	cursor: pointer;
	display: block;
}
.mdn-anno > summary > .less-than-two-engines-flag {
	color: var(--mdn-fail);
	padding-right: 2px;
}
.mdn-anno > summary > .all-engines-flag {
	color: var(--mdn-pass);
	padding-right: 2px;
}
.mdn-anno > summary > span {
	color: #fff;
	background-color: #000;
	font-weight: normal;
	font-family: zillaslab, Palatino, "Palatino Linotype", serif;
	padding: 2px 3px 0px 3px;
	line-height: 1.3em;
	vertical-align: top;
}
.mdn-anno > .feature {
	margin-top: 20px;
}
.mdn-anno > .feature:not(:first-of-type) {
	border-top: 1px solid #999;
	margin-top: 6px;
	padding-top: 2px;
}
.mdn-anno > .feature > .less-than-two-engines-text {
	color: var(--mdn-fail);
}
.mdn-anno > .feature > .all-engines-text {
	color: var(--mdn-pass);
}
.mdn-anno > .feature > p {
	font-size: .75em;
	margin-top: 6px;
	margin-bottom: 0;
}
.mdn-anno > .feature > p + p {
	margin-top: 3px;
}
.mdn-anno > .feature > .support {
	display: block;
	font-size: 0.6em;
	margin: 0;
	padding: 0;
	margin-top: 2px;
}
.mdn-anno > .feature > .support + div {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > hr {
	display: block;
	border: none;
	border-top: 1px dotted #999;
	padding: 3px 0px 0px 0px;
	margin: 2px 3px 0px 3px;
}
.mdn-anno > .feature > .support > hr::before {
	content: "";
}
.mdn-anno > .feature > .support > span {
	padding: 0.2em 0;
	display: block;
	display: table;
}
.mdn-anno > .feature > .support > span.no {
	color: var(--mdn-nosupport-text);
	filter: grayscale(100%);
}
.mdn-anno > .feature > .support > span.no::before {
	opacity: 0.5;
}
.mdn-anno > .feature > .support > span:first-of-type {
	padding-top: 0.5em;
}
.mdn-anno > .feature > .support > span > span {
	padding: 0 0.5em;
	display: table-cell;
}
.mdn-anno > .feature > .support > span > span:first-child {
	width: 100%;
}
.mdn-anno > .feature > .support > span > span:last-child {
	width: 100%;
	white-space: pre;
	padding: 0;
}
.mdn-anno > .feature > .support > span::before {
	content: ' ';
	display: table-cell;
	min-width: 1.5em;
	height: 1.5em;
	background: no-repeat center center;
	background-size: contain;
	text-align: right;
	font-size: 0.75em;
	font-weight: bold;
}
.mdn-anno > .feature > .support > .chrome_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .firefox_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .chrome::before {
	background-image: url(https://resources.whatwg.org/browser-logos/chrome.svg);
}
.mdn-anno > .feature > .support > .edge_blink::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge.svg);
}
.mdn-anno > .feature > .support > .edge::before {
	background-image: url(https://resources.whatwg.org/browser-logos/edge_legacy.svg);
}
.mdn-anno > .feature > .support > .firefox::before {
	background-image: url(https://resources.whatwg.org/browser-logos/firefox.png);
}
.mdn-anno > .feature > .support > .ie::before {
	background-image: url(https://resources.whatwg.org/browser-logos/ie.png);
}
.mdn-anno > .feature > .support > .safari_ios::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari-ios.svg);
}
.mdn-anno > .feature > .support > .nodejs::before {
	background-image: url(https://nodejs.org/favicon.ico);
}
.mdn-anno > .feature > .support > .opera_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .opera::before {
	background-image: url(https://resources.whatwg.org/browser-logos/opera.svg);
}
.mdn-anno > .feature > .support > .safari::before {
	background-image: url(https://resources.whatwg.org/browser-logos/safari.png);
}
.mdn-anno > .feature > .support > .samsunginternet_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/samsung.svg);
}
.mdn-anno > .feature > .support > .webview_android::before {
	background-image: url(https://resources.whatwg.org/browser-logos/android-webview.png);
}
.name-slug-mismatch {
	color: red;
}
.caniuse-status:hover {
	z-index: 9;
}
/* dt, li, .issue, .note, and .example are "position: relative", so to put annotation at right margin, must move to right of containing block */;
.h-entry:not(.status-LS) dt > .mdn-anno, .h-entry:not(.status-LS) li > .mdn-anno, .h-entry:not(.status-LS) .issue > .mdn-anno, .h-entry:not(.status-LS) .note > .mdn-anno, .h-entry:not(.status-LS) .example > .mdn-anno {
	right: -6.7em;
}
.h-entry p + .mdn-anno {
	margin-top: 0;
}
 h2 + .mdn-anno.after {
	margin: -48px 0 0 0;
}
 h3 + .mdn-anno.after {
	margin: -46px 0 0 0;
}
 h4 + .mdn-anno.after {
	margin: -42px 0 0 0;
}
 h5 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
 h6 + .mdn-anno.after {
	margin: -40px 0 0 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/">
    <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72">
</a>
</p>
   <h1 class="p-name no-ref" id="title">Service Workers Nightly</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#ED">Editor’s Draft</a>,
    <time class="dt-updated" datetime="2025-08-01">1 August 2025</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://w3c.github.io/ServiceWorker/">https://w3c.github.io/ServiceWorker/</a>
      <dt>Latest published version:
      <dd><a href="https://www.w3.org/TR/service-workers/">https://www.w3.org/TR/service-workers/</a>
      <dt>Feedback:
      <dd><a href="https://github.com/w3c/ServiceWorker/issues/">GitHub</a>
      <dd><a href="#issues-index">Inline In Spec</a>
      <dt class="editor">Editors:
      <dd class="editor p-author h-card vcard" data-editor-id="160353"><a class="p-name fn u-email email" href="mailto:monicach@microsoft.com">Monica Chintala</a> (<span class="p-org org">Microsoft</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="142513"><a class="p-name fn u-email email" href="mailto:yyanagisawa@chromium.org">Yoshisato Yanagisawa</a> (<span class="p-org org">Google</span>)
      <dt class="editor">Former Editors:
      <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:slightlyoff@chromium.org">Alex Russell</a> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="76394"><a class="p-name fn u-email email" href="mailto:jakearchibald@chromium.org">Jake Archibald</a> (<span class="p-org org">Google</span>)
      <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:jungkee.song@microsoft.com">Jungkee Song</a> (<span class="p-org org">Microsoft‚ represented Samsung until April 2018</span>)
      <dd class="editor p-author h-card vcard" data-editor-id="72440"><a class="p-name fn u-email email" href="mailto:mek@chromium.org">Marijn Kruisselbrink</a> (<span class="p-org org">Google</span>)
      <dt>Tests:
      <dd><a href="https://github.com/web-platform-tests/wpt/tree/master/service-workers">web-platform-tests service-workers/</a> (<a href="https://github.com/web-platform-tests/wpt/labels/service-workers">ongoing work</a>)
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2025 <a href="https://www.w3.org/">World Wide Web Consortium</a>. <abbr title="World Wide Web Consortium">W3C</abbr><sup>®</sup> <a href="https://www.w3.org/policies/#Legal_Disclaimer">liability</a>, <a href="https://www.w3.org/policies/#W3C_Trademarks">trademark</a> and <a href="https://www.w3.org/copyright/software-license/" rel="license" title="W3C Software and Document License">permissive document license</a> rules apply.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>The core of this specification is a worker that wakes to receive events. This provides an event destination that can be used when other destinations would be inappropriate, or no other destination exists.</p>
   <p>For example, to allow the developer to decide how a page should be fetched, an event needs to dispatch potentially before any other execution contexts exist for that origin. To react to a push message, or completion of a persistent download, the context that originally registered interest may no longer exist. In these cases, the service worker is the ideal event destination.</p>
   <p>This specification also provides a <a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch">fetch event</a>, and a <a href="#cache-objects">request and response store</a> similar in design to the HTTP cache, which makes it easier to build offline-enabled web applications.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
	This document was published by the <a href="https://www.w3.org/groups/wg/webapps">Web Applications Working Group</a> as an Editor’s Draft.

</p>
   <p>
	Publication as an Editor’s Draft does not imply endorsement by <abbr title="World Wide Web Consortium">W3C</abbr> and its Members.

</p>
   <p>
	This is a draft document
	and may be updated, replaced
	or obsoleted by other documents at any time.
	It is inappropriate to cite this document as other than a work in progress.

</p>
   <p>This is a living document. Readers need to be aware that this specification may include unimplemented features, and details that may change. <a href="https://w3c.github.io/ServiceWorker/v1/">Service Workers 1</a> is a version that is advancing toward a W3C Recommendation.</p>
   <p>This document was produced by a group operating under the <a href="https://www.w3.org/policies/patent-policy/"><abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/groups/wg/webapps/ipr" rel="disclosure">public list of any patent disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent that the individual believes contains <a href="https://www.w3.org/policies/patent-policy/#def-essential">Essential Claim(s)</a> must disclose the information in accordance with <a href="https://www.w3.org/policies/patent-policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.

</p>
   <p>This document is governed by the
	<a href="https://www.w3.org/policies/process/20231103/" id="w3c_process_revision">03 November 2023 W3C Process Document</a>.

</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#motivations"><span class="secno">1</span> <span class="content">Motivations</span></a>
    <li>
     <a href="#model"><span class="secno">2</span> <span class="content">Model</span></a>
     <ol class="toc">
      <li>
       <a href="#service-worker-concept"><span class="secno">2.1</span> <span class="content">Service Worker</span></a>
       <ol class="toc">
        <li><a href="#service-worker-lifetime"><span class="secno">2.1.1</span> <span class="content">Lifetime</span></a>
        <li><a href="#service-worker-events"><span class="secno">2.1.2</span> <span class="content">Events</span></a>
       </ol>
      <li><a href="#service-worker-timing"><span class="secno">2.2</span> <span class="content">Service Worker Timing</span></a>
      <li>
       <a href="#service-worker-registration-concept"><span class="secno">2.3</span> <span class="content">Service Worker Registration</span></a>
       <ol class="toc">
        <li><a href="#service-worker-registration-lifetime"><span class="secno">2.3.1</span> <span class="content">Lifetime</span></a>
       </ol>
      <li><a href="#service-worker-client-concept"><span class="secno">2.4</span> <span class="content">Service Worker Client</span></a>
      <li>
       <a href="#control-and-use"><span class="secno">2.5</span> <span class="content">Control and Use</span></a>
       <ol class="toc">
        <li><a href="#control-and-use-window-client"><span class="secno">2.5.1</span> <span class="content">The window client case</span></a>
        <li><a href="#control-and-use-worker-client"><span class="secno">2.5.2</span> <span class="content">The worker client case</span></a>
       </ol>
      <li><a href="#task-sources"><span class="secno">2.6</span> <span class="content">Task Sources</span></a>
      <li><a href="#user-agent-shutdown"><span class="secno">2.7</span> <span class="content">User Agent Shutdown</span></a>
     </ol>
    <li>
     <a href="#document-context"><span class="secno">3</span> <span class="content">Client Context</span></a>
     <ol class="toc">
      <li>
       <a href="#serviceworker-interface"><span class="secno">3.1</span> <span class="content"><code class="idl"><span>ServiceWorker</span></code></span></a>
       <ol class="toc">
        <li><a href="#service-worker-creation"><span class="secno">3.1.1</span> <span class="content">Getting <code class="idl"><span>ServiceWorker</span></code> instances</span></a>
        <li><a href="#service-worker-url"><span class="secno">3.1.2</span> <span class="content"><code class="idl"><span>scriptURL</span></code></span></a>
        <li><a href="#service-worker-state"><span class="secno">3.1.3</span> <span class="content"><code class="idl"><span>state</span></code></span></a>
        <li><a href="#service-worker-postmessage"><span class="secno">3.1.4</span> <span class="content"><code class="idl"><span>postMessage(message, transfer)</span></code></span></a>
        <li><a href="#service-worker-postmessage-options"><span class="secno">3.1.5</span> <span class="content"><code class="idl"><span>postMessage(message, options)</span></code></span></a>
        <li><a href="#service-worker-event-handler"><span class="secno">3.1.6</span> <span class="content">Event handler</span></a>
       </ol>
      <li>
       <a href="#serviceworkerregistration-interface"><span class="secno">3.2</span> <span class="content"><code class="idl"><span>ServiceWorkerRegistration</span></code></span></a>
       <ol class="toc">
        <li><a href="#service-worker-registration-creation"><span class="secno">3.2.1</span> <span class="content">Getting <code class="idl"><span>ServiceWorkerRegistration</span></code> instances</span></a>
        <li><a href="#navigator-service-worker-installing"><span class="secno">3.2.2</span> <span class="content"><code class="idl"><span>installing</span></code></span></a>
        <li><a href="#navigator-service-worker-waiting"><span class="secno">3.2.3</span> <span class="content"><code class="idl"><span>waiting</span></code></span></a>
        <li><a href="#navigator-service-worker-active"><span class="secno">3.2.4</span> <span class="content"><code class="idl"><span>active</span></code></span></a>
        <li><a href="#service-worker-registration-navigationpreload"><span class="secno">3.2.5</span> <span class="content"><code class="idl"><span>navigationPreload</span></code></span></a>
        <li><a href="#service-worker-registration-scope"><span class="secno">3.2.6</span> <span class="content"><code class="idl"><span>scope</span></code></span></a>
        <li><a href="#service-worker-registration-updateviacache"><span class="secno">3.2.7</span> <span class="content"><code class="idl"><span>updateViaCache</span></code></span></a>
        <li><a href="#service-worker-registration-update"><span class="secno">3.2.8</span> <span class="content"><code class="idl"><span>update()</span></code></span></a>
        <li><a href="#navigator-service-worker-unregister"><span class="secno">3.2.9</span> <span class="content"><code class="idl"><span>unregister()</span></code></span></a>
        <li><a href="#service-worker-registration-event-handler"><span class="secno">3.2.10</span> <span class="content">Event handler</span></a>
       </ol>
      <li><a href="#navigator-serviceworker"><span class="secno">3.3</span> <span class="content"><code class="idl"><span>navigator.serviceWorker</span></code></span></a>
      <li>
       <a href="#serviceworkercontainer-interface"><span class="secno">3.4</span> <span class="content"><code class="idl"><span>ServiceWorkerContainer</span></code></span></a>
       <ol class="toc">
        <li><a href="#navigator-service-worker-controller"><span class="secno">3.4.1</span> <span class="content"><code class="idl"><span>controller</span></code></span></a>
        <li><a href="#navigator-service-worker-ready"><span class="secno">3.4.2</span> <span class="content"><code class="idl"><span>ready</span></code></span></a>
        <li><a href="#navigator-service-worker-register"><span class="secno">3.4.3</span> <span class="content"><code class="idl"><span>register(scriptURL, options)</span></code></span></a>
        <li><a href="#navigator-service-worker-getRegistration"><span class="secno">3.4.4</span> <span class="content"><code class="idl"><span>getRegistration(clientURL)</span></code></span></a>
        <li><a href="#navigator-service-worker-getRegistrations"><span class="secno">3.4.5</span> <span class="content"><code class="idl"><span>getRegistrations()</span></code></span></a>
        <li><a href="#navigator-service-worker-startMessages"><span class="secno">3.4.6</span> <span class="content"><code class="idl"><span>startMessages()</span></code></span></a>
        <li><a href="#service-worker-container-event-handlers"><span class="secno">3.4.7</span> <span class="content">Event handlers</span></a>
       </ol>
      <li><a href="#document-context-events"><span class="secno">3.5</span> <span class="content">Events</span></a>
      <li>
       <a href="#navigation-preload-manager"><span class="secno">3.6</span> <span class="content"><code class="idl"><span>NavigationPreloadManager</span></code></span></a>
       <ol class="toc">
        <li><a href="#navigation-preload-manager-enable"><span class="secno">3.6.1</span> <span class="content"><code class="idl"><span>enable()</span></code></span></a>
        <li><a href="#navigation-preload-manager-disable"><span class="secno">3.6.2</span> <span class="content"><code class="idl"><span>disable()</span></code></span></a>
        <li><a href="#navigation-preload-manager-setheadervalue"><span class="secno">3.6.3</span> <span class="content"><code class="idl"><span>setHeaderValue(value)</span></code></span></a>
        <li><a href="#navigation-preload-manager-getstate"><span class="secno">3.6.4</span> <span class="content"><code class="idl"><span>getState()</span></code></span></a>
       </ol>
     </ol>
    <li>
     <a href="#execution-context"><span class="secno">4</span> <span class="content">Execution Context</span></a>
     <ol class="toc">
      <li>
       <a href="#serviceworkerglobalscope-interface"><span class="secno">4.1</span> <span class="content"><code class="idl"><span>ServiceWorkerGlobalScope</span></code></span></a>
       <ol class="toc">
        <li><a href="#service-worker-global-scope-clients"><span class="secno">4.1.1</span> <span class="content"><code class="idl"><span>clients</span></code></span></a>
        <li><a href="#service-worker-global-scope-registration"><span class="secno">4.1.2</span> <span class="content"><code class="idl"><span>registration</span></code></span></a>
        <li><a href="#service-worker-global-scope-serviceworker"><span class="secno">4.1.3</span> <span class="content"><code class="idl"><span>serviceWorker</span></code></span></a>
        <li><a href="#service-worker-global-scope-skipwaiting"><span class="secno">4.1.4</span> <span class="content"><code class="idl"><span>skipWaiting()</span></code></span></a>
        <li><a href="#service-worker-global-scope-event-handlers"><span class="secno">4.1.5</span> <span class="content">Event handlers</span></a>
       </ol>
      <li>
       <a href="#client-interface"><span class="secno">4.2</span> <span class="content"><code class="idl"><span>Client</span></code></span></a>
       <ol class="toc">
        <li><a href="#client-url"><span class="secno">4.2.1</span> <span class="content"><code class="idl"><span>url</span></code></span></a>
        <li><a href="#client-frametype"><span class="secno">4.2.2</span> <span class="content"><code class="idl"><span>frameType</span></code></span></a>
        <li><a href="#client-id"><span class="secno">4.2.3</span> <span class="content"><code class="idl"><span>id</span></code></span></a>
        <li><a href="#client-type"><span class="secno">4.2.4</span> <span class="content"><code class="idl"><span>type</span></code></span></a>
        <li><a href="#client-postmessage"><span class="secno">4.2.5</span> <span class="content"><code class="idl"><span>postMessage(message, transfer)</span></code></span></a>
        <li><a href="#client-postmessage-options"><span class="secno">4.2.6</span> <span class="content"><code class="idl"><span>postMessage(message, options)</span></code></span></a>
        <li><a href="#client-visibilitystate"><span class="secno">4.2.7</span> <span class="content"><code class="idl"><span>visibilityState</span></code></span></a>
        <li><a href="#client-focused"><span class="secno">4.2.8</span> <span class="content"><code class="idl"><span>focused</span></code></span></a>
        <li><a href="#client-ancestororigins"><span class="secno">4.2.9</span> <span class="content"><code class="idl"><span>ancestorOrigins</span></code></span></a>
        <li><a href="#client-focus"><span class="secno">4.2.10</span> <span class="content"><code class="idl"><span>focus()</span></code></span></a>
        <li><a href="#client-navigate"><span class="secno">4.2.11</span> <span class="content"><code class="idl"><span>navigate(url)</span></code></span></a>
       </ol>
      <li>
       <a href="#clients-interface"><span class="secno">4.3</span> <span class="content"><code class="idl"><span>Clients</span></code></span></a>
       <ol class="toc">
        <li><a href="#clients-get"><span class="secno">4.3.1</span> <span class="content"><code class="idl"><span>get(id)</span></code></span></a>
        <li><a href="#clients-matchall"><span class="secno">4.3.2</span> <span class="content"><code class="idl"><span>matchAll(options)</span></code></span></a>
        <li><a href="#clients-openwindow"><span class="secno">4.3.3</span> <span class="content"><code class="idl"><span>openWindow(url)</span></code></span></a>
        <li><a href="#clients-claim"><span class="secno">4.3.4</span> <span class="content"><code class="idl"><span>claim()</span></code></span></a>
       </ol>
      <li>
       <a href="#extendableevent-interface"><span class="secno">4.4</span> <span class="content"><code class="idl"><span>ExtendableEvent</span></code></span></a>
       <ol class="toc">
        <li><a href="#wait-until-method"><span class="secno">4.4.1</span> <span class="content"><code class="idl"><span>event.waitUntil(f)</span></code></span></a>
       </ol>
      <li>
       <a href="#installevent-interface"><span class="secno">4.5</span> <span class="content"><code class="idl"><span>InstallEvent</span></code></span></a>
       <ol class="toc">
        <li><a href="#register-router-method"><span class="secno">4.5.1</span> <span class="content"><code class="idl"><span>event.addRoutes(rules)</span></code></span></a>
       </ol>
      <li>
       <a href="#fetchevent-interface"><span class="secno">4.6</span> <span class="content"><code class="idl"><span>FetchEvent</span></code></span></a>
       <ol class="toc">
        <li><a href="#fetch-event-request"><span class="secno">4.6.1</span> <span class="content"><code class="idl"><span>event.request</span></code></span></a>
        <li><a href="#fetch-event-preloadresponse"><span class="secno">4.6.2</span> <span class="content"><code class="idl"><span>event.preloadResponse</span></code></span></a>
        <li><a href="#fetch-event-clientid"><span class="secno">4.6.3</span> <span class="content"><code class="idl"><span>event.clientId</span></code></span></a>
        <li><a href="#fetch-event-resultingclientid"><span class="secno">4.6.4</span> <span class="content"><code class="idl"><span>event.resultingClientId</span></code></span></a>
        <li><a href="#fetch-event-replacesClientId"><span class="secno">4.6.5</span> <span class="content"><code class="idl"><span>event.replacesClientId</span></code></span></a>
        <li><a href="#fetch-event-handled"><span class="secno">4.6.6</span> <span class="content"><code class="idl"><span>event.handled</span></code></span></a>
        <li><a href="#fetch-event-respondwith"><span class="secno">4.6.7</span> <span class="content"><code class="idl"><span>event.respondWith(r)</span></code></span></a>
       </ol>
      <li>
       <a href="#extendablemessageevent-interface"><span class="secno">4.7</span> <span class="content"><code class="idl"><span>ExtendableMessageEvent</span></code></span></a>
       <ol class="toc">
        <li><a href="#extendablemessage-event-data"><span class="secno">4.7.1</span> <span class="content"><code class="idl"><span>event.data</span></code></span></a>
        <li><a href="#extendablemessage-event-origin"><span class="secno">4.7.2</span> <span class="content"><code class="idl"><span>event.origin</span></code></span></a>
        <li><a href="#extendablemessage-event-lasteventid"><span class="secno">4.7.3</span> <span class="content"><code class="idl"><span>event.lastEventId</span></code></span></a>
        <li><a href="#extendablemessage-event-source"><span class="secno">4.7.4</span> <span class="content"><code class="idl"><span>event.source</span></code></span></a>
        <li><a href="#extendablemessage-event-ports"><span class="secno">4.7.5</span> <span class="content"><code class="idl"><span>event.ports</span></code></span></a>
       </ol>
      <li><a href="#execution-context-events"><span class="secno">4.8</span> <span class="content">Events</span></a>
     </ol>
    <li>
     <a href="#cache-objects"><span class="secno">5</span> <span class="content">Caches</span></a>
     <ol class="toc">
      <li><a href="#cache-constructs"><span class="secno">5.1</span> <span class="content">Constructs</span></a>
      <li><a href="#cache-lifetimes"><span class="secno">5.2</span> <span class="content">Understanding Cache Lifetimes</span></a>
      <li>
       <a href="#self-caches"><span class="secno">5.3</span> <span class="content"><code class="idl"><span>self.caches</span></code></span></a>
       <ol class="toc">
        <li><a href="#global-caches"><span class="secno">5.3.1</span> <span class="content"><code class="idl"><span>caches</span></code></span></a>
       </ol>
      <li>
       <a href="#cache-interface"><span class="secno">5.4</span> <span class="content"><code class="idl"><span>Cache</span></code></span></a>
       <ol class="toc">
        <li><a href="#cache-match"><span class="secno">5.4.1</span> <span class="content"><code class="idl"><span>match(request, options)</span></code></span></a>
        <li><a href="#cache-matchall"><span class="secno">5.4.2</span> <span class="content"><code class="idl"><span>matchAll(request, options)</span></code></span></a>
        <li><a href="#cache-add"><span class="secno">5.4.3</span> <span class="content"><code class="idl"><span>add(request)</span></code></span></a>
        <li><a href="#cache-addAll"><span class="secno">5.4.4</span> <span class="content"><code class="idl"><span>addAll(requests)</span></code></span></a>
        <li><a href="#cache-put"><span class="secno">5.4.5</span> <span class="content"><code class="idl"><span>put(request, response)</span></code></span></a>
        <li><a href="#cache-delete"><span class="secno">5.4.6</span> <span class="content"><code class="idl"><span>delete(request, options)</span></code></span></a>
        <li><a href="#cache-keys"><span class="secno">5.4.7</span> <span class="content"><code class="idl"><span>keys(request, options)</span></code></span></a>
       </ol>
      <li>
       <a href="#cachestorage-interface"><span class="secno">5.5</span> <span class="content"><code class="idl"><span>CacheStorage</span></code></span></a>
       <ol class="toc">
        <li><a href="#cache-storage-match"><span class="secno">5.5.1</span> <span class="content"><code class="idl"><span>match(request, options)</span></code></span></a>
        <li><a href="#cache-storage-has"><span class="secno">5.5.2</span> <span class="content"><code class="idl"><span>has(cacheName)</span></code></span></a>
        <li><a href="#cache-storage-open"><span class="secno">5.5.3</span> <span class="content"><code class="idl"><span>open(cacheName)</span></code></span></a>
        <li><a href="#cache-storage-delete"><span class="secno">5.5.4</span> <span class="content"><code class="idl"><span>delete(cacheName)</span></code></span></a>
        <li><a href="#cache-storage-keys"><span class="secno">5.5.5</span> <span class="content"><code class="idl"><span>keys()</span></code></span></a>
       </ol>
     </ol>
    <li>
     <a href="#security-considerations"><span class="secno">6</span> <span class="content">Security Considerations</span></a>
     <ol class="toc">
      <li><a href="#secure-context"><span class="secno">6.1</span> <span class="content">Secure Context</span></a>
      <li><a href="#content-security-policy"><span class="secno">6.2</span> <span class="content">Content Security Policy</span></a>
      <li>
       <a href="#origin-relativity"><span class="secno">6.3</span> <span class="content">Origin Relativity</span></a>
       <ol class="toc">
        <li><a href="#origin-restriction"><span class="secno">6.3.1</span> <span class="content">Origin restriction</span></a>
        <li><a href="#importscripts"><span class="secno">6.3.2</span> <span class="content"><code class="idl"><span>importScripts(urls)</span></code></span></a>
       </ol>
      <li><a href="#cross-origin-resources"><span class="secno">6.4</span> <span class="content">Cross-Origin Resources and CORS</span></a>
      <li><a href="#path-restriction"><span class="secno">6.5</span> <span class="content">Path restriction</span></a>
      <li><a href="#script-request"><span class="secno">6.6</span> <span class="content">Service worker script request</span></a>
      <li><a href="#implementer-concerns"><span class="secno">6.7</span> <span class="content">Implementer Concerns</span></a>
      <li><a href="#privacy"><span class="secno">6.8</span> <span class="content">Privacy</span></a>
     </ol>
    <li>
     <a href="#extensibility"><span class="secno">7</span> <span class="content">Extensibility</span></a>
     <ol class="toc">
      <li><a href="#extension-to-service-worker-registration"><span class="secno">7.1</span> <span class="content">Define API bound to Service Worker Registration</span></a>
      <li><a href="#extension-to-extendable-event"><span class="secno">7.2</span> <span class="content">Define Functional Event</span></a>
      <li><a href="#extension-to-service-worker-global-scope"><span class="secno">7.3</span> <span class="content">Define Event Handler</span></a>
      <li><a href="#firing-functional-events"><span class="secno">7.4</span> <span class="content">Firing Functional Events</span></a>
     </ol>
    <li>
     <a href="#algorithms"><span class="secno"></span> <span class="content">Appendix A: Algorithms</span></a>
     <ol class="toc">
      <li><a href="#create-job-algorithm"><span class="secno"></span> <span class="content"><span>Create Job</span></span></a>
      <li><a href="#schedule-job-algorithm"><span class="secno"></span> <span class="content"><span>Schedule Job</span></span></a>
      <li><a href="#run-job-algorithm"><span class="secno"></span> <span class="content"><span>Run Job</span></span></a>
      <li><a href="#finish-job-algorithm"><span class="secno"></span> <span class="content"><span>Finish Job</span></span></a>
      <li><a href="#resolve-job-promise-algorithm"><span class="secno"></span> <span class="content"><span>Resolve Job Promise</span></span></a>
      <li><a href="#reject-job-promise-algorithm"><span class="secno"></span> <span class="content"><span>Reject Job Promise</span></span></a>
      <li><a href="#start-register-algorithm"><span class="secno"></span> <span class="content"><span>Start Register</span></span></a>
      <li><a href="#register-algorithm"><span class="secno"></span> <span class="content"><span>Register</span></span></a>
      <li><a href="#update-algorithm"><span class="secno"></span> <span class="content"><span>Update</span></span></a>
      <li><a href="#soft-update-algorithm"><span class="secno"></span> <span class="content"><span>Soft Update</span></span></a>
      <li><a href="#installation-algorithm"><span class="secno"></span> <span class="content"><span>Install</span></span></a>
      <li><a href="#activation-algorithm"><span class="secno"></span> <span class="content"><span>Activate</span></span></a>
      <li><a href="#try-activate-algorithm"><span class="secno"></span> <span class="content"><span>Try Activate</span></span></a>
      <li><a href="#setup-serviceworkerglobalscope-algorithm"><span class="secno"></span> <span class="content"><span>Setup ServiceWorkerGlobalScope</span></span></a>
      <li><a href="#run-service-worker-algorithm"><span class="secno"></span> <span class="content"><span>Run Service Worker</span></span></a>
      <li><a href="#all-fetch-listeners-are-empty-algorithm"><span class="secno"></span> <span class="content"><span>All Fetch Listeners Are Empty</span></span></a>
      <li><a href="#terminate-service-worker-algorithm"><span class="secno"></span> <span class="content"><span>Terminate Service Worker</span></span></a>
      <li><a href="#on-fetch-request-algorithm"><span class="secno"></span> <span class="content"><span>Handle Fetch</span></span></a>
      <li><a href="#create-fetch-event-and-dispatch-algorithm"><span class="secno"></span> <span class="content"><span>Create Fetch Event and Dispatch</span></span></a>
      <li><a href="#parse-urlpattern-algorithm"><span class="secno"></span> <span class="content"><span>Parse URL Pattern</span></span></a>
      <li><a href="#verify-router-rule-algorithm"><span class="secno"></span> <span class="content"><span>Verify Router Condition</span></span></a>
      <li><a href="#match-router-condition-algorithm"><span class="secno"></span> <span class="content"><span>Match Router Condition</span></span></a>
      <li><a href="#check-router-registration-limit-algorithm"><span class="secno"></span> <span class="content"><span>Check Router Registration Limit</span></span></a>
      <li><a href="#count-router-inner-conditions-algorithm"><span class="secno"></span> <span class="content"><span>Count Router Inner Conditions</span></span></a>
      <li><a href="#get-router-source-algorithm"><span class="secno"></span> <span class="content"><span>Get Router Source</span></span></a>
      <li><a href="#should-skip-event-algorithm"><span class="secno"></span> <span class="content"><span>Should Skip Event</span></span></a>
      <li><a href="#fire-functional-event-algorithm"><span class="secno"></span> <span class="content"><span>Fire Functional Event</span></span></a>
      <li><a href="#on-client-unload-algorithm"><span class="secno"></span> <span class="content"><span>Handle Service Worker Client Unload</span></span></a>
      <li><a href="#on-user-agent-shutdown-algorithm"><span class="secno"></span> <span class="content"><span>Handle User Agent Shutdown</span></span></a>
      <li><a href="#update-service-worker-extended-events-set-algorithm"><span class="secno"></span> <span class="content"><span>Update Service Worker Extended Events Set</span></span></a>
      <li><a href="#unregister-algorithm"><span class="secno"></span> <span class="content"><span>Unregister</span></span></a>
      <li><a href="#set-registration-algorithm"><span class="secno"></span> <span class="content"><span>Set Registration</span></span></a>
      <li><a href="#clear-registration-algorithm"><span class="secno"></span> <span class="content"><span>Clear Registration</span></span></a>
      <li><a href="#try-clear-registration-algorithm"><span class="secno"></span> <span class="content"><span>Try Clear Registration</span></span></a>
      <li><a href="#update-registration-state-algorithm"><span class="secno"></span> <span class="content"><span>Update Registration State</span></span></a>
      <li><a href="#update-state-algorithm"><span class="secno"></span> <span class="content"><span>Update Worker State</span></span></a>
      <li><a href="#notify-controller-change-algorithm"><span class="secno"></span> <span class="content"><span>Notify Controller Change</span></span></a>
      <li><a href="#scope-match-algorithm"><span class="secno"></span> <span class="content"><span>Match Service Worker Registration</span></span></a>
      <li><a href="#get-registration-algorithm"><span class="secno"></span> <span class="content"><span>Get Registration</span></span></a>
      <li><a href="#get-newest-worker-algorithm"><span class="secno"></span> <span class="content"><span>Get Newest Worker</span></span></a>
      <li><a href="#service-worker-has-no-pending-events-algorithm"><span class="secno"></span> <span class="content"><span>Service Worker Has No Pending Events</span></span></a>
      <li><a href="#create-client-algorithm"><span class="secno"></span> <span class="content"><span>Create Client</span></span></a>
      <li><a href="#create-windowclient-algorithm"><span class="secno"></span> <span class="content"><span>Create Window Client</span></span></a>
      <li><a href="#get-frametype-algorithm"><span class="secno"></span> <span class="content"><span>Get Frame Type</span></span></a>
      <li><a href="#resolve-get-client-promise-algorithm"><span class="secno"></span> <span class="content"><span>Resolve Get Client Promise</span></span></a>
      <li><a href="#query-cache-algorithm"><span class="secno"></span> <span class="content"><span>Query Cache</span></span></a>
      <li><a href="#request-matches-cached-item-algorithm"><span class="secno"></span> <span class="content"><span>Request Matches Cached Item</span></span></a>
      <li><a href="#batch-cache-operations-algorithm"><span class="secno"></span> <span class="content"><span>Batch Cache Operations</span></span></a>
      <li><a href="#is-async-module-algorithm"><span class="secno"></span> <span class="content"><span>Is Async Module</span></span></a>
      <li><a href="#lookup-race-response-algorithm"><span class="secno"></span> <span class="content"><span>Lookup Race Response</span></span></a>
     </ol>
    <li>
     <a href="#extended-http-headers"><span class="secno"></span> <span class="content">Appendix B: Extended HTTP headers</span></a>
     <ol class="toc">
      <li><a href="#service-worker-script-request"><span class="secno"></span> <span class="content">Service Worker Script Request</span></a>
      <li><a href="#service-worker-script-response"><span class="secno"></span> <span class="content">Service Worker Script Response</span></a>
      <li><a href="#syntax"><span class="secno"></span> <span class="content">Syntax</span></a>
     </ol>
    <li><a href="#acknowledgements"><span class="secno">8</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
      <li><a href="#w3c-conformant-algorithms"><span class="secno"></span> <span class="content">Conformant Algorithms</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <section>
    <h2 class="heading settled" data-level="1" id="motivations"><span class="secno">1. </span><span class="content">Motivations</span><a class="self-link" href="#motivations"></a></h2>
    <p><em>This section is non-normative.</em></p>
    <p>Web Applications traditionally assume that the network is reachable. This assumption pervades the platform. HTML documents are loaded over HTTP and traditionally fetch all of their sub-resources via subsequent HTTP requests. This places web content at a disadvantage versus other technology stacks.</p>
    <p>The <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker">service worker</a> is designed first to redress this balance by providing a Web Worker context, which can be started by a runtime when navigations are about to occur. This event-driven worker is registered against an origin and a path (or pattern), meaning it can be consulted when navigations occur to that location. Events that correspond to network requests are dispatched to the worker and the responses generated by the worker may override default network stack behavior. This puts the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①">service worker</a>, conceptually, between the network and a document renderer, allowing the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②">service worker</a> to provide content for documents, even while offline.</p>
    <p>Web developers familiar with previous attempts to solve the offline problem have reported a deficit of flexibility in those solutions. As a result, the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③">service worker</a> is highly procedural, providing a maximum of flexibility at the price of additional complexity for developers. Part of this complexity arises from the need to keep <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④">service workers</a> responsive in the face of a single-threaded execution model. As a result, APIs exposed by <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤">service workers</a> are almost entirely asynchronous, a pattern familiar in other JavaScript contexts but accentuated here by the need to avoid blocking document and resource loading.</p>
    <p>Developers using the <a href="https://www.w3.org/TR/2014/REC-html5-20141028/browsers.html#appcache">HTML5 Application Cache</a> have also <a href="https://alistapart.com/article/application-cache-is-a-douchebag/">reported that several attributes</a> of the design contribute to <a href="https://alistapart.com/article/application-cache-is-a-douchebag/#section6">unrecoverable errors</a>. A key design principle of the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥">service worker</a> is that errors should <em>always</em> be recoverable. Many details of the update process of <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦">service workers</a> are designed to avoid these hazards.</p>
    <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧">Service workers</a> are started and kept alive by their relationship to events, not documents. This design borrows heavily from developer and vendor experience with <a href="https://html.spec.whatwg.org/multipage/workers.html#shared-workers-and-the-sharedworker-interface">shared workers</a> and <a href="https://developer.chrome.com/docs/extensions/mv2/background-pages">Chrome Background Pages</a>. A key lesson from these systems is the necessity to time-limit the execution of background processing contexts, both to conserve resources and to ensure that background context loss and restart is top-of-mind for developers. As a result, <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨">service workers</a> bear more than a passing resemblance to <a href="https://developer.chrome.com/docs/apps/event_pages">Chrome Event Pages</a>, the successor to Background Pages. <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪">Service workers</a> may be started by user agents <em>without an attached document</em> and may be killed by the user agent at nearly any time. Conceptually, <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①">service workers</a> can be thought of as Shared Workers that can start, process events, and die without ever handling messages from documents. Developers are advised to keep in mind that <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①②">service workers</a> may be started and killed many times a second.</p>
    <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①③">Service workers</a> are generic, event-driven, time-limited script contexts that run at an origin. These properties make them natural endpoints for a range of runtime services that may outlive the context of a particular document, e.g. handling push notifications, background data synchronization, responding to resource requests from other origins, or receiving centralized updates to expensive-to-calculate data (e.g., geolocation or gyroscope).</p>
   </section>
   <section>
    <h2 class="heading settled" data-level="2" id="model"><span class="secno">2. </span><span class="content">Model</span><a class="self-link" href="#model"></a></h2>
    <section>
     <h3 class="heading settled" data-level="2.1" id="service-worker-concept"><span class="secno">2.1. </span><span class="content">Service Worker</span><a class="self-link" href="#service-worker-concept"></a></h3>
     <p>A <dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export id="dfn-service-worker">service worker</dfn> is a type of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#workers" id="ref-for-workers">web worker</a>. A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①④">service worker</a> executes in the registering <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin">origin</a>.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑤">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-state">state</dfn>, which is one of "<code>parsed</code>", "<code>installing</code>", "<code>installed</code>", "<code>activating</code>", "<code>activated</code>", and "<code>redundant</code>". It is initially "<code>parsed</code>".</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑥">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-script-url">script url</dfn> (a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URL</a>).</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑦">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-type">type</dfn> which is either "<code>classic</code>" or "<code>module</code>". Unless stated otherwise, it is "<code>classic</code>".</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑧">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export data-lt="registration|containing service worker registration" id="dfn-containing-service-worker-registration">containing service worker registration</dfn> (a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration">service worker registration</a>), which contains itself.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⑨">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-service-worker-global-object">global object</dfn> (a <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope">ServiceWorkerGlobalScope</a></code> object or null).</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⓪">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-script-resource">script resource</dfn> (a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script" id="ref-for-concept-script">script</a>), which represents its own script resource. It is initially set to null.</p>
     <p>A <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource">script resource</a> has an associated <dfn class="dfn-paneled" data-dfn-for="script resource" data-dfn-type="dfn" data-export id="dfn-has-ever-been-evaluated-flag">has ever been evaluated flag</dfn>. It is initially unset.</p>
     <p>A <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource①">script resource</a> has an associated <dfn class="dfn-paneled" data-dfn-for="script resource" data-dfn-type="dfn" data-export id="dfn-policy-container">policy container</dfn> (a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#policy-container" id="ref-for-policy-container">policy container</a>). It is initially a new policy container.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②①">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-script-resource-map">script resource map</dfn> which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">ordered map</a> where the keys are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URLs</a> and the values are <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">responses</a>.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②②">service worker</a> has an associated  <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-set-of-used-scripts">set of used scripts</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">set</a>) whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">item</a> is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">URL</a>. It is initially a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">set</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#dfn-set-of-used-scripts" id="ref-for-dfn-set-of-used-scripts">set of used scripts</a> is only used to prune unused resources from a new worker’s map after installation, that were populated based on the old worker’s map during the update check.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②③">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-skip-waiting-flag">skip waiting flag</dfn>. Unless stated otherwise it is unset.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②④">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-classic-scripts-imported-flag">classic scripts imported flag</dfn>. It is initially unset.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑤">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-set-of-event-types-to-handle">set of event types to handle</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">set</a>) whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①">item</a> is an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-listener" id="ref-for-concept-event-listener">event listener</a>’s event type. It is initially a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set③">set</a>.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑥">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-set-of-extended-events">set of extended events</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set④">set</a>) whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item②">item</a> is an <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent">ExtendableEvent</a></code>. It is initially a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑤">set</a>.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑦">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-noexport id="service-worker-start-status">start status</dfn> which can be null or a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type">Completion</a>. It is initially null.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑧">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-noexport id="service-worker-all-fetch-listeners-are-empty-flag">all fetch listeners are empty flag</dfn>. It is initially unset.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker②⑨">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-noexport id="service-worker-list-of-router-rules">list of router rules</dfn> (a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <code class="idl"><a data-link-type="idl" href="#dictdef-routerrule" id="ref-for-dictdef-routerrule">RouterRule</a></code>s). It is initially an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③⓪">service worker</a> is said to be <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-noexport id="service-worker-running">running</dfn> if its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop">event loop</a> is running.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③①">service worker</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-noexport id="service-worker-service-worker-queue">[[service worker queue]]</dfn> (a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue" id="ref-for-parallel-queue">parallel queue</a>).</p>
     <section>
      <h4 class="heading settled" data-level="2.1.1" id="service-worker-lifetime"><span class="secno">2.1.1. </span><span class="content">Lifetime</span><a class="self-link" href="#service-worker-lifetime"></a></h4>
      <p>The lifetime of a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③②">service worker</a> is tied to the execution lifetime of events and not references held by <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①">service worker clients</a> to the <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker">ServiceWorker</a></code> object.</p>
      <p>A user agent <em>may</em> <a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker">terminate</a> <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③③">service workers</a> at any time it:</p>
      <ul>
       <li data-md>
        <p>Has no event to handle.</p>
       <li data-md>
        <p>Detects abnormal operation: such as infinite loops and tasks exceeding imposed time limits (if any) while handling the events.</p>
      </ul>
     </section>
     <section>
      <h4 class="heading settled" data-level="2.1.2" id="service-worker-events"><span class="secno">2.1.2. </span><span class="content">Events</span><a class="self-link" href="#service-worker-events"></a></h4>
      <p>The Service Workers specification defines <dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-service-worker-events">service worker events</dfn> (each of which is an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event">event</a>) that include (see the <a href="#execution-context-events">list</a>):</p>
      <ul>
       <li data-md>
        <p><dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-lifecycle-events">Lifecycle events</dfn>: <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event">install</a></code> and <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event">activate</a></code>.</p>
       <li data-md>
        <p><dfn class="dfn-paneled" data-dfn-for="service worker" data-dfn-type="dfn" data-export id="dfn-functional-events">Functional events</dfn>: <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event">fetch</a></code> and the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event①">events</a> defined by other specifications that <a href="#extensibility">extend</a> the Service Workers specification. (See the <a href="#execution-context-events">list</a>.)</p>
       <li data-md>
        <p><code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message">message</a></code> and <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-messageerror" id="ref-for-eventdef-serviceworkerglobalscope-messageerror">messageerror</a></code>.</p>
      </ul>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="2.2" id="service-worker-timing"><span class="secno">2.2. </span><span class="content">Service Worker Timing</span><a class="self-link" href="#service-worker-timing"></a></h3>
     <p>Service workers mark certain points in time that are later exposed by the <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/navigation-timing/#dom-performancenavigationtiming" id="ref-for-dom-performancenavigationtiming">navigation timing</a> API and <a class="idl-code" data-link-type="interface" href="https://w3c.github.io/resource-timing/#dom-performanceresourcetiming" id="ref-for-dom-performanceresourcetiming">resource timing</a> API.</p>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="service-worker-timing-info">service worker timing info</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a>. It has the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">items</a>:</p>
     <section>
      <dl>
       <dt data-md><dfn class="dfn-paneled" data-dfn-for="service worker timing info" data-dfn-type="dfn" data-export id="service-worker-timing-info-start-time">start time</dfn>
       <dd data-md>
        <p>A <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp">DOMHighResTimeStamp</a></code>, initially 0.</p>
       <dt data-md><dfn class="dfn-paneled" data-dfn-for="service worker timing info" data-dfn-type="dfn" data-export id="service-worker-timing-info-fetch-event-dispatch-time">fetch event dispatch time</dfn>
       <dd data-md>
        <p>A <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①">DOMHighResTimeStamp</a></code>, initially 0.</p>
       <dt data-md><dfn class="dfn-paneled" data-dfn-for="service worker timing info" data-dfn-type="dfn" data-export id="service-worker-timing-info-worker-router-evaluation-start">worker router evaluation start</dfn>
       <dd data-md>
        <p>A <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp②">DOMHighResTimeStamp</a></code>, initially 0.</p>
       <dt data-md><dfn class="dfn-paneled" data-dfn-for="service worker timing info" data-dfn-type="dfn" data-export id="service-worker-timing-info-worker-cache-lookup-start">worker cache lookup start</dfn>
       <dd data-md>
        <p>A <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp③">DOMHighResTimeStamp</a></code>, initially 0.</p>
       <dt data-md><dfn class="dfn-paneled" data-dfn-for="service worker timing info" data-dfn-type="dfn" data-export id="service-worker-timing-info-worker-matched-router-source">worker matched router source</dfn>
       <dd data-md>
        <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString">DOMString</a></code>, initially an empty string.</p>
       <dt data-md><dfn class="dfn-paneled" data-dfn-for="service worker timing info" data-dfn-type="dfn" data-export id="service-worker-timing-info-worker-final-router-source">worker final router source</dfn>
       <dd data-md>
        <p>A <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①">DOMString</a></code>, initially an empty string.</p>
      </dl>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="2.3" id="service-worker-registration-concept"><span class="secno">2.3. </span><span class="content">Service Worker Registration</span><a class="self-link" href="#service-worker-registration-concept"></a></h3>
     <p>A <dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export id="dfn-service-worker-registration">service worker registration</dfn> is a tuple of a <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url">scope url</a>, a <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key">storage key</a>, and a set of <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③④">service workers</a>, an <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker">installing worker</a>, a <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker">waiting worker</a>, and an <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker">active worker</a>. A user agent <em>may</em> enable many <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①">service worker registrations</a> at a single origin so long as the <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①">scope url</a> of the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②">service worker registration</a> differs. A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③">service worker registration</a> of an identical <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url②">scope url</a> when one already exists in the user agent causes the existing <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④">service worker registration</a> to be replaced.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="service-worker-registration-storage-key">storage key</dfn> (a <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key①">storage key</a>).</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑥">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="dfn-scope-url">scope url</dfn> (a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL</a>).</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑦">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="dfn-installing-worker">installing worker</dfn> (a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③⑤">service worker</a> or null) whose <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state">state</a> is "<code>installing</code>". It is initially set to null.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑧">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="dfn-waiting-worker">waiting worker</dfn> (a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③⑥">service worker</a> or null) whose <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①">state</a> is "<code>installed</code>". It is initially set to null.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑨">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="dfn-active-worker">active worker</dfn> (a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③⑦">service worker</a> or null) whose <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state②">state</a> is either "<code>activating</code>" or "<code>activated</code>". It is initially set to null.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①⓪">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="dfn-last-update-check-time">last update check time</dfn>. It is initially set to null.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①①">service worker registration</a> is said to be <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-noexport id="service-worker-registration-stale">stale</dfn> if the registration’s <a data-link-type="dfn" href="#dfn-last-update-check-time" id="ref-for-dfn-last-update-check-time">last update check time</a> is non-null and the time difference in seconds calculated by the current time minus the registration’s <a data-link-type="dfn" href="#dfn-last-update-check-time" id="ref-for-dfn-last-update-check-time①">last update check time</a> is greater than 86400.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①②">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="dfn-update-via-cache">update via cache mode</dfn>, which is "<code>imports</code>", "<code>all</code>", or "<code>none</code>". It is initially set to "<code>imports</code>".</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①③">service worker registration</a> has one or more <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="dfn-service-worker-registration-task-queue">task queues</dfn> that back up the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task">tasks</a> from its <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①">active worker</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①">event loop</a>’s corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue">task queues</a>. (The target task sources for this back up operation are the <a data-link-type="dfn" href="#dfn-handle-fetch-task-source" id="ref-for-dfn-handle-fetch-task-source">handle fetch task source</a> and the <a data-link-type="dfn" href="#dfn-handle-functional-event-task-source" id="ref-for-dfn-handle-functional-event-task-source">handle functional event task source</a>.) The user agent dumps the <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②">active worker</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task①">tasks</a> to the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①④">service worker registration</a>’s <a data-link-type="dfn" href="#dfn-service-worker-registration-task-queue" id="ref-for-dfn-service-worker-registration-task-queue">task queues</a> when the <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③">active worker</a> is <a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker①">terminated</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">re-queues those tasks</a> to the <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④">active worker</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop②">event loop</a>’s corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue①">task queues</a> when the <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤">active worker</a> spins off. Unlike the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue②">task queues</a> owned by <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop③">event loops</a>, the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①⑤">service worker registration</a>’s <a data-link-type="dfn" href="#dfn-service-worker-registration-task-queue" id="ref-for-dfn-service-worker-registration-task-queue①">task queues</a> are not processed by any <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop④">event loops</a> in and of itself.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①⑥">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="service-worker-registration-navigationpreloadmanager"><code class="idl"><a data-link-type="idl" href="#navigationpreloadmanager" id="ref-for-navigationpreloadmanager">NavigationPreloadManager</a></code></dfn> object.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①⑦">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="service-worker-registration-navigation-preload-enabled-flag">navigation preload enabled flag</dfn>. It is initially unset.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①⑧">service worker registration</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="service-worker-registration-navigation-preload-header-value">navigation preload header value</dfn>, which is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#byte-sequence" id="ref-for-byte-sequence">byte sequence</a>. It is initially set to `<code>true</code>`.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration①⑨">service worker registration</a> is said to be <dfn class="dfn-paneled" data-dfn-for="service worker registration" data-dfn-type="dfn" data-export id="dfn-service-worker-registration-unregistered">unregistered</dfn> if <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map">registration map</a>[this <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⓪">service worker registration</a>’s (<a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key">storage key</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer">serialized</a> <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url③">scope url</a>)] is not this <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②①">service worker registration</a>.</p>
     <section>
      <h4 class="heading settled" data-level="2.3.1" id="service-worker-registration-lifetime"><span class="secno">2.3.1. </span><span class="content">Lifetime</span><a class="self-link" href="#service-worker-registration-lifetime"></a></h4>
      <p>A user agent <em>must</em> persistently keep a list of <a data-link-type="dfn" href="#register" id="ref-for-register">registered</a> <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②②">service worker registrations</a> unless otherwise they are explicitly <a data-link-type="dfn" href="#dfn-service-worker-registration-unregistered" id="ref-for-dfn-service-worker-registration-unregistered">unregistered</a>. A user agent has a <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map①">registration map</a> that stores the entries of the tuple of <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②③">service worker registration</a>’s (<a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key①">storage key</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①">serialized</a> <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url④">scope url</a>) and the corresponding <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②④">service worker registration</a>. The lifetime of <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⑤">service worker registrations</a> is beyond that of the <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration">ServiceWorkerRegistration</a></code> objects which represent them within the lifetime of their corresponding <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②">service worker clients</a>.</p>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="2.4" id="service-worker-client-concept"><span class="secno">2.4. </span><span class="content">Service Worker Client</span><a class="self-link" href="#service-worker-client-concept"></a></h3>
     <p>A <dfn class="dfn-paneled" data-dfn-for data-dfn-type="dfn" data-export id="dfn-service-worker-client">service worker client</dfn> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment" id="ref-for-environment">environment</a>.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③">service worker client</a> has an associated <dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export id="service-worker-client-discarded-flag">discarded flag</dfn>. It is initially unset.</p>
     <p>Each <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④">service worker client</a> has the following <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps" id="ref-for-environment-discarding-steps">environment discarding steps</a>:</p>
     <ol>
      <li data-md>
       <p>Set <var>client</var>’s <a data-link-type="dfn" href="#service-worker-client-discarded-flag" id="ref-for-service-worker-client-discarded-flag">discarded flag</a>.</p>
     </ol>
     <p class="note" role="note"><span class="marker">Note:</span> Implementations can discard clients whose <a data-link-type="dfn" href="#service-worker-client-discarded-flag" id="ref-for-service-worker-client-discarded-flag①">discarded flag</a> is set.</p>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑤">service worker client</a> has an algorithm defined as the <dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export id="service-worker-client-origin">origin</dfn> that returns the <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑥">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a> if the <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑦">service worker client</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object">environment settings object</a>, and the <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑧">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url">creation URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a> otherwise.</p>
     <p>A <dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export id="dfn-window-client">window client</dfn> is a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑨">service worker client</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global">global object</a> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code> object.</p>
     <p>A <dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export id="dfn-dedicatedworker-client">dedicated worker client</dfn> is a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①⓪">service worker client</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global①">global object</a> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope" id="ref-for-dedicatedworkerglobalscope">DedicatedWorkerGlobalScope</a></code> object.</p>
     <p>A <dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export id="dfn-sharedworker-client">shared worker client</dfn> is a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①①">service worker client</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global②">global object</a> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#sharedworkerglobalscope" id="ref-for-sharedworkerglobalscope">SharedWorkerGlobalScope</a></code> object.</p>
     <p>A <dfn class="dfn-paneled" data-dfn-for="service worker client" data-dfn-type="dfn" data-export id="dfn-worker-client">worker client</dfn> is either a <a data-link-type="dfn" href="#dfn-dedicatedworker-client" id="ref-for-dfn-dedicatedworker-client">dedicated worker client</a> or a <a data-link-type="dfn" href="#dfn-sharedworker-client" id="ref-for-dfn-sharedworker-client">shared worker client</a>.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="2.5" id="control-and-use"><span class="secno">2.5. </span><span class="content">Control and Use</span><a class="self-link" href="#control-and-use"></a></h3>
     <p>A <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①②">service worker client</a> has an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker">active service worker</a> that serves its own loading and its subresources. When a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①③">service worker client</a> has a non-null <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①">active service worker</a>, it is said to be <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="controlling|controls|controlled" data-noexport id="dfn-control">controlled</dfn> by that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②">active service worker</a>. When a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①④">service worker client</a> is <a data-link-type="dfn" href="#dfn-control" id="ref-for-dfn-control">controlled</a> by a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③⑧">service worker</a>, it is said that the <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①⑤">service worker client</a> is <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="using|uses|used" data-noexport id="dfn-use">using</dfn> the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker③⑨">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration">containing service worker registration</a>.
    A <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①⑥">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker③">active service worker</a> is determined as explained in the following subsections.</p>
     <p><em>The rest of the section is non-normative.</em></p>
     <p class="issue" id="issue-f6a7ea80"><a class="self-link" href="#issue-f6a7ea80"></a> The behavior in this section is not fully specified yet and will be specified in <a href="https://html.spec.whatwg.org">HTML Standard</a>. The work is tracked by the <a href="https://github.com/w3c/ServiceWorker/issues/765">issue</a> and the <a href="https://github.com/whatwg/html/pull/2809">pull request</a>.</p>
     <section>
      <h4 class="heading settled" data-level="2.5.1" id="control-and-use-window-client"><span class="secno">2.5.1. </span><span class="content">The window client case</span><a class="self-link" href="#control-and-use-window-client"></a></h4>
      <p>A <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client">window client</a> is <a href="https://html.spec.whatwg.org/#set-up-a-window-environment-settings-object">created</a> when a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context">browsing context</a> is <a href="https://html.spec.whatwg.org/#creating-a-new-browsing-context">created</a> and when it <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate">navigates</a>.</p>
      <p>When a <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client①">window client</a> is <a href="https://html.spec.whatwg.org/#set-up-a-window-environment-settings-object">created</a> in the process of a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context①">browsing context</a> <a href="https://html.spec.whatwg.org/#creating-a-new-browsing-context">creation</a>:</p>
      <p>If the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context②">browsing context</a>’s initial <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document">active document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①">origin</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque">opaque origin</a>, the <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client②">window client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker④">active service worker</a> is set to null.
      Otherwise, it is set to the creator <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document">document</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①⑦">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker⑤">active service worker</a>.</p>
      <p>When a <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client③">window client</a> is <a href="https://html.spec.whatwg.org/#set-up-a-window-environment-settings-object">created</a> in the process of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context③">browsing context</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate①">navigation</a>:</p>
      <p>If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">fetch</a> is routed through <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch">HTTP fetch</a>, the <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client④">window client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker⑥">active service worker</a> is set to the result of the <a data-link-type="dfn" href="#match-service-worker-registration" id="ref-for-match-service-worker-registration">service worker registration matching</a>.
      Otherwise, if the created <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document①">document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②">origin</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque①">opaque origin</a> or not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same</a> as its creator <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document②">document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③">origin</a>, the <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client⑤">window client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker⑦">active service worker</a> is set to null.
      Otherwise, it is set to the creator <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document③">document</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①⑧">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker⑧">active service worker</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> For an initial replacement <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate②">navigation</a>, the initial <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client⑥">window client</a> that was <a href="https://html.spec.whatwg.org/#set-up-a-window-environment-settings-object">created</a> when the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context④">browsing context</a> was <a href="https://html.spec.whatwg.org/#creating-a-new-browsing-context">created</a> is reused, but the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker⑨">active service worker</a> is determined by the same behavior as above.</p>
      <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="element-attr" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox" id="ref-for-attr-iframe-sandbox">Sandboxed</a> <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element">iframe</a></code>s without the sandboxing directives, <code>allow-same-origin</code> and <code>allow-scripts</code>, result in having the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①⓪">active service worker</a> value of null as their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④">origin</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque②">opaque origin</a>.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="2.5.2" id="control-and-use-worker-client"><span class="secno">2.5.2. </span><span class="content">The worker client case</span><a class="self-link" href="#control-and-use-worker-client"></a></h4>
      <p>A <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client">worker client</a> is <a href="https://html.spec.whatwg.org/#set-up-a-worker-environment-settings-object">created</a> when the user agent <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#run-a-worker" id="ref-for-run-a-worker">runs a worker</a>.</p>
      <p>When the <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client①">worker client</a> is created:</p>
      <p>When the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①">fetch</a> is routed through <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch①">HTTP fetch</a>, the <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client②">worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①①">active service worker</a> is set to the result of the <a data-link-type="dfn" href="#match-service-worker-registration" id="ref-for-match-service-worker-registration①">service worker registration matching</a>.
      Otherwise, if the <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client③">worker client</a>’s <a data-link-type="dfn" href="#service-worker-client-origin" id="ref-for-service-worker-client-origin">origin</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque③">opaque origin</a>, or the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a> is a <a data-link-type="dfn" href="https://w3c.github.io/FileAPI/#blob-url" id="ref-for-blob-url">blob URL</a> and the <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client④">worker client</a>’s <a data-link-type="dfn" href="#service-worker-client-origin" id="ref-for-service-worker-client-origin①">origin</a> is not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same</a> as the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑤">origin</a> of the last <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item③">item</a> in the <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client⑤">worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object">global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set" id="ref-for-concept-WorkerGlobalScope-owner-set">owner set</a>, the <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client⑥">worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①②">active service worker</a> is set to null.
      Otherwise, it is set to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①③">active service worker</a> of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①">environment settings object</a> of the last <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item④">item</a> in the <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client⑦">worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object" id="ref-for-global-object①">global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set" id="ref-for-concept-WorkerGlobalScope-owner-set①">owner set</a>.</p>
     </section>
     <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client⑦">Window clients</a> and <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client⑧">worker clients</a> with a <a href="https://datatracker.ietf.org/doc/html/rfc2397#section-2">data: URL</a> result in having the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①④">active service worker</a> value of null as their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑥">origin</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque" id="ref-for-concept-origin-opaque④">opaque origin</a>. <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client⑧">Window clients</a> and <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client⑨">worker clients</a> with a <a data-link-type="dfn" href="https://w3c.github.io/FileAPI/#blob-url" id="ref-for-blob-url①">blob URL</a> can inherit the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①⑤">active service worker</a> of their creator <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document④">document</a> or owner, but if the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①">request</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin" id="ref-for-concept-request-origin">origin</a> is not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same</a> as the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑦">origin</a> of their creator <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document⑤">document</a> or owner, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①⑥">active service worker</a> is set to null.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="2.6" id="task-sources"><span class="secno">2.6. </span><span class="content">Task Sources</span><a class="self-link" href="#task-sources"></a></h3>
     <p>The following additional <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source">task sources</a> are used by <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⓪">service workers</a>.</p>
     <dl>
      <dt data-md>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="dfn-handle-fetch-task-source">handle fetch task source</dfn>
      <dd data-md>
       <p>This <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source①">task source</a> is used for <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch">dispatching</a> <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event①">fetch</a></code> events to <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④①">service workers</a>.</p>
      <dt data-md>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="dfn-handle-functional-event-task-source">handle functional event task source</dfn>
      <dd data-md>
       <p>This <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source②">task source</a> is used for features that <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch①">dispatch</a> other <a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events">functional events</a>, e.g. <code class="idl"><a class="idl-code" data-link-type="event" href="https://w3c.github.io/push-api/#pushevent-interface" id="ref-for-pushevent-interface">push</a></code> events, to <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④②">service workers</a>.</p>
       <p class="note" role="note"><span class="marker">Note:</span> A user agent may use a separate task source for each functional event type in order to avoid a head-of-line blocking phenomenon for certain functional events.</p>
     </dl>
    </section>
    <section>
     <h3 class="heading settled" data-level="2.7" id="user-agent-shutdown"><span class="secno">2.7. </span><span class="content">User Agent Shutdown</span><a class="self-link" href="#user-agent-shutdown"></a></h3>
     <p>A user agent <em>must</em> maintain the state of its stored <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⑥">service worker registrations</a> across restarts with the following rules:</p>
     <ul>
      <li data-md>
       <p>An <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①">installing worker</a> does not persist but is discarded. If the <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker②">installing worker</a> was the only <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④③">service worker</a> for the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⑦">service worker registration</a>, the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⑧">service worker registration</a> is discarded.</p>
      <li data-md>
       <p>A <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①">waiting worker</a> promotes to an <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑥">active worker</a>.</p>
     </ul>
     <p>To attain this, the user agent <em>must</em> invoke <a data-link-type="dfn" href="#handle-user-agent-shutdown" id="ref-for-handle-user-agent-shutdown">Handle User Agent Shutdown</a> when it terminates.</p>
    </section>
   </section>
   <section>
    <h2 class="heading settled" data-level="3" id="document-context"><span class="secno">3. </span><span class="content">Client Context</span><a class="self-link" href="#document-context"></a></h2>
    <div class="example" id="example-c7be5225">
     <a class="self-link" href="#example-c7be5225"></a>
    Bootstrapping with a service worker:

    
<pre class="highlight"><c- c1>// scope defaults to the path the script sits in</c->
<c- c1>// "/" in this example</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/serviceworker.js"</c-><c- p>).</c->then<c- p>(</c->registration <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- u>"success!"</c-><c- p>);</c->
  <c- k>if</c-> <c- p>(</c->registration<c- p>.</c->installing<c- p>)</c-> <c- p>{</c->
    registration<c- p>.</c->installing<c- p>.</c->postMessage<c- p>(</c-><c- u>"Howdy from your installing page."</c-><c- p>);</c->
  <c- p>}</c->
<c- p>},</c-> err <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- u>"Installing the worker failed!"</c-><c- p>,</c-> err<c- p>);</c->
<c- p>});</c->
</pre>
    </div>
    <section>
     <h3 class="heading settled" data-level="3.1" id="serviceworker-interface"><span class="secno">3.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①">ServiceWorker</a></code></span><a class="self-link" href="#serviceworker-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="serviceworker"><code><c- g>ServiceWorker</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-serviceworker-scripturl" id="ref-for-dom-serviceworker-scripturl"><c- g>scriptURL</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-serviceworkerstate" id="ref-for-enumdef-serviceworkerstate"><c- n>ServiceWorkerState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerState" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state"><c- g>state</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworker-postmessage" id="ref-for-dom-serviceworker-postmessage"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker/postMessage(message, transfer)" data-dfn-type="argument" data-export id="dom-serviceworker-postmessage-message-transfer-message"><code><c- g>message</c-></code></dfn>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object"><c- b>object</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker/postMessage(message, transfer)" data-dfn-type="argument" data-export id="dom-serviceworker-postmessage-message-transfer-transfer"><code><c- g>transfer</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworker-postmessage-message-options" id="ref-for-dom-serviceworker-postmessage-message-options"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any①"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker/postMessage(message, options), ServiceWorker/postMessage(message)" data-dfn-type="argument" data-export id="dom-serviceworker-postmessage-message-options-message"><code><c- g>message</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions" id="ref-for-structuredserializeoptions"><c- n>StructuredSerializeOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker/postMessage(message, options), ServiceWorker/postMessage(message)" data-dfn-type="argument" data-export id="dom-serviceworker-postmessage-message-options-options"><code><c- g>options</c-></code></dfn> = {});

  // event
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworker-onstatechange" id="ref-for-dom-serviceworker-onstatechange"><c- g>onstatechange</c-></a>;
};
<a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②"><c- n>ServiceWorker</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#abstractworker" id="ref-for-abstractworker"><c- n>AbstractWorker</c-></a>;

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-serviceworkerstate"><code><c- g>ServiceWorkerState</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-parsed"><code><c- s>"parsed"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-installing"><code><c- s>"installing"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-installed"><code><c- s>"installed"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-activating"><code><c- s>"activating"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-activated"><code><c- s>"activated"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerState" data-dfn-type="enum-value" data-export id="dom-serviceworkerstate-redundant"><code><c- s>"redundant"</c-></code></dfn>
};
</pre>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker③">ServiceWorker</a></code> object represents a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④④">service worker</a>. Each <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker④">ServiceWorker</a></code> object is associated with a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑤">service worker</a>. Multiple separate objects implementing the <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑤">ServiceWorker</a></code> interface across documents and workers can all be associated with the same <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑥">service worker</a> simultaneously.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑥">ServiceWorker</a></code> object has an associated <code class="idl"><a data-link-type="idl" href="#enumdef-serviceworkerstate" id="ref-for-enumdef-serviceworkerstate①">ServiceWorkerState</a></code> object which is itself associated with <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑦">service worker</a>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state③">state</a>.</p>
     <section>
      <h4 class="heading settled" data-level="3.1.1" id="service-worker-creation"><span class="secno">3.1.1. </span><span class="content">Getting <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑦">ServiceWorker</a></code> instances</span><a class="self-link" href="#service-worker-creation"></a></h4>
      <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②">environment settings object</a> has a <dfn class="dfn-paneled" data-dfn-for="environment settings object" data-dfn-type="dfn" data-noexport id="environment-settings-object-service-worker-object-map">service worker object map</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">map</a> where the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">keys</a> are <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑧">service workers</a> and the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values">values</a> are <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑧">ServiceWorker</a></code> objects.</p>
      <section class="algorithm" data-algorithm="service-worker-creation-algorithm">
       
        To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="get the service worker object|getting the service worker object" data-noexport id="get-the-service-worker-object">get the service worker object</dfn> representing <var>serviceWorker</var> (a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker④⑨">service worker</a>) in <var>environment</var> (an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object③">environment settings object</a>), run these steps:


       <ol>
        <li data-md>
         <p>Let <var>objectMap</var> be <var>environment</var>’s <a data-link-type="dfn" href="#environment-settings-object-service-worker-object-map" id="ref-for-environment-settings-object-service-worker-object-map">service worker object map</a>.</p>
        <li data-md>
         <p>If <var>objectMap</var>[<var>serviceWorker</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exist</a>, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>serviceWorkerObj</var> be a new <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker⑨">ServiceWorker</a></code> in <var>environment</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm">Realm</a>, and associate it with <var>serviceWorker</var>.</p>
          <li data-md>
           <p>Set <var>serviceWorkerObj</var>’s <code class="idl"><a data-link-type="idl" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state①">state</a></code> to <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state④">state</a>.</p>
          <li data-md>
           <p>Set <var>objectMap</var>[<var>serviceWorker</var>] to <var>serviceWorkerObj</var>.</p>
         </ol>
        <li data-md>
         <p>Return <var>objectMap</var>[<var>serviceWorker</var>].</p>
       </ol>
      </section>
     </section>
     <section>
      <h4 class="heading settled" data-level="3.1.2" id="service-worker-url"><span class="secno">3.1.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworker-scripturl" id="ref-for-dom-serviceworker-scripturl①">scriptURL</a></code></span><a class="self-link" href="#service-worker-url"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="attribute" data-export id="dom-serviceworker-scripturl"><code>scriptURL</code></dfn> getter steps are to return the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⓪">service worker</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer②">serialized</a> <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url">script url</a>.</p>
      <div class="example" id="example-afd15a33">
       <a class="self-link" href="#example-afd15a33"></a>
        For example, consider a document created by a navigation to <code>https://example.com/app.html</code> which <a data-link-type="dfn" href="#match-service-worker-registration" id="ref-for-match-service-worker-registration②">matches</a> via the following registration call which has been previously executed:

        
<pre class="highlight"><c- c1>// Script on the page https://example.com/app.html</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/service_worker.js"</c-><c- p>);</c->
</pre>
       <p>The value of <code>navigator.serviceWorker.controller.scriptURL</code> will be "<code>https://example.com/service_worker.js</code>".</p>
      </div>
     </section>
     <section>
      <h4 class="heading settled" data-level="3.1.3" id="service-worker-state"><span class="secno">3.1.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state②">state</a></code></span><a class="self-link" href="#service-worker-state"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="attribute" data-export id="dom-serviceworker-state"><code>state</code></dfn> attribute <em>must</em> return the value (in <code class="idl"><a data-link-type="idl" href="#enumdef-serviceworkerstate" id="ref-for-enumdef-serviceworkerstate②">ServiceWorkerState</a></code> enumeration) to which it was last set.</p>
     </section>
     <section class="algorithm" data-algorithm="service-worker-postmessage">
      <h4 class="heading settled" data-level="3.1.4" id="service-worker-postmessage"><span class="secno">3.1.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworker-postmessage" id="ref-for-dom-serviceworker-postmessage①">postMessage(message, transfer)</a></code></span><a class="self-link" href="#service-worker-postmessage"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="method" data-export id="dom-serviceworker-postmessage"><code>postMessage(<var>message</var>, <var>transfer</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>options</var> be «[ "transfer" → <var>transfer</var> ]».</p>
       <li data-md>
        <p>Invoke <code class="idl"><a data-link-type="idl" href="#dom-serviceworker-postmessage-message-options" id="ref-for-dom-serviceworker-postmessage-message-options①">postMessage(message, options)</a></code> with <var>message</var> and <var>options</var> as the arguments.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="service-worker-postmessage-options">
      <h4 class="heading settled" data-level="3.1.5" id="service-worker-postmessage-options"><span class="secno">3.1.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworker-postmessage-message-options" id="ref-for-dom-serviceworker-postmessage-message-options②">postMessage(message, options)</a></code></span><a class="self-link" href="#service-worker-postmessage-options"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="method" data-export data-lt="postMessage(message, options)|postMessage(message)" id="dom-serviceworker-postmessage-message-options"><code>postMessage(<var>message</var>, <var>options</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>serviceWorker</var> be the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤①">service worker</a> represented by <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>.</p>
       <li data-md>
        <p>Let <var>incumbentSettings</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#incumbent-settings-object" id="ref-for-incumbent-settings-object">incumbent settings object</a>.</p>
       <li data-md>
        <p>Let <var>incumbentGlobal</var> be <var>incumbentSettings</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global③">global object</a>.</p>
       <li data-md>
        <p>Let <var>serializeWithTransferResult</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer">StructuredSerializeWithTransfer</a>(<var>message</var>, <var>options</var>["<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer" id="ref-for-dom-structuredserializeoptions-transfer">transfer</a></code>"]). Rethrow any exceptions.</p>
       <li data-md>
        <p>If the result of running the <a data-link-type="dfn" href="#should-skip-event" id="ref-for-should-skip-event">Should Skip Event</a> algorithm with "message" and <var>serviceWorker</var> is true, then return.</p>
       <li data-md>
        <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>If the result of running the <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker">Run Service Worker</a> algorithm with <var>serviceWorker</var> is <em>failure</em>, then return.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①">Queue a task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a> to run the following steps:</p>
          <ol>
           <li data-md>
            <p>Let <var>source</var> be determined by switching on the type of <var>incumbentGlobal</var>:</p>
            <dl class="switch">
             <dt><code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①">ServiceWorkerGlobalScope</a></code>
             <dd>The result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object">getting the service worker object</a> that represents <var>incumbentGlobal</var>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker">service worker</a> in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a> of <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object">global object</a>.
             <dt><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①">Window</a></code>
             <dd>a new <code class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient">WindowClient</a></code> object that represents <var>incumbentGlobal</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>.
             <dt>Otherwise
             <dd>a new <code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client">Client</a></code> object that represents <var>incumbentGlobal</var>’s associated worker
            </dl>
           <li data-md>
            <p>Let <var>origin</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin">serialization</a> of <var>incumbentSettings</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①">origin</a>.</p>
           <li data-md>
            <p>Let <var>destination</var> be the <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②">ServiceWorkerGlobalScope</a></code> object associated with <var>serviceWorker</var>.</p>
           <li data-md>
            <p>Let <var>deserializeRecord</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" id="ref-for-structureddeserializewithtransfer">StructuredDeserializeWithTransfer</a>(<var>serializeWithTransferResult</var>, <var>destination</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm" id="ref-for-concept-global-object-realm">Realm</a>).</p>
            <p>If this throws an exception, let <var>e</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create" id="ref-for-concept-event-create">creating an event</a> named <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-messageerror" id="ref-for-eventdef-serviceworkerglobalscope-messageerror①">messageerror</a></code>, using <code class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent">ExtendableMessageEvent</a></code>, with the <code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-origin" id="ref-for-dom-extendablemessageevent-origin">origin</a></code> attribute initialized to <var>origin</var> and the <code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-source" id="ref-for-dom-extendablemessageevent-source">source</a></code> attribute initialized to <var>source</var>.</p>
           <li data-md>
            <p>Else:</p>
            <ol>
             <li data-md>
              <p>Let <var>messageClone</var> be <var>deserializeRecord</var>.[[Deserialized]].</p>
             <li data-md>
              <p>Let <var>newPorts</var> be a new <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type" id="ref-for-dfn-frozen-array-type">frozen array</a> consisting of all <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport">MessagePort</a></code> objects in <var>deserializeRecord</var>.[[TransferredValues]], if any, maintaining their relative order.</p>
             <li data-md>
              <p>Let <var>e</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create" id="ref-for-concept-event-create①">creating an event</a> named <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message①">message</a></code>, using <code class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent①">ExtendableMessageEvent</a></code>, with the <code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-origin" id="ref-for-dom-extendablemessageevent-origin①">origin</a></code> attribute initialized to <var>origin</var>, the <code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-source" id="ref-for-dom-extendablemessageevent-source①">source</a></code> attribute initialized to <var>source</var>, the <code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-data" id="ref-for-dom-extendablemessageevent-data">data</a></code> attribute initialized to <var>messageClone</var>, and the <code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-ports" id="ref-for-dom-extendablemessageevent-ports">ports</a></code> attribute initialized to <var>newPorts</var>.</p>
            </ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch②">Dispatch</a> <var>e</var> at <var>destination</var>.</p>
           <li data-md>
            <p>Invoke <a data-link-type="dfn" href="#update-service-worker-extended-events-set" id="ref-for-update-service-worker-extended-events-set">Update Service Worker Extended Events Set</a> with <var>serviceWorker</var> and <var>e</var>.</p>
          </ol>
        </ol>
      </ol>
     </section>
     <section>
      <h4 class="heading settled" data-level="3.1.6" id="service-worker-event-handler"><span class="secno">3.1.6. </span><span class="content">Event handler</span><a class="self-link" href="#service-worker-event-handler"></a></h4>
      <p>The following is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handler</a> (and its corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event type</a>) that <em>must</em> be supported, as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes">event handler IDL attributes</a>, by all objects implementing <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⓪">ServiceWorker</a></code> interface:</p>
      <table class="data">
       <thead>
        <tr>
         <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers①">event handler</a>
         <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type①">event handler event type</a>
       <tbody>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="attribute" data-export id="dom-serviceworker-onstatechange"><code>onstatechange</code></dfn>
         <td><code class="idl"><a data-link-type="idl" href="#eventdef-serviceworker-statechange" id="ref-for-eventdef-serviceworker-statechange">statechange</a></code>
      </table>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="3.2" id="serviceworkerregistration-interface"><span class="secno">3.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①">ServiceWorkerRegistration</a></code></span><a class="self-link" href="#serviceworkerregistration-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="serviceworkerregistration"><code><c- g>ServiceWorkerRegistration</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker①①"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing"><c- g>installing</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker①②"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting"><c- g>waiting</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker①③"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active"><c- g>active</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationpreloadmanager" id="ref-for-navigationpreloadmanager①"><c- n>NavigationPreloadManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationPreloadManager" href="#dom-serviceworkerregistration-navigationpreload" id="ref-for-dom-serviceworkerregistration-navigationpreload"><c- g>navigationPreload</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-serviceworkerregistration-scope" id="ref-for-dom-serviceworkerregistration-scope"><c- g>scope</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-serviceworkerupdateviacache" id="ref-for-enumdef-serviceworkerupdateviacache"><c- n>ServiceWorkerUpdateViaCache</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerUpdateViaCache" href="#dom-serviceworkerregistration-updateviacache" id="ref-for-dom-serviceworkerregistration-updateviacache"><c- g>updateViaCache</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration②"><c- n>ServiceWorkerRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerregistration-update" id="ref-for-dom-serviceworkerregistration-update"><c- g>update</c-></a>();
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerregistration-unregister" id="ref-for-dom-serviceworkerregistration-unregister"><c- g>unregister</c-></a>();

  // event
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerregistration-onupdatefound" id="ref-for-dom-serviceworkerregistration-onupdatefound"><c- g>onupdatefound</c-></a>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-serviceworkerupdateviacache"><code><c- g>ServiceWorkerUpdateViaCache</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerUpdateViaCache" data-dfn-type="enum-value" data-export id="dom-serviceworkerupdateviacache-imports"><code><c- s>"imports"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerUpdateViaCache" data-dfn-type="enum-value" data-export id="dom-serviceworkerupdateviacache-all"><code><c- s>"all"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerUpdateViaCache" data-dfn-type="enum-value" data-export id="dom-serviceworkerupdateviacache-none"><code><c- s>"none"</c-></code></dfn>
};
</pre>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration③">ServiceWorkerRegistration</a></code> has a <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="dfn" data-export id="serviceworkerregistration-service-worker-registration">service worker registration</dfn> (a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration②⑨">service worker registration</a>).</p>
     <section>
      <h4 class="heading settled" data-level="3.2.1" id="service-worker-registration-creation"><span class="secno">3.2.1. </span><span class="content">Getting <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration④">ServiceWorkerRegistration</a></code> instances</span><a class="self-link" href="#service-worker-registration-creation"></a></h4>
      <p>An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object④">environment settings object</a> has a <dfn class="dfn-paneled" data-dfn-for="environment settings object" data-dfn-type="dfn" data-noexport id="environment-settings-object-service-worker-registration-object-map">service worker registration object map</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">map</a> where the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①">keys</a> are <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⓪">service worker registrations</a> and the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①">values</a> are <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑤">ServiceWorkerRegistration</a></code> objects.</p>
      <section class="algorithm" data-algorithm="service-worker-registration-creation-algorithm">
       
        To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="get the service worker registration object|getting the service worker registration object" data-noexport id="get-the-service-worker-registration-object">get the service worker registration object</dfn> representing <var>registration</var> (a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③①">service worker registration</a>) in <var>environment</var> (an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object⑤">environment settings object</a>), run these steps:


       <ol>
        <li data-md>
         <p>Let <var>objectMap</var> be <var>environment</var>’s <a data-link-type="dfn" href="#environment-settings-object-service-worker-registration-object-map" id="ref-for-environment-settings-object-service-worker-registration-object-map">service worker registration object map</a>.</p>
        <li data-md>
         <p>If <var>objectMap</var>[<var>registration</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exist</a>, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>registrationObject</var> be a new <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑥">ServiceWorkerRegistration</a></code> in <var>environment</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm①">Realm</a>.</p>
          <li data-md>
           <p>Set <var>registrationObject</var>’s <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration" id="ref-for-serviceworkerregistration-service-worker-registration">service worker registration</a> to <var>registration</var>.</p>
          <li data-md>
           <p>Set <var>registrationObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing①">installing</a></code> attribute to null.</p>
          <li data-md>
           <p>Set <var>registrationObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting①">waiting</a></code> attribute to null.</p>
          <li data-md>
           <p>Set <var>registrationObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active①">active</a></code> attribute to null.</p>
          <li data-md>
           <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker③">installing worker</a> is not null, then set <var>registrationObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing②">installing</a></code> attribute to the result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object①">getting the service worker object</a> that represents <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker④">installing worker</a> in <var>environment</var>.</p>
          <li data-md>
           <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker②">waiting worker</a> is not null, then set <var>registrationObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting②">waiting</a></code> attribute to the result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object②">getting the service worker object</a> that represents <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker③">waiting worker</a> in <var>environment</var>.</p>
          <li data-md>
           <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑦">active worker</a> is not null, then set <var>registrationObject</var>’s <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active②">active</a></code> attribute to the result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object③">getting the service worker object</a> that represents <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑧">active worker</a> in <var>environment</var>.</p>
          <li data-md>
           <p>Set <var>objectMap</var>[<var>registration</var>] to <var>registrationObject</var>.</p>
         </ol>
        <li data-md>
         <p>Return <var>objectMap</var>[<var>registration</var>].</p>
       </ol>
      </section>
     </section>
     <section class="algorithm" data-algorithm="navigator-service-worker-installing">
      <h4 class="heading settled" data-level="3.2.2" id="navigator-service-worker-installing"><span class="secno">3.2.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing③">installing</a></code></span><a class="self-link" href="#navigator-service-worker-installing"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute" data-export id="dom-serviceworkerregistration-installing"><code>installing</code></dfn> attribute <em>must</em> return the value to which it was last set.</p>
      <p class="note" role="note"><span class="marker">Note:</span> Within a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm②">Realm</a>, there is only one <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①④">ServiceWorker</a></code> object per associated <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤②">service worker</a>.</p>
     </section>
     <section class="algorithm" data-algorithm="navigator-service-worker-waiting">
      <h4 class="heading settled" data-level="3.2.3" id="navigator-service-worker-waiting"><span class="secno">3.2.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting③">waiting</a></code></span><a class="self-link" href="#navigator-service-worker-waiting"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute" data-export id="dom-serviceworkerregistration-waiting"><code>waiting</code></dfn> attribute <em>must</em> return the value to which it was last set.</p>
      <p class="note" role="note"><span class="marker">Note:</span> Within a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm③">Realm</a>, there is only one <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⑤">ServiceWorker</a></code> object per associated <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤③">service worker</a>.</p>
     </section>
     <section class="algorithm" data-algorithm="navigator-service-worker-active">
      <h4 class="heading settled" data-level="3.2.4" id="navigator-service-worker-active"><span class="secno">3.2.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active③">active</a></code></span><a class="self-link" href="#navigator-service-worker-active"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute" data-export id="dom-serviceworkerregistration-active"><code>active</code></dfn> attribute <em>must</em> return the value to which it was last set.</p>
      <p class="note" role="note"><span class="marker">Note:</span> Within a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm④">Realm</a>, there is only one <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⑥">ServiceWorker</a></code> object per associated <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤④">service worker</a>.</p>
     </section>
     <section class="algorithm" data-algorithm="service-worker-registration-navigationpreload">
      <h4 class="heading settled" data-level="3.2.5" id="service-worker-registration-navigationpreload"><span class="secno">3.2.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-navigationpreload" id="ref-for-dom-serviceworkerregistration-navigationpreload①">navigationPreload</a></code></span><a class="self-link" href="#service-worker-registration-navigationpreload"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute" data-export id="dom-serviceworkerregistration-navigationpreload"><code>navigationPreload</code></dfn> getter steps are to return the <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration" id="ref-for-serviceworkerregistration-service-worker-registration①">service worker registration</a>’s <code class="idl"><a data-link-type="idl" href="#navigationpreloadmanager" id="ref-for-navigationpreloadmanager②">NavigationPreloadManager</a></code> object.</p>
     </section>
     <section class="algorithm" data-algorithm="service-worker-registration-scope">
      <h4 class="heading settled" data-level="3.2.6" id="service-worker-registration-scope"><span class="secno">3.2.6. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-scope" id="ref-for-dom-serviceworkerregistration-scope①">scope</a></code></span><a class="self-link" href="#service-worker-registration-scope"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute" data-export id="dom-serviceworkerregistration-scope"><code>scope</code></dfn> getter steps are to return the <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration" id="ref-for-serviceworkerregistration-service-worker-registration②">service worker registration</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer③">serialized</a> <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url⑤">scope url</a>.</p>
      <div class="example" id="example-0146b4b0"><a class="self-link" href="#example-0146b4b0"></a>
        In the example in <a href="#service-worker-url">§ 3.1.2 scriptURL</a>, the value of <code>registration.scope</code>, obtained from <code>navigator.serviceWorker.ready.then(registration => console.log(registration.scope))</code> for example, will be "<code>https://example.com/</code>".
      </div>
     </section>
     <section class="algorithm" data-algorithm="service-worker-registration-updateviacache">
      <h4 class="heading settled" data-level="3.2.7" id="service-worker-registration-updateviacache"><span class="secno">3.2.7. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-updateviacache" id="ref-for-dom-serviceworkerregistration-updateviacache①">updateViaCache</a></code></span><a class="self-link" href="#service-worker-registration-updateviacache"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute" data-export id="dom-serviceworkerregistration-updateviacache"><code>updateViaCache</code></dfn> getter steps are to return the <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration" id="ref-for-serviceworkerregistration-service-worker-registration③">service worker registration</a>’s <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache">update via cache mode</a>.</p>
     </section>
     <section class="algorithm" data-algorithm="service-worker-registration-update">
      <h4 class="heading settled" data-level="3.2.8" id="service-worker-registration-update"><span class="secno">3.2.8. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-update" id="ref-for-dom-serviceworkerregistration-update①">update()</a></code></span><a class="self-link" href="#service-worker-registration-update"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="method" data-export id="dom-serviceworkerregistration-update"><code>update()</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>registration</var> be the <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration" id="ref-for-serviceworkerregistration-service-worker-registration④">service worker registration</a>.</p>
       <li data-md>
        <p>Let <var>newestWorker</var> be the result of running <a data-link-type="dfn" href="#get-newest-worker" id="ref-for-get-newest-worker">Get Newest Worker</a> algorithm passing <var>registration</var> as its argument.</p>
       <li data-md>
        <p>If <var>newestWorker</var> is null, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with">a promise rejected with</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code> and abort these steps.</p>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a> <var>globalObject</var> is a <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope③">ServiceWorkerGlobalScope</a></code> object, and <var>globalObject</var>’s associated <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①">service worker</a>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state⑤">state</a> is "<code>installing</code>", return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①">a promise rejected with</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code> and abort these steps.</p>
       <li data-md>
        <p>Let <var>promise</var> be a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects">promise</a>.</p>
       <li data-md>
        <p>Let <var>job</var> be the result of running <a data-link-type="dfn" href="#create-job" id="ref-for-create-job">Create Job</a> with <em>update</em>, <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key②">storage key</a>, <var>registration</var>’s <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url⑥">scope url</a>, <var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url①">script url</a>, <var>promise</var>, and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>.</p>
       <li data-md>
        <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type">worker type</a> to <var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type">type</a>.</p>
       <li data-md>
        <p>Invoke <a data-link-type="dfn" href="#schedule-job" id="ref-for-schedule-job">Schedule Job</a> with <var>job</var>.</p>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="navigator-service-worker-unregister">
      <h4 class="heading settled" data-level="3.2.9" id="navigator-service-worker-unregister"><span class="secno">3.2.9. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-unregister" id="ref-for-dom-serviceworkerregistration-unregister①">unregister()</a></code></span><a class="self-link" href="#navigator-service-worker-unregister"></a></h4>
      <p class="note" role="note"><span class="marker">Note:</span> The <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-unregister" id="ref-for-dom-serviceworkerregistration-unregister②">unregister()</a></code> method unregisters the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③②">service worker registration</a>. It is important to note that the currently <a data-link-type="dfn" href="#dfn-control" id="ref-for-dfn-control①">controlled</a> <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client①⑨">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①⑦">active service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①">containing service worker registration</a> is effective until all the <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②⓪">service worker clients</a> (including itself) using this <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③③">service worker registration</a> unload. That is, the <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-unregister" id="ref-for-dom-serviceworkerregistration-unregister③">unregister()</a></code> method only affects subsequent <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate③">navigations</a>.</p>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="method" data-export id="dom-serviceworkerregistration-unregister"><code>unregister()</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>registration</var> be the <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration" id="ref-for-serviceworkerregistration-service-worker-registration⑤">service worker registration</a>.</p>
       <li data-md>
        <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
       <li data-md>
        <p>Let <var>job</var> be the result of running <a data-link-type="dfn" href="#create-job" id="ref-for-create-job①">Create Job</a> with <em>unregister</em>, <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key③">storage key</a>, <var>registration</var>’s <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url⑦">scope url</a>, null, <var>promise</var>, and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③">relevant settings object</a>.</p>
       <li data-md>
        <p>Invoke <a data-link-type="dfn" href="#schedule-job" id="ref-for-schedule-job①">Schedule Job</a> with <var>job</var>.</p>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section>
      <h4 class="heading settled" data-level="3.2.10" id="service-worker-registration-event-handler"><span class="secno">3.2.10. </span><span class="content">Event handler</span><a class="self-link" href="#service-worker-registration-event-handler"></a></h4>
      <p>The following is the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers②">event handler</a> (and its corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type②">event handler event type</a>) that <em>must</em> be supported, as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes①">event handler IDL attributes</a>, by all objects implementing <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑦">ServiceWorkerRegistration</a></code> interface:</p>
      <table class="data">
       <thead>
        <tr>
         <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers③">event handler</a>
         <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type③">event handler event type</a>
       <tbody>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="attribute" data-export id="dom-serviceworkerregistration-onupdatefound"><code>onupdatefound</code></dfn>
         <td><code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-registration-updatefound-event" id="ref-for-service-worker-registration-updatefound-event">updatefound</a></code>
      </table>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="3.3" id="navigator-serviceworker"><span class="secno">3.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#navigator-service-worker-attribute" id="ref-for-navigator-service-worker-attribute">navigator.serviceWorker</a></code></span><a class="self-link" href="#navigator-serviceworker"></a></h3>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject①"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer"><c- n>ServiceWorkerContainer</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerContainer" href="#navigator-service-worker-attribute" id="ref-for-navigator-service-worker-attribute①"><c- g>serviceWorker</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator" id="ref-for-workernavigator"><c- g>WorkerNavigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject②"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①"><c- n>ServiceWorkerContainer</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerContainer" href="#navigator-service-worker-attribute" id="ref-for-navigator-service-worker-attribute②"><c- g>serviceWorker</c-></a>;
};
</pre>
     <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator,WorkerNavigator" data-dfn-type="attribute" data-export id="navigator-service-worker-attribute"><code>serviceWorker</code></dfn> getter steps are to return the <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer②">ServiceWorkerContainer</a></code> object that is associated with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="3.4" id="serviceworkercontainer-interface"><span class="secno">3.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer③">ServiceWorkerContainer</a></code></span><a class="self-link" href="#serviceworkercontainer-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext④"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="serviceworkercontainer"><code><c- g>ServiceWorkerContainer</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget②"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker①⑦"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkercontainer-controller" id="ref-for-dom-serviceworkercontainer-controller"><c- g>controller</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑧"><c- n>ServiceWorkerRegistration</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<ServiceWorkerRegistration>" href="#dom-serviceworkercontainer-ready" id="ref-for-dom-serviceworkercontainer-ready"><c- g>ready</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration⑨"><c- n>ServiceWorkerRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-register" id="ref-for-dom-serviceworkercontainer-register"><c- g>register</c-></a>((<a data-link-type="idl-name" href="https://w3c.github.io/trusted-types/dist/spec/#trustedscripturl" id="ref-for-trustedscripturl"><c- n>TrustedScriptURL</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer/register(scriptURL, options), ServiceWorkerContainer/register(scriptURL)" data-dfn-type="argument" data-export id="dom-serviceworkercontainer-register-scripturl-options-scripturl"><code><c- g>scriptURL</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-registrationoptions" id="ref-for-dictdef-registrationoptions"><c- n>RegistrationOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer/register(scriptURL, options), ServiceWorkerContainer/register(scriptURL)" data-dfn-type="argument" data-export id="dom-serviceworkercontainer-register-scripturl-options-options"><code><c- g>options</c-></code></dfn> = {});

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject③"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise④"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①⓪"><c- n>ServiceWorkerRegistration</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-getregistration" id="ref-for-dom-serviceworkercontainer-getregistration"><c- g>getRegistration</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer/getRegistration(clientURL), ServiceWorkerContainer/getRegistration()" data-dfn-type="argument" data-export id="dom-serviceworkercontainer-getregistration-clienturl-clienturl"><code><c- g>clientURL</c-></code></dfn> = "");
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject④"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①①"><c- n>ServiceWorkerRegistration</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-getregistrations" id="ref-for-dom-serviceworkercontainer-getregistrations"><c- g>getRegistrations</c-></a>();

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-startmessages" id="ref-for-dom-serviceworkercontainer-startmessages"><c- g>startMessages</c-></a>();


  // events
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-oncontrollerchange" id="ref-for-dom-serviceworkercontainer-oncontrollerchange"><c- g>oncontrollerchange</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-onmessage" id="ref-for-dom-serviceworkercontainer-onmessage"><c- g>onmessage</c-></a>; // event.source of message events is ServiceWorker object
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-onmessageerror" id="ref-for-dom-serviceworkercontainer-onmessageerror"><c- g>onmessageerror</c-></a>;
};
</pre>
<pre class="idl highlight def" id="registration-option-list-dictionary"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-registrationoptions"><code><c- g>RegistrationOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RegistrationOptions" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-registrationoptions-scope"><code><c- g>scope</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workertype" id="ref-for-workertype"><c- n>WorkerType</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;classic&quot;" data-dfn-for="RegistrationOptions" data-dfn-type="dict-member" data-export data-type="WorkerType" id="dom-registrationoptions-type"><code><c- g>type</c-></code></dfn> = "classic";
  <a data-link-type="idl-name" href="#enumdef-serviceworkerupdateviacache" id="ref-for-enumdef-serviceworkerupdateviacache①"><c- n>ServiceWorkerUpdateViaCache</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;imports&quot;" data-dfn-for="RegistrationOptions" data-dfn-type="dict-member" data-export data-type="ServiceWorkerUpdateViaCache" id="dom-registrationoptions-updateviacache"><code><c- g>updateViaCache</c-></code></dfn> = "imports";
};
</pre>
     <p>The user agent <em>must</em> create a <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer④">ServiceWorkerContainer</a></code> object when a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator①">Navigator</a></code> object or a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator" id="ref-for-workernavigator①">WorkerNavigator</a></code> object is created and associate it with that object.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑤">ServiceWorkerContainer</a></code> provides capabilities to register, unregister, and update the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③④">service worker registrations</a>, and provides access to the state of the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⑤">service worker registrations</a> and their associated <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑤">service workers</a>.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑥">ServiceWorkerContainer</a></code> has an associated <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerContainer" data-dfn-type="dfn" data-noexport id="serviceworkercontainer-service-worker-client">service worker client</dfn>, which is a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②①">service worker client</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global④">global object</a> is associated with the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator②">Navigator</a></code> object or the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator" id="ref-for-workernavigator②">WorkerNavigator</a></code> object that the <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑦">ServiceWorkerContainer</a></code> is retrieved from.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑧">ServiceWorkerContainer</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerContainer" data-dfn-type="dfn" data-noexport id="serviceworkercontainer-ready-promise">ready promise</dfn> (a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①">promise</a> or null). It is initially null.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer⑨">ServiceWorkerContainer</a></code> object has a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source③">task source</a> called the <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerContainer" data-dfn-type="dfn" data-export id="dfn-client-message-queue">client message queue</dfn>, initially empty. A <a data-link-type="dfn" href="#dfn-client-message-queue" id="ref-for-dfn-client-message-queue">client message queue</a> can be enabled or disabled, and is initially disabled. When a <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①⓪">ServiceWorkerContainer</a></code> object’s <a data-link-type="dfn" href="#dfn-client-message-queue" id="ref-for-dfn-client-message-queue①">client message queue</a> is enabled, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop⑤">event loop</a> <em>must</em> use it as one of its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source④">task sources</a>. When the <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①①">ServiceWorkerContainer</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a> is a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code> object, all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task②">tasks</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②">queued</a> on its <a data-link-type="dfn" href="#dfn-client-message-queue" id="ref-for-dfn-client-message-queue②">client message queue</a> <em>must</em> be associated with its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object④">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window">associated document</a>.</p>
     <section class="algorithm" data-algorithm="navigator-service-worker-controller">
      <h4 class="heading settled" data-level="3.4.1" id="navigator-service-worker-controller"><span class="secno">3.4.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-controller" id="ref-for-dom-serviceworkercontainer-controller①">controller</a></code></span><a class="self-link" href="#navigator-service-worker-controller"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute" data-export id="dom-serviceworkercontainer-controller"><code>controller</code></dfn> attribute <em>must</em> run these steps:</p>
      <ol>
       <li data-md>
        <p>Let <var>client</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>’s <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client">service worker client</a>.</p>
       <li data-md>
        <p>If <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①⑧">active service worker</a> is null, then return null.</p>
       <li data-md>
        <p>Return the result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object④">getting the service worker object</a> that represents <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker①⑨">active service worker</a> in <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object⑤">relevant settings object</a>.</p>
      </ol>
      <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-controller" id="ref-for-dom-serviceworkercontainer-controller②">navigator.serviceWorker.controller</a></code> returns <code>null</code> if the request is a force refresh (shift+refresh).</p>
     </section>
     <section class="algorithm" data-algorithm="navigator-service-worker-ready">
      <h4 class="heading settled" data-level="3.4.2" id="navigator-service-worker-ready"><span class="secno">3.4.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-ready" id="ref-for-dom-serviceworkercontainer-ready①">ready</a></code></span><a class="self-link" href="#navigator-service-worker-ready"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute" data-export id="dom-serviceworkercontainer-ready"><code>ready</code></dfn> attribute <em>must</em> run these steps:</p>
      <ol>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>’s <a data-link-type="dfn" href="#serviceworkercontainer-ready-promise" id="ref-for-serviceworkercontainer-ready-promise">ready promise</a> is null, then set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>’s <a data-link-type="dfn" href="#serviceworkercontainer-ready-promise" id="ref-for-serviceworkercontainer-ready-promise①">ready promise</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new promise</a>.</p>
       <li data-md>
        <p>Let <var>readyPromise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>’s <a data-link-type="dfn" href="#serviceworkercontainer-ready-promise" id="ref-for-serviceworkercontainer-ready-promise②">ready promise</a>.</p>
       <li data-md>
        <p>If <var>readyPromise</var> is pending, run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>client</var> by <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>’s <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client①">service worker client</a>.</p>
         <li data-md>
          <p>Let <var>storage key</var> be the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key">obtain a storage key</a> given client.</p>
         <li data-md>
          <p>Let <var>registration</var> be the result of running <a data-link-type="dfn" href="#match-service-worker-registration" id="ref-for-match-service-worker-registration③">Match Service Worker Registration</a> given <var>storage key</var> and <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url①">creation URL</a>.</p>
         <li data-md>
          <p>If <var>registration</var> is not null, and <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑨">active worker</a> is not null, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③">queue a task</a> on <var>readyPromise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object⑥">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop">responsible event loop</a>, using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①">DOM manipulation task source</a>, to resolve <var>readyPromise</var> with the result of <a data-link-type="dfn" href="#get-the-service-worker-registration-object" id="ref-for-get-the-service-worker-registration-object">getting the service worker registration object</a> that represents <var>registration</var> in <var>readyPromise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object⑦">relevant settings object</a>.</p>
        </ol>
       <li data-md>
        <p>Return <var>readyPromise</var>.</p>
      </ol>
      <p class="note" role="note"><span class="marker">Note:</span> The returned <a data-link-type="dfn" href="#serviceworkercontainer-ready-promise" id="ref-for-serviceworkercontainer-ready-promise③">ready promise</a> will never reject. If it does not resolve in this algorithm, it will eventually resolve when a matching <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⑥">service worker registration</a> is registered and its <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①⓪">active worker</a> is set. (See the relevant <a href="#activate-resolve-ready-step">Activate algorithm step</a>.)</p>
     </section>
     <section class="algorithm" data-algorithm="navigator-service-worker-register">
      <h4 class="heading settled" data-level="3.4.3" id="navigator-service-worker-register"><span class="secno">3.4.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-register" id="ref-for-dom-serviceworkercontainer-register①">register(scriptURL, options)</a></code></span><a class="self-link" href="#navigator-service-worker-register"></a></h4>
      <p class="note" role="note"><span class="marker">Note:</span> The <code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-register" id="ref-for-dom-serviceworkercontainer-register②">register(scriptURL, options)</a></code> method creates or updates a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⑦">service worker registration</a> for the given <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url⑧">scope url</a>. If successful, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⑧">service worker registration</a> ties the provided <var>scriptURL</var> to a <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url⑨">scope url</a>, which is subsequently used for <a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch①">navigation matching</a>.</p>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="method" data-export data-lt="register(scriptURL, options)|register(scriptURL)" id="dom-serviceworkercontainer-register"><code>register(<var>scriptURL</var>, <var>options</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>p</var> be a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②">promise</a>.</p>
       <li data-md>
        <p>Set <var>scriptURL</var> to the result of invoking <a data-link-type="abstract-op" href="https://w3c.github.io/trusted-types/dist/spec/#abstract-opdef-get-trusted-type-compliant-string" id="ref-for-abstract-opdef-get-trusted-type-compliant-string">Get Trusted Type compliant string</a> with <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/trusted-types/dist/spec/#trustedscripturl" id="ref-for-trustedscripturl①">TrustedScriptURL</a></code>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②">relevant global object</a>, <var>scriptURL</var>, "ServiceWorkerContainer register", and "script".</p>
       <li data-md>
        <p>Let <var>client</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>’s <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client②">service worker client</a>.</p>
       <li data-md>
        <p>Let <var>scriptURL</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">parsing</a> <var>scriptURL</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object⑧">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" id="ref-for-api-base-url">API base URL</a>.</p>
       <li data-md>
        <p>Let <var>scopeURL</var> be null.</p>
       <li data-md>
        <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-registrationoptions-scope" id="ref-for-dom-registrationoptions-scope">scope</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>, set <var>scopeURL</var> to the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">parsing</a> <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-registrationoptions-scope" id="ref-for-dom-registrationoptions-scope①">scope</a></code>"] with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object⑨">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" id="ref-for-api-base-url①">API base URL</a>.</p>
       <li data-md>
        <p>Invoke <a data-link-type="dfn" href="#start-register" id="ref-for-start-register">Start Register</a> with <var>scopeURL</var>, <var>scriptURL</var>, <var>p</var>, <var>client</var>, <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url②">creation URL</a>, <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-registrationoptions-type" id="ref-for-dom-registrationoptions-type">type</a></code>"], and <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-registrationoptions-updateviacache" id="ref-for-dom-registrationoptions-updateviacache">updateViaCache</a></code>"].</p>
       <li data-md>
        <p>Return <var>p</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="navigator-service-worker-getRegistration">
      <h4 class="heading settled" data-level="3.4.4" id="navigator-service-worker-getRegistration"><span class="secno">3.4.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-getregistration" id="ref-for-dom-serviceworkercontainer-getregistration①">getRegistration(clientURL)</a></code></span><a class="self-link" href="#navigator-service-worker-getRegistration"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="method" data-export data-lt="getRegistration(clientURL)|getRegistration()" id="dom-serviceworkercontainer-getregistration"><code>getRegistration(<var>clientURL</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>client</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>’s <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client③">service worker client</a>.</p>
       <li data-md>
        <p>Let <var>storage key</var> be the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key①">obtain a storage key</a> given <var>client</var>.</p>
       <li data-md>
        <p>Let <var>clientURL</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser②">parsing</a> <var>clientURL</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①⓪">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" id="ref-for-api-base-url②">API base URL</a>.</p>
       <li data-md>
        <p>If <var>clientURL</var> is failure, return a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects③">promise</a> rejected with a <code>TypeError</code>.</p>
       <li data-md>
        <p>Set <var>clientURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment">fragment</a> to null.</p>
       <li data-md>
        <p>If the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin②">origin</a> of <var>clientURL</var> is not <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin③">origin</a>, return a <var>promise</var> rejected with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>.</p>
       <li data-md>
        <p>Let <var>promise</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects④">promise</a>.</p>
       <li data-md>
        <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>registration</var> be the result of running <a data-link-type="dfn" href="#match-service-worker-registration" id="ref-for-match-service-worker-registration④">Match Service Worker Registration</a> given <var>storage key</var> and <var>clientURL</var>.</p>
         <li data-md>
          <p>If <var>registration</var> is null, resolve <var>promise</var> with undefined and abort these steps.</p>
         <li data-md>
          <p>Resolve <var>promise</var> with the result of <a data-link-type="dfn" href="#get-the-service-worker-registration-object" id="ref-for-get-the-service-worker-registration-object①">getting the service worker registration object</a> that represents <var>registration</var> in <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①①">relevant settings object</a>.</p>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="navigator-service-worker-getRegistrations">
      <h4 class="heading settled" data-level="3.4.5" id="navigator-service-worker-getRegistrations"><span class="secno">3.4.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-getregistrations" id="ref-for-dom-serviceworkercontainer-getregistrations①">getRegistrations()</a></code></span><a class="self-link" href="#navigator-service-worker-getRegistrations"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="method" data-export id="dom-serviceworkercontainer-getregistrations"><code>getRegistrations()</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>client</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑦">this</a>’s <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client④">service worker client</a>.</p>
       <li data-md>
        <p>Let <var>client storage key</var> be the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key②">obtain a storage key</a> given <var>client</var>.</p>
       <li data-md>
        <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②">a new promise</a>.</p>
       <li data-md>
        <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>registrations</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> (<var>storage key</var>, <var>scope</var>) → <var>registration</var> of <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map②">registration map</a>:</p>
          <ol>
           <li data-md>
            <p>If <var>storage key</var> <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal">equals</a> <var>client storage key</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">append</a> <var>registration</var> to <var>registrations</var>.</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④">Queue a task</a> on <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①②">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①">responsible event loop</a>, using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②">DOM manipulation task source</a>, to run the following steps:</p>
          <ol>
           <li data-md>
            <p>Let <var>registrationObjects</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>registration</var> of <var>registrations</var>:</p>
            <ol>
             <li data-md>
              <p>Let <var>registrationObj</var> be the result of <a data-link-type="dfn" href="#get-the-service-worker-registration-object" id="ref-for-get-the-service-worker-registration-object②">getting the service worker registration object</a> that represents <var>registration</var> in <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①③">relevant settings object</a>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>registrationObj</var> to <var>registrationObjects</var>.</p>
            </ol>
           <li data-md>
            <p>Resolve <var>promise</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array">a new frozen array of</a> <var>registrationObjects</var> in <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant Realm</a>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="navigator-service-worker-startMessages">
      <h4 class="heading settled" data-level="3.4.6" id="navigator-service-worker-startMessages"><span class="secno">3.4.6. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-startmessages" id="ref-for-dom-serviceworkercontainer-startmessages①">startMessages()</a></code></span><a class="self-link" href="#navigator-service-worker-startMessages"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="method" data-export id="dom-serviceworkercontainer-startmessages"><code>startMessages()</code></dfn> method steps are to enable <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">this</a>’s <a data-link-type="dfn" href="#dfn-client-message-queue" id="ref-for-dfn-client-message-queue③">client message queue</a> if it is not enabled.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="3.4.7" id="service-worker-container-event-handlers"><span class="secno">3.4.7. </span><span class="content">Event handlers</span><a class="self-link" href="#service-worker-container-event-handlers"></a></h4>
      <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers④">event handlers</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type④">event handler event types</a>) that <em>must</em> be supported, as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes②">event handler IDL attributes</a>, by all objects implementing the <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①②">ServiceWorkerContainer</a></code> interface:</p>
      <table class="data">
       <thead>
        <tr>
         <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers⑤">event handler</a>
         <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type⑤">event handler event type</a>
       <tbody>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute" data-export id="dom-serviceworkercontainer-oncontrollerchange"><code>oncontrollerchange</code></dfn>
         <td><code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-container-controllerchange-event" id="ref-for-service-worker-container-controllerchange-event">controllerchange</a></code>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute" data-export id="dom-serviceworkercontainer-onmessage"><code>onmessage</code></dfn>
         <td><code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-container-message-event" id="ref-for-service-worker-container-message-event">message</a></code>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="attribute" data-export id="dom-serviceworkercontainer-onmessageerror"><code>onmessageerror</code></dfn>
         <td><code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-container-messageerror-event" id="ref-for-service-worker-container-messageerror-event">messageerror</a></code>
      </table>
      <p>The first time the <code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-onmessage" id="ref-for-dom-serviceworkercontainer-onmessage①">onmessage</a></code> setter steps are performed, enable <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑨">this</a>’s <a data-link-type="dfn" href="#dfn-client-message-queue" id="ref-for-dfn-client-message-queue④">client message queue</a>.</p>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="3.5" id="document-context-events"><span class="secno">3.5. </span><span class="content">Events</span><a class="self-link" href="#document-context-events"></a></h3>
     <p>The following event is dispatched on <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⑧">ServiceWorker</a></code> object:</p>
     <table class="data">
      <thead>
       <tr>
        <th>Event name
        <th>Interface
        <th>Dispatched when…
      <tbody>
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorker" data-dfn-type="event" data-export id="eventdef-serviceworker-statechange"><code>statechange</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code>
        <td>The <code class="idl"><a data-link-type="idl" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state③">state</a></code> attribute of the <code class="idl"><a data-link-type="idl" href="#serviceworker" id="ref-for-serviceworker①⑨">ServiceWorker</a></code> object is changed.
     </table>
     <p>The following event is dispatched on <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①②">ServiceWorkerRegistration</a></code> object:</p>
     <table class="data">
      <thead>
       <tr>
        <th>Event name
        <th>Interface
        <th>Dispatched when…
      <tbody>
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerRegistration" data-dfn-type="event" data-export id="service-worker-registration-updatefound-event"><code>updatefound</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①">Event</a></code>
        <td>The <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration" id="ref-for-serviceworkerregistration-service-worker-registration⑥">service worker registration</a>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker⑤">installing worker</a> changes. (See step 8 of the <a data-link-type="dfn" href="#install" id="ref-for-install">Install</a> algorithm.)
     </table>
     <p>The following events are dispatched on <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①③">ServiceWorkerContainer</a></code> object:</p>
     <table class="data">
      <thead>
       <tr>
        <th>Event name
        <th>Interface
        <th>Dispatched when…
      <tbody>
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="event" data-export id="service-worker-container-controllerchange-event"><code>controllerchange</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event②">Event</a></code>
        <td>The <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client⑤">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②⓪">active service worker</a> changes. (See step 9.2 of the <a data-link-type="dfn" href="#activate" id="ref-for-activate">Activate</a> algorithm. The <a data-link-type="dfn" href="#dfn-skip-waiting-flag" id="ref-for-dfn-skip-waiting-flag">skip waiting flag</a> of a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑥">service worker</a> causes <a data-link-type="dfn" href="#activate" id="ref-for-activate①">activation</a> of the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration③⑨">service worker registration</a> to occur while <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②②">service worker clients</a> are <a data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use">using</a> the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④⓪">service worker registration</a>, <code class="idl"><a data-link-type="idl" href="#dom-serviceworkercontainer-controller" id="ref-for-dom-serviceworkercontainer-controller③">navigator.serviceWorker.controller</a></code> immediately reflects the <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①①">active worker</a> as the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑦">service worker</a> that <a data-link-type="dfn" href="#dfn-control" id="ref-for-dfn-control②">controls</a> the <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②③">service worker client</a>.)
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="event" data-export id="service-worker-container-message-event"><code>message</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event③">Event</a></code>
        <td>The <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client⑥">service worker client</a> receives a message from a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑧">service worker</a>. See <code class="idl"><a data-link-type="idl" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options">postMessage(message, options)</a></code>.
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerContainer" data-dfn-type="event" data-export id="service-worker-container-messageerror-event"><code>messageerror</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event④">Event</a></code>
        <td>The <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client⑦">service worker client</a> is sent a message that cannot be deserialized from a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑤⑨">service worker</a>. See <code class="idl"><a data-link-type="idl" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options①">postMessage(message, options)</a></code>.
     </table>
    </section>
   </section>
   <section>
    <h3 class="heading settled" data-level="3.6" id="navigation-preload-manager"><span class="secno">3.6. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#navigationpreloadmanager" id="ref-for-navigationpreloadmanager③">NavigationPreloadManager</a></code></span><a class="self-link" href="#navigation-preload-manager"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑤"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="navigationpreloadmanager"><code><c- g>NavigationPreloadManager</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-enable" id="ref-for-dom-navigationpreloadmanager-enable"><c- g>enable</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑦"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-disable" id="ref-for-dom-navigationpreloadmanager-disable"><c- g>disable</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑧"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑥"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-setheadervalue" id="ref-for-dom-navigationpreloadmanager-setheadervalue"><c- g>setHeaderValue</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString"><c- b>ByteString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager/setHeaderValue(value)" data-dfn-type="argument" data-export id="dom-navigationpreloadmanager-setheadervalue-value-value"><code><c- g>value</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise⑨"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-navigationpreloadstate" id="ref-for-dictdef-navigationpreloadstate"><c- n>NavigationPreloadState</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-getstate" id="ref-for-dom-navigationpreloadmanager-getstate"><c- g>getState</c-></a>();
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-navigationpreloadstate"><code><c- g>NavigationPreloadState</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="NavigationPreloadState" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-navigationpreloadstate-enabled"><code><c- g>enabled</c-></code></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString①"><c- b>ByteString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadState" data-dfn-type="dict-member" data-export data-type="ByteString" id="dom-navigationpreloadstate-headervalue"><code><c- g>headerValue</c-></code></dfn>;
};
</pre>
    <section class="algorithm" data-algorithm="navigation-preload-manager-enable">
     <h4 class="heading settled" data-level="3.6.1" id="navigation-preload-manager-enable"><span class="secno">3.6.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-navigationpreloadmanager-enable" id="ref-for-dom-navigationpreloadmanager-enable①">enable()</a></code></span><a class="self-link" href="#navigation-preload-manager-enable"></a></h4>
     <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager" data-dfn-type="method" data-export id="dom-navigationpreloadmanager-enable"><code>enable()</code></dfn> method steps are:</p>
     <ol>
      <li data-md>
       <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise③">a new promise</a>.</p>
      <li data-md>
       <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>registration</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⓪">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④①">service worker registration</a>.</p>
        <li data-md>
         <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①②">active worker</a> is null, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject">reject</a> <var>promise</var> with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException③">DOMException</a></code>, and abort these steps.</p>
        <li data-md>
         <p>Set <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-navigation-preload-enabled-flag" id="ref-for-service-worker-registration-navigation-preload-enabled-flag">navigation preload enabled flag</a>.</p>
        <li data-md>
         <p>Resolve <var>promise</var> with undefined.</p>
       </ol>
      <li data-md>
       <p>Return <var>promise</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="navigation-preload-manager-disable">
     <h4 class="heading settled" data-level="3.6.2" id="navigation-preload-manager-disable"><span class="secno">3.6.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-navigationpreloadmanager-disable" id="ref-for-dom-navigationpreloadmanager-disable①">disable()</a></code></span><a class="self-link" href="#navigation-preload-manager-disable"></a></h4>
     <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager" data-dfn-type="method" data-export id="dom-navigationpreloadmanager-disable"><code>disable()</code></dfn> method steps are:</p>
     <ol>
      <li data-md>
       <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise④">a new promise</a>.</p>
      <li data-md>
       <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑤">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>registration</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②①">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④②">service worker registration</a>.</p>
        <li data-md>
         <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①③">active worker</a> is null, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject①">reject</a> <var>promise</var> with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException④">DOMException</a></code>, and abort these steps.</p>
        <li data-md>
         <p>Unset <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-navigation-preload-enabled-flag" id="ref-for-service-worker-registration-navigation-preload-enabled-flag①">navigation preload enabled flag</a>.</p>
        <li data-md>
         <p>Resolve <var>promise</var> with undefined.</p>
       </ol>
      <li data-md>
       <p>Return <var>promise</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="navigation-preload-manager-setheadervalue">
     <h4 class="heading settled" data-level="3.6.3" id="navigation-preload-manager-setheadervalue"><span class="secno">3.6.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-navigationpreloadmanager-setheadervalue" id="ref-for-dom-navigationpreloadmanager-setheadervalue①">setHeaderValue(value)</a></code></span><a class="self-link" href="#navigation-preload-manager-setheadervalue"></a></h4>
     <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager" data-dfn-type="method" data-export id="dom-navigationpreloadmanager-setheadervalue"><code>setHeaderValue(<var>value</var>)</code></dfn> method steps are:</p>
     <ol>
      <li data-md>
       <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑤">a new promise</a>.</p>
      <li data-md>
       <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑥">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>registration</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②②">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④③">service worker registration</a>.</p>
        <li data-md>
         <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①④">active worker</a> is null, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject②">reject</a> <var>promise</var> with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror④">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑤">DOMException</a></code>, and abort these steps.</p>
        <li data-md>
         <p>Set <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-navigation-preload-header-value" id="ref-for-service-worker-registration-navigation-preload-header-value">navigation preload header value</a> to <var>value</var>.</p>
        <li data-md>
         <p>Resolve <var>promise</var> with undefined.</p>
       </ol>
      <li data-md>
       <p>Return <var>promise</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="navigation-preload-manager-getstate">
     <h4 class="heading settled" data-level="3.6.4" id="navigation-preload-manager-getstate"><span class="secno">3.6.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-navigationpreloadmanager-getstate" id="ref-for-dom-navigationpreloadmanager-getstate①">getState()</a></code></span><a class="self-link" href="#navigation-preload-manager-getstate"></a></h4>
     <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="NavigationPreloadManager" data-dfn-type="method" data-export id="dom-navigationpreloadmanager-getstate"><code>getState()</code></dfn> method steps are:</p>
     <ol>
      <li data-md>
       <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑥">a new promise</a>.</p>
      <li data-md>
       <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑦">in parallel</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>registration</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②③">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④④">service worker registration</a>.</p>
        <li data-md>
         <p>Let <var>state</var> be a new <code class="idl"><a data-link-type="idl" href="#dictdef-navigationpreloadstate" id="ref-for-dictdef-navigationpreloadstate①">NavigationPreloadState</a></code> dictionary.</p>
        <li data-md>
         <p>If <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-navigation-preload-enabled-flag" id="ref-for-service-worker-registration-navigation-preload-enabled-flag②">navigation preload enabled flag</a> is set, set <var>state</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationpreloadstate-enabled" id="ref-for-dom-navigationpreloadstate-enabled">enabled</a></code>"] to true.</p>
        <li data-md>
         <p>Set <var>state</var>["<code class="idl"><a data-link-type="idl" href="#dom-navigationpreloadstate-headervalue" id="ref-for-dom-navigationpreloadstate-headervalue">headerValue</a></code>"] to <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-navigation-preload-header-value" id="ref-for-service-worker-registration-navigation-preload-header-value①">navigation preload header value</a>.</p>
        <li data-md>
         <p>Resolve <var>promise</var> with <var>state</var>.</p>
       </ol>
      <li data-md>
       <p>Return <var>promise</var>.</p>
     </ol>
    </section>
   </section>
   <section>
    <h2 class="heading settled" data-level="4" id="execution-context"><span class="secno">4. </span><span class="content">Execution Context</span><a class="self-link" href="#execution-context"></a></h2>
    <div class="example" id="example-b1dcfb45">
     <a class="self-link" href="#example-b1dcfb45"></a>
    Serving Cached Resources:

    
<pre class="highlight"><c- c1>// caching.js</c->
self<c- p>.</c->addEventListener<c- p>(</c-><c- u>"install"</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
  event<c- p>.</c->waitUntil<c- p>(</c->
    <c- c1>// Open a cache of resources.</c->
    caches<c- p>.</c->open<c- p>(</c-><c- u>"shell-v1"</c-><c- p>).</c->then<c- p>(</c->cache <c- p>=></c-> <c- p>{</c->
      <c- c1>// Begins the process of fetching them. Succeeds only once all</c->
      <c- c1>// resources have been stored. Even just one failing resource</c->
      <c- c1>// causes the entire operation to fail.</c->
      <c- k>return</c-> cache<c- p>.</c->addAll<c- p>([</c->
        <c- u>"/app.html"</c-><c- p>,</c->
        <c- u>"/assets/v1/base.css"</c-><c- p>,</c->
        <c- u>"/assets/v1/app.js"</c-><c- p>,</c->
        <c- u>"/assets/v1/logo.png"</c-><c- p>,</c->
        <c- u>"/assets/v1/intro_video.webm"</c->
      <c- p>]);</c->
    <c- p>})</c->
  <c- p>);</c->
<c- p>});</c->

self<c- p>.</c->addEventListener<c- p>(</c-><c- u>"fetch"</c-><c- p>,</c-> event <c- p>=></c-> <c- p>{</c->
  <c- c1>// No "fetch" events are dispatched to the service worker until it</c->
  <c- c1>// successfully installs and activates.</c->

  <c- c1>// All operations on caches are async, including matching URLs, so we use</c->
  <c- c1>// promises heavily. e.respondWith() even takes promises to enable this:</c->
  event<c- p>.</c->respondWith<c- p>(</c->
    caches<c- p>.</c->match<c- p>(</c->e<c- p>.</c->request<c- p>).</c->then<c- p>(</c->response <c- p>=></c-> <c- p>{</c->
      <c- k>return</c-> response <c- o>||</c-> fetch<c- p>(</c->e<c- p>.</c->request<c- p>);</c->
    <c- p>}).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
      <c- k>return</c-> caches<c- p>.</c->match<c- p>(</c-><c- u>"/fallback.html"</c-><c- p>);</c->
    <c- p>})</c->
  <c- p>);</c->
<c- p>});</c->
</pre>
    </div>
    <section>
     <h3 class="heading settled" data-level="4.1" id="serviceworkerglobalscope-interface"><span class="secno">4.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope④">ServiceWorkerGlobalScope</a></code></span><a class="self-link" href="#serviceworkerglobalscope-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global" id="ref-for-Global"><c- g>Global</c-></a>=(<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#worker" id="ref-for-worker"><c- n>Worker</c-></a>,<a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②⓪"><c- n>ServiceWorker</c-></a>), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑥"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="serviceworkerglobalscope"><code><c- g>ServiceWorkerGlobalScope</c-></code></dfn> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" id="ref-for-workerglobalscope"><c- n>WorkerGlobalScope</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject③"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#clients" id="ref-for-clients"><c- n>Clients</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Clients" href="#dom-serviceworkerglobalscope-clients" id="ref-for-dom-serviceworkerglobalscope-clients"><c- g>clients</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject④"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①③"><c- n>ServiceWorkerRegistration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerRegistration" href="#dom-serviceworkerglobalscope-registration" id="ref-for-dom-serviceworkerglobalscope-registration"><c- g>registration</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑤"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②①"><c- n>ServiceWorker</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker" href="#dom-serviceworkerglobalscope-serviceworker" id="ref-for-dom-serviceworkerglobalscope-serviceworker"><c- g>serviceWorker</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑤"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⓪"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑦"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerglobalscope-skipwaiting" id="ref-for-dom-serviceworkerglobalscope-skipwaiting"><c- g>skipWaiting</c-></a>();

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑤"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-oninstall" id="ref-for-dom-serviceworkerglobalscope-oninstall"><c- g>oninstall</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑥"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onactivate" id="ref-for-dom-serviceworkerglobalscope-onactivate"><c- g>onactivate</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑦"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onfetch" id="ref-for-dom-serviceworkerglobalscope-onfetch"><c- g>onfetch</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑧"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onmessage" id="ref-for-dom-serviceworkerglobalscope-onmessage"><c- g>onmessage</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑨"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onmessageerror" id="ref-for-dom-serviceworkerglobalscope-onmessageerror"><c- g>onmessageerror</c-></a>;
};
</pre>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑤">ServiceWorkerGlobalScope</a></code> object represents the global execution context of a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⓪">service worker</a>.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑥">ServiceWorkerGlobalScope</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="dfn" data-export id="serviceworkerglobalscope-service-worker">service worker</dfn> (a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥①">service worker</a>).</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑦">ServiceWorkerGlobalScope</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="dfn" data-noexport id="serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag">force bypass cache for import scripts flag</dfn>. It is initially unset.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑧">ServiceWorkerGlobalScope</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="dfn" data-noexport id="serviceworkerglobalscope-race-response-map">race response map</dfn> which is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">ordered map</a> where the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②">keys</a> are <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request②">requests</a> and the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②">values</a> are <a data-link-type="dfn" href="#dfn-race-response" id="ref-for-dfn-race-response">race response</a>.</p>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-race-response">race response</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> used to contain the network response when <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-race-network-and-fetch-handler" id="ref-for-dom-routersourceenum-race-network-and-fetch-handler">"race-network-and-fetch-handler"</a></code> performs. It has a <dfn class="dfn-paneled" data-dfn-for="race response" data-dfn-type="dfn" data-noexport id="race-response-value">value</dfn>, which is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①">response</a>, "<code>pending</code>", or null.</p>
     <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope⑨">ServiceWorkerGlobalScope</a></code> object provides generic, event-driven, time-limited script execution contexts that run at an origin. Once successfully <a data-link-type="dfn" href="#register" id="ref-for-register①">registered</a>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥②">service worker</a> is started, kept alive and killed by their relationship to events, not <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②④">service worker clients</a>. Any type of synchronous requests must not be initiated inside of a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥③">service worker</a>.</p>
     <section>
      <h4 class="heading settled" data-level="4.1.1" id="service-worker-global-scope-clients"><span class="secno">4.1.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-clients" id="ref-for-dom-serviceworkerglobalscope-clients①">clients</a></code></span><a class="self-link" href="#service-worker-global-scope-clients"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export id="dom-serviceworkerglobalscope-clients"><code>clients</code></dfn> getter steps are to return the <code class="idl"><a data-link-type="idl" href="#clients" id="ref-for-clients①">Clients</a></code> object that is associated with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②④">this</a>.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.1.2" id="service-worker-global-scope-registration"><span class="secno">4.1.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-registration" id="ref-for-dom-serviceworkerglobalscope-registration①">registration</a></code></span><a class="self-link" href="#service-worker-global-scope-registration"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export id="dom-serviceworkerglobalscope-registration"><code>registration</code></dfn> getter steps are to return the result of <a data-link-type="dfn" href="#get-the-service-worker-registration-object" id="ref-for-get-the-service-worker-registration-object③">getting the service worker registration object</a> representing <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑤">this</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker②">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration②">containing service worker registration</a> in <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑥">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①④">relevant settings object</a>.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.1.3" id="service-worker-global-scope-serviceworker"><span class="secno">4.1.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-serviceworker" id="ref-for-dom-serviceworkerglobalscope-serviceworker①">serviceWorker</a></code></span><a class="self-link" href="#service-worker-global-scope-serviceworker"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export id="dom-serviceworkerglobalscope-serviceworker"><code>serviceWorker</code></dfn> getter steps are to return the result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object⑤">getting the service worker object</a> that represents <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑦">this</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker③">service worker</a> in <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑧">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①⑤">relevant settings object</a>.</p>
     </section>
     <section class="algorithm" data-algorithm="service-worker-global-scope-skipwaiting">
      <h4 class="heading settled" data-level="4.1.4" id="service-worker-global-scope-skipwaiting"><span class="secno">4.1.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-skipwaiting" id="ref-for-dom-serviceworkerglobalscope-skipwaiting①">skipWaiting()</a></code></span><a class="self-link" href="#service-worker-global-scope-skipwaiting"></a></h4>
      <p class="note" role="note"><span class="marker">Note:</span> The <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-skipwaiting" id="ref-for-dom-serviceworkerglobalscope-skipwaiting②">skipWaiting()</a></code> method allows this <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥④">service worker</a> to progress from the <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration③">registration</a>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker④">waiting</a> position to <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①⑤">active</a> even while <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②⑤">service worker clients</a> are <a data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use①">using</a> the <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration④">registration</a>.</p>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="method" data-export id="dom-serviceworkerglobalscope-skipwaiting"><code>skipWaiting()</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>promise</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects⑤">promise</a>.</p>
       <li data-md>
        <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑧">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Set <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker④">service worker</a>’s <a data-link-type="dfn" href="#dfn-skip-waiting-flag" id="ref-for-dfn-skip-waiting-flag①">skip waiting flag</a>.</p>
         <li data-md>
          <p>Invoke <a data-link-type="dfn" href="#try-activate" id="ref-for-try-activate">Try Activate</a> with <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker⑤">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration⑤">containing service worker registration</a>.</p>
         <li data-md>
          <p>Resolve <var>promise</var> with undefined.</p>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.1.5" id="service-worker-global-scope-event-handlers"><span class="secno">4.1.5. </span><span class="content">Event handlers</span><a class="self-link" href="#service-worker-global-scope-event-handlers"></a></h4>
      <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers⑥">event handlers</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type⑥">event handler event types</a>) that <em>must</em> be supported, as <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes③">event handler IDL attributes</a>, by all objects implementing the <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⓪">ServiceWorkerGlobalScope</a></code> interface:</p>
      <table class="data">
       <thead>
        <tr>
         <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers⑦">event handler</a>
         <th><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type⑦">event handler event type</a>
       <tbody>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export id="dom-serviceworkerglobalscope-oninstall"><code>oninstall</code></dfn>
         <td><code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event①">install</a></code>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export id="dom-serviceworkerglobalscope-onactivate"><code>onactivate</code></dfn>
         <td><code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event①">activate</a></code>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export id="dom-serviceworkerglobalscope-onfetch"><code>onfetch</code></dfn>
         <td><code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event②">fetch</a></code>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export id="dom-serviceworkerglobalscope-onmessage"><code>onmessage</code></dfn>
         <td><code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message②">message</a></code>
        <tr>
         <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="attribute" data-export id="dom-serviceworkerglobalscope-onmessageerror"><code>onmessageerror</code></dfn>
         <td><code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-messageerror" id="ref-for-eventdef-serviceworkerglobalscope-messageerror②">messageerror</a></code>
      </table>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.2" id="client-interface"><span class="secno">4.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client①">Client</a></code></span><a class="self-link" href="#client-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑤"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="client"><code><c- g>Client</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-client-url" id="ref-for-dom-client-url"><c- g>url</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-frametype" id="ref-for-enumdef-frametype"><c- n>FrameType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrameType" href="#dom-client-frametype" id="ref-for-dom-client-frametype"><c- g>frameType</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-client-id" id="ref-for-dom-client-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-clienttype" id="ref-for-enumdef-clienttype"><c- n>ClientType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ClientType" href="#dom-client-type" id="ref-for-dom-client-type"><c- g>type</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑧"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-client-postmessage" id="ref-for-dom-client-postmessage"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any②"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Client/postMessage(message, transfer)" data-dfn-type="argument" data-export id="dom-client-postmessage-message-transfer-message"><code><c- g>message</c-></code></dfn>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object" id="ref-for-idl-object①"><c- b>object</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="Client/postMessage(message, transfer)" data-dfn-type="argument" data-export id="dom-client-postmessage-message-transfer-transfer"><code><c- g>transfer</c-></code></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑨"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options②"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any③"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Client/postMessage(message, options), Client/postMessage(message)" data-dfn-type="argument" data-export id="dom-client-postmessage-message-options-message"><code><c- g>message</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions" id="ref-for-structuredserializeoptions①"><c- n>StructuredSerializeOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Client/postMessage(message, options), Client/postMessage(message)" data-dfn-type="argument" data-export id="dom-client-postmessage-message-options-options"><code><c- g>options</c-></code></dfn> = {});
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑥"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="windowclient"><code><c- g>WindowClient</c-></code></dfn> : <a data-link-type="idl-name" href="#client" id="ref-for-client②"><c- n>Client</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility" id="ref-for-page-visibility"><c- n>VisibilityState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="VisibilityState" href="#dom-windowclient-visibilitystate" id="ref-for-dom-windowclient-visibilitystate"><c- g>visibilityState</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-windowclient-focused" id="ref-for-dom-windowclient-focused"><c- g>focused</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑥"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array①"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c- b>USVString</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<USVString>" href="#dom-windowclient-ancestororigins" id="ref-for-dom-windowclient-ancestororigins"><c- g>ancestorOrigins</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑥"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#windowclient" id="ref-for-windowclient①"><c- n>WindowClient</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-windowclient-focus" id="ref-for-dom-windowclient-focus"><c- g>focus</c-></a>();
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑦"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#windowclient" id="ref-for-windowclient②"><c- n>WindowClient</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-windowclient-navigate" id="ref-for-dom-windowclient-navigate"><c- g>navigate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient/navigate(url)" data-dfn-type="argument" data-export id="dom-windowclient-navigate-url-url"><code><c- g>url</c-></code></dfn>);
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-frametype"><code><c- g>FrameType</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="FrameType" data-dfn-type="enum-value" data-export id="dom-frametype-auxiliary"><code><c- s>"auxiliary"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="FrameType" data-dfn-type="enum-value" data-export id="dom-frametype-top-level"><code><c- s>"top-level"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="FrameType" data-dfn-type="enum-value" data-export id="dom-frametype-nested"><code><c- s>"nested"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="FrameType" data-dfn-type="enum-value" data-export id="dom-frametype-none"><code><c- s>"none"</c-></code></dfn>
};
</pre>
     <p>A <code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client③">Client</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Client" data-dfn-type="dfn" data-noexport id="dfn-service-worker-client-service-worker-client">service worker client</dfn> (a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②⑥">service worker client</a>).</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client④">Client</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Client" data-dfn-type="dfn" data-noexport id="dfn-service-worker-client-frame-type">frame type</dfn>, which is one of "<code>auxiliary</code>", "<code>top-level</code>", "<code>nested</code>", and "<code>none</code>". Unless stated otherwise it is "<code>none</code>".</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient③">WindowClient</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="WindowClient" data-dfn-type="dfn" data-noexport id="dfn-service-worker-client-browsing-context">browsing context</dfn>, which is its <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global⑤">global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context⑤">browsing context</a>.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient④">WindowClient</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-service-worker-client-visibilitystate">visibility state</dfn>, which is one of <code class="idl"><a data-link-type="idl" data-refhint-key="d7e375d3" href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility" id="ref-for-page-visibility①">visibilityState</a></code> attribute value.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient⑤">WindowClient</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-service-worker-client-focusstate">focus state</dfn>, which is either true or false (initially false).</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient⑥">WindowClient</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="WindowClient" data-dfn-type="dfn" data-noexport id="windowclient-ancestor-origins-array">ancestor origins array</dfn>.</p>
     <section>
      <h4 class="heading settled" data-level="4.2.1" id="client-url"><span class="secno">4.2.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-client-url" id="ref-for-dom-client-url①">url</a></code></span><a class="self-link" href="#client-url"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="attribute" data-export id="dom-client-url"><code>url</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⑨">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client①">service worker client</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer④">serialized</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url③">creation URL</a>.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.2.2" id="client-frametype"><span class="secno">4.2.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-client-frametype" id="ref-for-dom-client-frametype①">frameType</a></code></span><a class="self-link" href="#client-frametype"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="attribute" data-export id="dom-client-frametype"><code>frameType</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⓪">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-frame-type" id="ref-for-dfn-service-worker-client-frame-type">frame type</a>.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.2.3" id="client-id"><span class="secno">4.2.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-client-id" id="ref-for-dom-client-id①">id</a></code></span><a class="self-link" href="#client-id"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="attribute" data-export id="dom-client-id"><code>id</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③①">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client②">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" id="ref-for-concept-environment-id">id</a>.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.2.4" id="client-type"><span class="secno">4.2.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-client-type" id="ref-for-dom-client-type①">type</a></code></span><a class="self-link" href="#client-type"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="attribute" data-export id="dom-client-type"><code>type</code></dfn> getter steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>client</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③②">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client③">service worker client</a>.</p>
       <li data-md>
        <p>If <var>client</var> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object⑥">environment settings object</a>, then:</p>
        <ol>
         <li data-md>
          <p>If <var>client</var> is a <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client⑨">window client</a>, return <code class="idl"><a data-link-type="idl" href="#dom-clienttype-window" id="ref-for-dom-clienttype-window">"window"</a></code>.</p>
         <li data-md>
          <p>Else if <var>client</var> is a <a data-link-type="dfn" href="#dfn-dedicatedworker-client" id="ref-for-dfn-dedicatedworker-client①">dedicated worker client</a>, return <code class="idl"><a data-link-type="idl" href="#dom-clienttype-worker" id="ref-for-dom-clienttype-worker">"worker"</a></code>.</p>
         <li data-md>
          <p>Else if <var>client</var> is a <a data-link-type="dfn" href="#dfn-sharedworker-client" id="ref-for-dfn-sharedworker-client①">shared worker client</a>, return <code class="idl"><a data-link-type="idl" href="#dom-clienttype-sharedworker" id="ref-for-dom-clienttype-sharedworker">"sharedworker"</a></code>.</p>
        </ol>
       <li data-md>
        <p>Else:</p>
        <ol>
         <li data-md>
          <p>Return <code class="idl"><a data-link-type="idl" href="#dom-clienttype-window" id="ref-for-dom-clienttype-window①">"window"</a></code>.</p>
        </ol>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="client-postmessage">
      <h4 class="heading settled" data-level="4.2.5" id="client-postmessage"><span class="secno">4.2.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-client-postmessage" id="ref-for-dom-client-postmessage①">postMessage(message, transfer)</a></code></span><a class="self-link" href="#client-postmessage"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="method" data-export id="dom-client-postmessage"><code>postMessage(<var>message</var>, <var>transfer</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>options</var> be «[ "transfer" → <var>transfer</var> ]».</p>
       <li data-md>
        <p>Invoke <code class="idl"><a data-link-type="idl" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options③">postMessage(message, options)</a></code> with <var>message</var> and <var>options</var> as the arguments.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="client-postmessage-options">
      <h4 class="heading settled" data-level="4.2.6" id="client-postmessage-options"><span class="secno">4.2.6. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-client-postmessage-message-options" id="ref-for-dom-client-postmessage-message-options④">postMessage(message, options)</a></code></span><a class="self-link" href="#client-postmessage-options"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Client" data-dfn-type="method" data-export data-lt="postMessage(message, options)|postMessage(message)" id="dom-client-postmessage-message-options"><code>postMessage(<var>message</var>, <var>options</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>contextObject</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③③">this</a>.</p>
       <li data-md>
        <p>Let <var>sourceSettings</var> be the <var>contextObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①⑥">relevant settings object</a>.</p>
       <li data-md>
        <p>Let <var>serializeWithTransferResult</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer" id="ref-for-structuredserializewithtransfer①">StructuredSerializeWithTransfer</a>(<var>message</var>, <var>options</var>["<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer" id="ref-for-dom-structuredserializeoptions-transfer①">transfer</a></code>"]). Rethrow any exceptions.</p>
       <li data-md>
        <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑨">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>targetClient</var> be null.</p>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②⑦">service worker client</a> <var>client</var>:</p>
          <ol>
           <li data-md>
            <p>If <var>client</var> is the <var>contextObject</var>’s <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client④">service worker client</a>, set <var>targetClient</var> to <var>client</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">break</a>.</p>
          </ol>
         <li data-md>
          <p>If <var>targetClient</var> is null, return.</p>
         <li data-md>
          <p>Let <var>destination</var> be the <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①④">ServiceWorkerContainer</a></code> object whose associated <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client⑧">service worker client</a> is <var>targetClient</var>.</p>
         <li data-md>
          <p>Add a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task③">task</a> that runs the following steps to <var>destination</var>’s <a data-link-type="dfn" href="#dfn-client-message-queue" id="ref-for-dfn-client-message-queue⑤">client message queue</a>:</p>
          <ol>
           <li data-md>
            <p>Let <var>origin</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin" id="ref-for-ascii-serialisation-of-an-origin①">serialization</a> of <var>sourceSettings</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin④">origin</a>.</p>
           <li data-md>
            <p>Let <var>source</var> be the result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object⑥">getting the service worker object</a> that represents <var>contextObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③">relevant global object</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker⑥">service worker</a> in <var>targetClient</var>.</p>
           <li data-md>
            <p>Let <var>deserializeRecord</var> be <a data-link-type="abstract-op" href="https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer" id="ref-for-structureddeserializewithtransfer①">StructuredDeserializeWithTransfer</a>(<var>serializeWithTransferResult</var>, <var>destination</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①">relevant Realm</a>).</p>
            <p>If this throws an exception, catch it, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire">fire an event</a> named <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-container-messageerror-event" id="ref-for-service-worker-container-messageerror-event①">messageerror</a></code> at <var>destination</var>, using <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#messageevent" id="ref-for-messageevent">MessageEvent</a></code>, with the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin" id="ref-for-dom-messageevent-origin">origin</a></code> attribute initialized to <var>origin</var> and the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source" id="ref-for-dom-messageevent-source">source</a></code> attribute initialized to <var>source</var>, and then abort these steps.</p>
           <li data-md>
            <p>Let <var>messageClone</var> be <var>deserializeRecord</var>.[[Deserialized]].</p>
           <li data-md>
            <p>Let <var>newPorts</var> be a new <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type" id="ref-for-dfn-frozen-array-type①">frozen array</a> consisting of all <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport①">MessagePort</a></code> objects in <var>deserializeRecord</var>.[[TransferredValues]], if any.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch③">Dispatch an event</a> named <code class="idl"><a class="idl-code" data-link-type="event" href="https://html.spec.whatwg.org/multipage/indices.html#event-message" id="ref-for-event-message">message</a></code> at <var>destination</var>, using <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#messageevent" id="ref-for-messageevent①">MessageEvent</a></code>, with the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin" id="ref-for-dom-messageevent-origin①">origin</a></code> attribute initialized to <var>origin</var>, the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source" id="ref-for-dom-messageevent-source①">source</a></code> attribute initialized to <var>source</var>, the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-data" id="ref-for-dom-messageevent-data">data</a></code> attribute initialized to <var>messageClone</var>, and the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-ports" id="ref-for-dom-messageevent-ports">ports</a></code> attribute initialized to <var>newPorts</var>.</p>
          </ol>
        </ol>
      </ol>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.2.7" id="client-visibilitystate"><span class="secno">4.2.7. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-windowclient-visibilitystate" id="ref-for-dom-windowclient-visibilitystate①">visibilityState</a></code></span><a class="self-link" href="#client-visibilitystate"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="attribute" data-export id="dom-windowclient-visibilitystate"><code>visibilityState</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③④">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-visibilitystate" id="ref-for-dfn-service-worker-client-visibilitystate">visibility state</a>.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.2.8" id="client-focused"><span class="secno">4.2.8. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-windowclient-focused" id="ref-for-dom-windowclient-focused①">focused</a></code></span><a class="self-link" href="#client-focused"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="attribute" data-export id="dom-windowclient-focused"><code>focused</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑤">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-focusstate" id="ref-for-dfn-service-worker-client-focusstate">focus state</a>.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.2.9" id="client-ancestororigins"><span class="secno">4.2.9. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-windowclient-ancestororigins" id="ref-for-dom-windowclient-ancestororigins①">ancestorOrigins</a></code></span><a class="self-link" href="#client-ancestororigins"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="attribute" data-export id="dom-windowclient-ancestororigins"><code>ancestorOrigins</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑥">this</a>’s associated <a data-link-type="dfn" href="#windowclient-ancestor-origins-array" id="ref-for-windowclient-ancestor-origins-array">ancestor origins array</a>.</p>
     </section>
     <section class="algorithm" data-algorithm="client-focus">
      <h4 class="heading settled" data-level="4.2.10" id="client-focus"><span class="secno">4.2.10. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-windowclient-focus" id="ref-for-dom-windowclient-focus①">focus()</a></code></span><a class="self-link" href="#client-focus"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="method" data-export id="dom-windowclient-focus"><code>focus()</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>If no <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window③">Window</a></code> in this <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑧">origin</a> has <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" id="ref-for-transient-activation">transient activation</a>, return a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects⑥">promise</a> rejected with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidaccesserror" id="ref-for-invalidaccesserror">InvalidAccessError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑥">DOMException</a></code>.</p>
       <li data-md>
        <p>Let <var>serviceWorkerEventLoop</var> be the <a data-link-type="dfn" href="https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent" id="ref-for-surrounding-agent">surrounding agent</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop" id="ref-for-concept-agent-event-loop">event loop</a>.</p>
       <li data-md>
        <p>Let <var>promise</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects⑦">promise</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task⑤">Queue a task</a> to run the following steps on <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑦">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client⑤">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop②">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" id="ref-for-user-interaction-task-source">user interaction task source</a>:</p>
        <ol>
         <li data-md>
          <p>Run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps">focusing steps</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑧">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context" id="ref-for-dfn-service-worker-client-browsing-context">browsing context</a>.</p>
         <li data-md>
          <p>Let <var>frameType</var> be the result of running <a data-link-type="dfn" href="#get-frame-type" id="ref-for-get-frame-type">Get Frame Type</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③⑨">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context" id="ref-for-dfn-service-worker-client-browsing-context①">browsing context</a>.</p>
         <li data-md>
          <p>Let <var>visibilityState</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⓪">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context" id="ref-for-dfn-service-worker-client-browsing-context②">browsing context</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①">active document</a>’s <code class="idl"><a data-link-type="idl" data-refhint-key="d7e375d3" href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility" id="ref-for-page-visibility②">visibilityState</a></code> attribute value.</p>
         <li data-md>
          <p>Let <var>focusState</var> be the result of running the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" id="ref-for-has-focus-steps">has focus steps</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④①">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context" id="ref-for-dfn-service-worker-client-browsing-context③">browsing context</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document②">active document</a>.</p>
         <li data-md>
          <p>Let <var>ancestorOriginsList</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④②">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context" id="ref-for-dfn-service-worker-client-browsing-context④">browsing context</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document③">active document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global④">relevant global object</a>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location">Location</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-location-ancestor-origins-list" id="ref-for-concept-location-ancestor-origins-list">ancestor origins list</a>’s associated list.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task⑥">Queue a task</a> to run the following steps on <var>serviceWorkerEventLoop</var> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source③">DOM manipulation task source</a>:</p>
          <ol>
           <li data-md>
            <p>Let <var>windowClient</var> be the result of running <a data-link-type="dfn" href="#create-window-client" id="ref-for-create-window-client">Create Window Client</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④③">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client⑥">service worker client</a>, <var>frameType</var>, <var>visibilityState</var>, <var>focusState</var>, and <var>ancestorOriginsList</var>.</p>
           <li data-md>
            <p>If <var>windowClient</var>’s <a data-link-type="dfn" href="#dfn-service-worker-client-focusstate" id="ref-for-dfn-service-worker-client-focusstate①">focus state</a> is true, resolve <var>promise</var> with <var>windowClient</var>.</p>
           <li data-md>
            <p>Else, reject <var>promise</var> with a <code>TypeError</code>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="client-navigate">
      <h4 class="heading settled" data-level="4.2.11" id="client-navigate"><span class="secno">4.2.11. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-windowclient-navigate" id="ref-for-dom-windowclient-navigate①">navigate(url)</a></code></span><a class="self-link" href="#client-navigate"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="WindowClient" data-dfn-type="method" data-export id="dom-windowclient-navigate"><code>navigate(url)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>url</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser③">parsing</a> <var>url</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④④">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①⑦">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" id="ref-for-api-base-url③">API base URL</a>.</p>
       <li data-md>
        <p>If <var>url</var> is failure, return a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects⑧">promise</a> rejected with a <code>TypeError</code>.</p>
       <li data-md>
        <p>If <var>url</var> is <code>about:blank</code>, return a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects⑨">promise</a> rejected with a <code>TypeError</code>.</p>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑤">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client⑦">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②①">active service worker</a> is not <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑥">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑤">relevant global object</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker⑦">service worker</a>, return a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①⓪">promise</a> rejected with a <code>TypeError</code>.</p>
       <li data-md>
        <p>Let <var>serviceWorkerEventLoop</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="ref-for-current-global-object">current global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop⑥">event loop</a>.</p>
       <li data-md>
        <p>Let <var>promise</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①①">promise</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task⑦">Queue a task</a> to run the following steps on <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑦">this</a>’s associated <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client⑧">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop③">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" id="ref-for-user-interaction-task-source①">user interaction task source</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>browsingContext</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑧">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context" id="ref-for-dfn-service-worker-client-browsing-context⑤">browsing context</a>.</p>
         <li data-md>
          <p>If <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①">associated document</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active" id="ref-for-fully-active">fully active</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task⑧">queue a task</a> to reject <var>promise</var> with a <code>TypeError</code>, on <var>serviceWorkerEventLoop</var> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source④">DOM manipulation task source</a>, and abort these steps.</p>
         <li data-md>
          <p><em>HandleNavigate</em>: <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate④">Navigate</a> <var>browsingContext</var> to <var>url</var>, using <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window②">associated document</a>, with <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled" id="ref-for-exceptions-enabled">exceptionsEnabled</a> true.</p>
         <li data-md>
          <p>If the algorithm steps invoked in the step labeled <em>HandleNavigate</em> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw">throws</a> an exception, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task⑨">queue a task</a> to reject <var>promise</var> with the exception, on <var>serviceWorkerEventLoop</var> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑤">DOM manipulation task source</a>, and abort these steps.</p>
         <li data-md>
          <p>Let <var>frameType</var> be the result of running <a data-link-type="dfn" href="#get-frame-type" id="ref-for-get-frame-type①">Get Frame Type</a> with <var>browsingContext</var>.</p>
         <li data-md>
          <p>Let <var>visibilityState</var> be <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document④">active document</a>’s <code class="idl"><a data-link-type="idl" data-refhint-key="d7e375d3" href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility" id="ref-for-page-visibility③">visibilityState</a></code> attribute value.</p>
         <li data-md>
          <p>Let <var>focusState</var> be the result of running the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" id="ref-for-has-focus-steps①">has focus steps</a> with <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑤">active document</a>.</p>
         <li data-md>
          <p>Let <var>ancestorOriginsList</var> be <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑥">active document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑥">relevant global object</a>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location①">Location</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-location-ancestor-origins-list" id="ref-for-concept-location-ancestor-origins-list①">ancestor origins list</a>’s associated list.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①⓪">Queue a task</a> to run the following steps on <var>serviceWorkerEventLoop</var> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑥">DOM manipulation task source</a>:</p>
          <ol>
           <li data-md>
            <p>If <var>browsingContext</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window④">Window</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object⑦">environment settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url④">creation URL</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a> is not the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin③">same</a> as the <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker⑧">service worker</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin⑤">origin</a>, resolve <var>promise</var> with null and abort these steps.</p>
           <li data-md>
            <p>Let <var>windowClient</var> be the result of running <a data-link-type="dfn" href="#create-window-client" id="ref-for-create-window-client①">Create Window Client</a> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④⑨">this</a>’s <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client⑨">service worker client</a>, <var>frameType</var>, <var>visibilityState</var>, <var>focusState</var>, and <var>ancestorOriginsList</var>.</p>
           <li data-md>
            <p>Resolve <var>promise</var> with <var>windowClient</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.3" id="clients-interface"><span class="secno">4.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#clients" id="ref-for-clients②">Clients</a></code></span><a class="self-link" href="#clients-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑦"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="clients"><code><c- g>Clients</c-></code></dfn> {
  // The objects returned will be new instances every time
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑧"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①③"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="#client" id="ref-for-client⑤"><c- n>Client</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⓪"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-clients-get" id="ref-for-dom-clients-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Clients/get(id)" data-dfn-type="argument" data-export id="dom-clients-get-id-id"><code><c- g>id</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject⑨"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①④"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array②"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#client" id="ref-for-client⑥"><c- n>Client</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-clients-matchall" id="ref-for-dom-clients-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clientqueryoptions" id="ref-for-dictdef-clientqueryoptions"><c- n>ClientQueryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Clients/matchAll(options), Clients/matchAll()" data-dfn-type="argument" data-export id="dom-clients-matchall-options-options"><code><c- g>options</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⓪"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#windowclient" id="ref-for-windowclient⑦"><c- n>WindowClient</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-clients-openwindow" id="ref-for-dom-clients-openwindow"><c- g>openWindow</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Clients/openWindow(url)" data-dfn-type="argument" data-export id="dom-clients-openwindow-url-url"><code><c- g>url</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①①"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clients-claim" id="ref-for-dom-clients-claim"><c- g>claim</c-></a>();
};
</pre>
<pre class="idl highlight def" id="serviceworker-client-query-options-dictionary"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-clientqueryoptions"><code><c- g>ClientQueryOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="ClientQueryOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-clientqueryoptions-includeuncontrolled"><code><c- g>includeUncontrolled</c-></code></dfn> = <c- b>false</c->;
  <a data-link-type="idl-name" href="#enumdef-clienttype" id="ref-for-enumdef-clienttype①"><c- n>ClientType</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;window&quot;" data-dfn-for="ClientQueryOptions" data-dfn-type="dict-member" data-export data-type="ClientType" id="dom-clientqueryoptions-type"><code><c- g>type</c-></code></dfn> = "window";
};
</pre>
<pre class="idl highlight def" id="client-type-enum"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-clienttype"><code><c- g>ClientType</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ClientType" data-dfn-type="enum-value" data-export id="dom-clienttype-window"><code><c- s>"window"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ClientType" data-dfn-type="enum-value" data-export id="dom-clienttype-worker"><code><c- s>"worker"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ClientType" data-dfn-type="enum-value" data-export id="dom-clienttype-sharedworker"><code><c- s>"sharedworker"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ClientType" data-dfn-type="enum-value" data-export id="dom-clienttype-all"><code><c- s>"all"</c-></code></dfn>
};
</pre>
     <p>The user agent <em>must</em> create a <code class="idl"><a data-link-type="idl" href="#clients" id="ref-for-clients③">Clients</a></code> object when a <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①①">ServiceWorkerGlobalScope</a></code> object is created and associate it with that object.</p>
     <section class="algorithm" data-algorithm="clients-get">
      <h4 class="heading settled" data-level="4.3.1" id="clients-get"><span class="secno">4.3.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-clients-get" id="ref-for-dom-clients-get①">get(id)</a></code></span><a class="self-link" href="#clients-get"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Clients" data-dfn-type="method" data-export id="dom-clients-get"><code>get(<var>id</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>promise</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①②">promise</a>.</p>
       <li data-md>
        <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⓪">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②⑧">service worker client</a> <var>client</var> where the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key③">obtain a storage key</a> given <var>client</var> <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal①">equals</a> the associated <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker⑨">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration⑥">containing service worker registration</a>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key④">storage key</a>:</p>
          <ol>
           <li data-md>
            <p>If <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" id="ref-for-concept-environment-id①">id</a> is not <var>id</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
           <li data-md>
            <p>Wait for either <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag" id="ref-for-concept-environment-execution-ready-flag">execution ready flag</a> to be set or for <var>client</var>’s <a data-link-type="dfn" href="#service-worker-client-discarded-flag" id="ref-for-service-worker-client-discarded-flag②">discarded flag</a> to be set.</p>
           <li data-md>
            <p>If <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag" id="ref-for-concept-environment-execution-ready-flag①">execution ready flag</a> is set, then invoke <a data-link-type="dfn" href="#resolve-get-client-promise" id="ref-for-resolve-get-client-promise">Resolve Get Client Promise</a> with <var>client</var> and <var>promise</var>, and abort these steps.</p>
          </ol>
         <li data-md>
          <p>Resolve <var>promise</var> with undefined.</p>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="clients-matchall">
      <h4 class="heading settled" data-level="4.3.2" id="clients-matchall"><span class="secno">4.3.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-clients-matchall" id="ref-for-dom-clients-matchall①">matchAll(options)</a></code></span><a class="self-link" href="#clients-matchall"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Clients" data-dfn-type="method" data-export data-lt="matchAll(options)|matchAll()" id="dom-clients-matchall"><code>matchAll(<var>options</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑦">a new promise</a>.</p>
       <li data-md>
        <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①①">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>targetClients</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a>.</p>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client②⑨">service worker client</a> <var>client</var> where the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key④">obtain a storage key</a> given <var>client</var> <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal②">equals</a> the associated <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①⓪">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration⑦">containing service worker registration</a>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key⑤">storage key</a>:</p>
          <ol>
           <li data-md>
            <p>If <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag" id="ref-for-concept-environment-execution-ready-flag②">execution ready flag</a> is unset or <var>client</var>’s <a data-link-type="dfn" href="#service-worker-client-discarded-flag" id="ref-for-service-worker-client-discarded-flag③">discarded flag</a> is set, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue①">continue</a>.</p>
           <li data-md>
            <p>If <var>client</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" id="ref-for-secure-context">secure context</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue②">continue</a>.</p>
           <li data-md>
            <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-clientqueryoptions-includeuncontrolled" id="ref-for-dom-clientqueryoptions-includeuncontrolled">includeUncontrolled</a></code>"] is false, and if <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②②">active service worker</a> is not the associated <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①①">service worker</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue③">continue</a>.</p>
           <li data-md>
            <p>Add <var>client</var> to <var>targetClients</var>.</p>
          </ol>
         <li data-md>
          <p>Let <var>matchedWindowData</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a>.</p>
         <li data-md>
          <p>Let <var>matchedClients</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a>.</p>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③⓪">service worker client</a> <var>client</var> in <var>targetClients</var>:</p>
          <ol>
           <li data-md>
            <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-clientqueryoptions-type" id="ref-for-dom-clientqueryoptions-type">type</a></code>"] is <code class="idl"><a data-link-type="idl" href="#dom-clienttype-window" id="ref-for-dom-clienttype-window②">"window"</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-clienttype-all" id="ref-for-dom-clienttype-all">"all"</a></code>, and <var>client</var> is not an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object⑧">environment settings object</a> or is a <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client①⓪">window client</a>, then:</p>
            <ol>
             <li data-md>
              <p>Let <var>windowData</var> be «[ "client" → <var>client</var>, "ancestorOriginsList" → a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">list</a> ]».</p>
             <li data-md>
              <p>Let <var>browsingContext</var> be null.</p>
             <li data-md>
              <p>Let <var>isClientEnumerable</var> be true.</p>
             <li data-md>
              <p>If <var>client</var> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object⑨">environment settings object</a>, set <var>browsingContext</var> to <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global⑥">global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context⑥">browsing context</a>.</p>
             <li data-md>
              <p>Else, set <var>browsingContext</var> to <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context" id="ref-for-concept-environment-target-browsing-context">target browsing context</a>.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①①">Queue a task</a> <var>task</var> to run the following substeps on <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop⑦">event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" id="ref-for-user-interaction-task-source②">user interaction task source</a>:</p>
              <ol>
               <li data-md>
                <p>If <var>browsingContext</var> has been <a data-link-type="dfn" href="https://wicg.github.io/page-lifecycle/#discarded" id="ref-for-discarded">discarded</a>, then set <var>isClientEnumerable</var> to false and abort these steps.</p>
               <li data-md>
                <p>If <var>client</var> is a window client and <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window③">associated document</a> is not <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑦">active document</a>, then set <var>isClientEnumerable</var> to false and abort these steps.</p>
               <li data-md>
                <p>Set <var>windowData</var>["<code>frameType</code>"] to the result of running <a data-link-type="dfn" href="#get-frame-type" id="ref-for-get-frame-type②">Get Frame Type</a> with <var>browsingContext</var>.</p>
               <li data-md>
                <p>Set <var>windowData</var>["<code>visibilityState</code>"] to <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑧">active document</a>’s <code class="idl"><a data-link-type="idl" data-refhint-key="d7e375d3" href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility" id="ref-for-page-visibility④">visibilityState</a></code> attribute value.</p>
               <li data-md>
                <p>Set <var>windowData</var>["<code>focusState</code>"] to the result of running the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" id="ref-for-has-focus-steps②">has focus steps</a> with <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑨">active document</a> as the argument.</p>
               <li data-md>
                <p>If <var>client</var> is a <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client①①">window client</a>, then set <var>windowData</var>["<code>ancestorOriginsList</code>"] to <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①⓪">active document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑦">relevant global object</a>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location②">Location</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-location-ancestor-origins-list" id="ref-for-concept-location-ancestor-origins-list②">ancestor origins list</a>’s associated list.</p>
              </ol>
             <li data-md>
              <p>Wait for <var>task</var> to have executed.</p>
              <p class="note" role="note"><span class="marker">Note:</span> Wait is a blocking wait, but implementers may run the iterations in parallel as long as the state is not broken.</p>
             <li data-md>
              <p>If <var>isClientEnumerable</var> is true, then:</p>
              <ol>
               <li data-md>
                <p>Add <var>windowData</var> to <var>matchedWindowData</var>.</p>
              </ol>
            </ol>
           <li data-md>
            <p>Else if <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-clientqueryoptions-type" id="ref-for-dom-clientqueryoptions-type①">type</a></code>"] is <code class="idl"><a data-link-type="idl" href="#dom-clienttype-worker" id="ref-for-dom-clienttype-worker①">"worker"</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-clienttype-all" id="ref-for-dom-clienttype-all①">"all"</a></code> and <var>client</var> is a <a data-link-type="dfn" href="#dfn-dedicatedworker-client" id="ref-for-dfn-dedicatedworker-client②">dedicated worker client</a>, or <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-clientqueryoptions-type" id="ref-for-dom-clientqueryoptions-type②">type</a></code>"] is <code class="idl"><a data-link-type="idl" href="#dom-clienttype-sharedworker" id="ref-for-dom-clienttype-sharedworker①">"sharedworker"</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-clienttype-all" id="ref-for-dom-clienttype-all②">"all"</a></code> and <var>client</var> is a <a data-link-type="dfn" href="#dfn-sharedworker-client" id="ref-for-dfn-sharedworker-client②">shared worker client</a>, then:</p>
            <ol>
             <li data-md>
              <p>Add <var>client</var> to <var>matchedClients</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①②">Queue a task</a> to run the following steps on <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①⑧">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop④">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑦">DOM manipulation task source</a>:</p>
          <ol>
           <li data-md>
            <p>Let <var>clientObjects</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">list</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>windowData</var> in <var>matchedWindowData</var>:</p>
            <ol>
             <li data-md>
              <p>Let <var>windowClient</var> be the result of running <a data-link-type="dfn" href="#create-window-client" id="ref-for-create-window-client②">Create Window Client</a> algorithm with <var>windowData</var>["<code>client</code>"], <var>windowData</var>["<code>frameType</code>"], <var>windowData</var>["<code>visibilityState</code>"], <var>windowData</var>["<code>focusState</code>"], and <var>windowData</var>["<code>ancestorOriginsList</code>"] as the arguments.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">Append</a> <var>windowClient</var> to <var>clientObjects</var>.</p>
            </ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>client</var> in <var>matchedClients</var>:</p>
            <ol>
             <li data-md>
              <p>Let <var>clientObject</var> be the result of running <a data-link-type="dfn" href="#create-client" id="ref-for-create-client">Create Client</a> algorithm with <var>client</var> as the argument.</p>
             <li data-md>
              <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append③">Append</a> <var>clientObject</var> to <var>clientObjects</var>.</p>
            </ol>
           <li data-md>
            <p>Sort <var>clientObjects</var> such that:</p>
            <ul>
             <li data-md>
              <p><code class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient⑧">WindowClient</a></code> objects whose <a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context" id="ref-for-dfn-service-worker-client-browsing-context⑥">browsing context</a> has been <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps①">focused</a> are placed first, sorted in the most recently <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps②">focused</a> order.</p>
             <li data-md>
              <p><code class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient⑨">WindowClient</a></code> objects whose <a data-link-type="dfn" href="#dfn-service-worker-client-browsing-context" id="ref-for-dfn-service-worker-client-browsing-context⑦">browsing context</a> has never been <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps③">focused</a> are placed next, sorted in their <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client①⓪">service worker client</a>’s creation order.</p>
             <li data-md>
              <p><code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client⑦">Client</a></code> objects whose associated <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client①①">service worker client</a> is a <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client①⓪">worker client</a> are placed next, sorted in their <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client①②">service worker client</a>’s creation order.</p>
            </ul>
            <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client①②">Window clients</a> are always placed before <a data-link-type="dfn" href="#dfn-worker-client" id="ref-for-dfn-worker-client①①">worker clients</a>.</p>
           <li data-md>
            <p>Resolve <var>promise</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array①">a new frozen array of</a> <var>clientObjects</var> in <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm②">relevant Realm</a>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="clients-openwindow">
      <h4 class="heading settled" data-level="4.3.3" id="clients-openwindow"><span class="secno">4.3.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-clients-openwindow" id="ref-for-dom-clients-openwindow①">openWindow(url)</a></code></span><a class="self-link" href="#clients-openwindow"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Clients" data-dfn-type="method" data-export id="dom-clients-openwindow"><code>openWindow(<var>url</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>url</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser④">parsing</a> <var>url</var> with <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⓪">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①⑨">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" id="ref-for-api-base-url④">API base URL</a>.</p>
       <li data-md>
        <p>If <var>url</var> is failure, return a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①③">promise</a> rejected with a <code>TypeError</code>.</p>
       <li data-md>
        <p>If <var>url</var> is <code>about:blank</code>, return a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①④">promise</a> rejected with a <code>TypeError</code>.</p>
       <li data-md>
        <p>If no <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑤">Window</a></code> in this <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑨">origin</a> has <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#transient-activation" id="ref-for-transient-activation①">transient activation</a>, return a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①⑤">promise</a> rejected with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidaccesserror" id="ref-for-invalidaccesserror①">InvalidAccessError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑦">DOMException</a></code>.</p>
       <li data-md>
        <p>Let <var>serviceWorkerEventLoop</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="ref-for-current-global-object①">current global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop⑧">event loop</a>.</p>
       <li data-md>
        <p>Let <var>promise</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①⑥">promise</a>.</p>
       <li data-md>
        <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①②">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>newContext</var> be a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context" id="ref-for-top-level-browsing-context">top-level browsing context</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①③">Queue a task</a> to run the following steps on <var>newContext</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑥">Window</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①⓪">environment settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop⑤">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" id="ref-for-user-interaction-task-source③">user interaction task source</a>:</p>
          <ol>
           <li data-md>
            <p><em>HandleNavigate</em>: <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑤">Navigate</a> <var>newContext</var> to <var>url</var> with <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled" id="ref-for-exceptions-enabled①">exceptionsEnabled</a> true, and <i><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh" id="ref-for-navigation-hh">historyHandling</a></i> "<code>replace</code>".</p>
           <li data-md>
            <p>If the algorithm steps invoked in the step labeled <em>HandleNavigate</em> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①">throws</a> an exception, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①④">queue a task</a> to reject <var>promise</var> with the exception, on <var>serviceWorkerEventLoop</var> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑧">DOM manipulation task source</a>, and abort these steps.</p>
           <li data-md>
            <p>Let <var>frameType</var> be the result of running <a data-link-type="dfn" href="#get-frame-type" id="ref-for-get-frame-type③">Get Frame Type</a> with <var>newContext</var>.</p>
           <li data-md>
            <p>Let <var>visibilityState</var> be <var>newContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①①">active document</a>’s <code class="idl"><a data-link-type="idl" data-refhint-key="d7e375d3" href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility" id="ref-for-page-visibility⑤">visibilityState</a></code> attribute value.</p>
           <li data-md>
            <p>Let <var>focusState</var> be the result of running the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" id="ref-for-has-focus-steps③">has focus steps</a> with <var>newContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①②">active document</a> as the argument.</p>
           <li data-md>
            <p>Let <var>ancestorOriginsList</var> be <var>newContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①③">active document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑧">relevant global object</a>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location③">Location</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-location-ancestor-origins-list" id="ref-for-concept-location-ancestor-origins-list③">ancestor origins list</a>’s associated list.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①⑤">Queue a task</a> to run the following steps on <var>serviceWorkerEventLoop</var> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source⑨">DOM manipulation task source</a>:</p>
            <ol>
             <li data-md>
              <p>If the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key⑤">obtain a storage key</a> given <var>newContext</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑦">Window</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①①">environment settings object</a> is not <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal③">equal</a> to the <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①②">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration⑧">containing service worker registration</a>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key⑥">storage key</a>, then resolve <var>promise</var> with null and abort these steps.</p>
             <li data-md>
              <p>Let <var>client</var> be the result of running <a data-link-type="dfn" href="#create-window-client" id="ref-for-create-window-client③">Create Window Client</a> with <var>newContext</var>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑧">Window</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①②">environment settings object</a>, <var>frameType</var>, <var>visibilityState</var>, <var>focusState</var>, and <var>ancestorOriginsList</var> as the arguments.</p>
             <li data-md>
              <p>Resolve <var>promise</var> with <var>client</var>.</p>
            </ol>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="clients-claim">
      <h4 class="heading settled" data-level="4.3.4" id="clients-claim"><span class="secno">4.3.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-clients-claim" id="ref-for-dom-clients-claim①">claim()</a></code></span><a class="self-link" href="#clients-claim"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Clients" data-dfn-type="method" data-export id="dom-clients-claim"><code>claim()</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>If the <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①③">service worker</a> is not an <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①⑥">active worker</a>, return a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①⑦">promise</a> rejected with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑤">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑧">DOMException</a></code>.</p>
       <li data-md>
        <p>Let <var>promise</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①⑧">promise</a>.</p>
       <li data-md>
        <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①③">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>For each <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③①">service worker client</a> <var>client</var> where the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key⑥">obtain a storage key</a> given <var>client</var> <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal④">equals</a> the <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①④">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration⑨">containing service worker registration</a>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key⑦">storage key</a>:</p>
          <ol>
           <li data-md>
            <p>If <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag" id="ref-for-concept-environment-execution-ready-flag③">execution ready flag</a> is unset or <var>client</var>’s <a data-link-type="dfn" href="#service-worker-client-discarded-flag" id="ref-for-service-worker-client-discarded-flag④">discarded flag</a> is set, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue④">continue</a>.</p>
           <li data-md>
            <p>If <var>client</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" id="ref-for-secure-context①">secure context</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑤">continue</a>.</p>
           <li data-md>
            <p>Let <var>storage key</var> be the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key⑦">obtain a storage key</a> given <var>client</var>.</p>
           <li data-md>
            <p>Let <var>registration</var> be the result of running <a data-link-type="dfn" href="#match-service-worker-registration" id="ref-for-match-service-worker-registration⑤">Match Service Worker Registration</a> given <var>storage key</var> and <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url⑤">creation URL</a>.</p>
           <li data-md>
            <p>If <var>registration</var> is not the <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①⑤">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①⓪">containing service worker registration</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑥">continue</a>.</p>
            <p class="note" role="note"><span class="marker">Note:</span> <var>registration</var> will be null if the <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①⑥">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①①">containing service worker registration</a> is <a data-link-type="dfn" href="#dfn-service-worker-registration-unregistered" id="ref-for-dfn-service-worker-registration-unregistered①">unregistered</a>.</p>
           <li data-md>
            <p>If <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②③">active service worker</a> is not the <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①⑦">service worker</a>, then:</p>
            <ol>
             <li data-md>
              <p>Invoke <a data-link-type="dfn" href="#handle-service-worker-client-unload" id="ref-for-handle-service-worker-client-unload">Handle Service Worker Client Unload</a> with <var>client</var> as the argument.</p>
             <li data-md>
              <p>Set <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②④">active service worker</a> to <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①⑧">service worker</a>.</p>
             <li data-md>
              <p>Invoke <a data-link-type="dfn" href="#notify-controller-change" id="ref-for-notify-controller-change">Notify Controller Change</a> algorithm with <var>client</var> as the argument.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Resolve <var>promise</var> with undefined.</p>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.4" id="extendableevent-interface"><span class="secno">4.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①">ExtendableEvent</a></code></span><a class="self-link" href="#extendableevent-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑧"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="extendableevent"><code><c- g>ExtendableEvent</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event⑤"><c- n>Event</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent" data-dfn-type="constructor" data-export data-lt="ExtendableEvent(type, eventInitDict)|constructor(type, eventInitDict)|ExtendableEvent(type)|constructor(type)" id="dom-extendableevent-extendableevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent/ExtendableEvent(type, eventInitDict), ExtendableEvent/constructor(type, eventInitDict), ExtendableEvent/ExtendableEvent(type), ExtendableEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-extendableevent-extendableevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent/ExtendableEvent(type, eventInitDict), ExtendableEvent/constructor(type, eventInitDict), ExtendableEvent/ExtendableEvent(type), ExtendableEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①②"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil"><c- g>waitUntil</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑦"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any④"><c- b>any</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent/waitUntil(f)" data-dfn-type="argument" data-export id="dom-extendableevent-waituntil-f-f"><code><c- g>f</c-></code></dfn>);
};
</pre>
<pre class="idl highlight def" id="extendable-event-init-dictionary"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-extendableeventinit"><code><c- g>ExtendableEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  // Defined for the forward compatibility across the derived events
};
</pre>
     <p>An <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent②">ExtendableEvent</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="ExtendableEvent" data-dfn-type="dfn" data-export id="extendableevent-extend-lifetime-promises">extend lifetime promises</dfn> (an array of <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects①⑨">promises</a>). It is initially an empty array.</p>
     <p>An <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent③">ExtendableEvent</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="ExtendableEvent" data-dfn-type="dfn" data-noexport id="extendableevent-pending-promises-count">pending promises count</dfn> (the number of pending promises in the <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises" id="ref-for-extendableevent-extend-lifetime-promises">extend lifetime promises</a>). It is initially set to zero.</p>
     <p>An <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent④">ExtendableEvent</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="ExtendableEvent" data-dfn-type="dfn" data-export id="extendableevent-timed-out-flag">timed out flag</dfn>. It is initially unset, and is set after an optional user agent imposed delay if the <a data-link-type="dfn" href="#extendableevent-pending-promises-count" id="ref-for-extendableevent-pending-promises-count">pending promises count</a> is greater than zero.</p>
     <p>An <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent⑤">ExtendableEvent</a></code> object is said to be <dfn class="dfn-paneled" data-dfn-for="ExtendableEvent" data-dfn-type="dfn" data-export id="extendableevent-active">active</dfn> when its <a data-link-type="dfn" href="#extendableevent-timed-out-flag" id="ref-for-extendableevent-timed-out-flag">timed out flag</a> is unset and either its <a data-link-type="dfn" href="#extendableevent-pending-promises-count" id="ref-for-extendableevent-pending-promises-count①">pending promises count</a> is greater than zero or its <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#dispatch-flag" id="ref-for-dispatch-flag">dispatch flag</a> is set.</p>
     <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⑤">Service workers</a> have two <a data-link-type="dfn" href="#dfn-lifecycle-events" id="ref-for-dfn-lifecycle-events">lifecycle events</a>, <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event②">install</a></code> and <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event②">activate</a></code>. <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⑥">Service workers</a> use the <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent⑥">ExtendableEvent</a></code> interface for <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event③">activate</a></code> event and <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event③">install</a></code> event.</p>
     <p><a href="#extensibility">Service worker extensions</a> that <a href="#extension-to-service-worker-global-scope">define event handlers</a> <em>may</em> also use or extend the <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent⑦">ExtendableEvent</a></code> interface.</p>
     <section class="algorithm" data-algorithm="wait-until-method">
      <h4 class="heading settled" data-level="4.4.1" id="wait-until-method"><span class="secno">4.4.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil①">event.waitUntil(f)</a></code></span><a class="self-link" href="#wait-until-method"></a></h4>
      <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil②">waitUntil()</a></code> method extends the lifetime of the event.</p>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableEvent" data-dfn-type="method" data-export id="dom-extendableevent-waituntil"><code>waitUntil(<var>f</var>)</code></dfn> method steps are to <a data-link-type="dfn" href="#extendableevent-add-lifetime-promise" id="ref-for-extendableevent-add-lifetime-promise">add lifetime promise</a> <var>f</var> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤①">this</a>.</p>
     </section>
     <section class="algorithm" data-algorithm="add-lifetime-promise">
      
      To <dfn class="dfn-paneled" data-dfn-for="ExtendableEvent" data-dfn-type="dfn" data-export id="extendableevent-add-lifetime-promise">add lifetime promise</dfn> <var>promise</var> (a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②⓪">promise</a>) to <var>event</var> (an <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent⑧">ExtendableEvent</a></code>), run these steps:


      <ol>
       <li data-md>
        <p>If <var>event</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code> attribute is false, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②">throw</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑥">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException⑨">DOMException</a></code>.</p>
       <li data-md>
        <p>If <var>event</var> is not <a data-link-type="dfn" href="#extendableevent-active" id="ref-for-extendableevent-active">active</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③">throw</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑦">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⓪">DOMException</a></code>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> If no lifetime extension promise has been added in the task that called the event handlers, calling <code class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil③">waitUntil()</a></code> in subsequent asynchronous tasks will throw.</p>
       <li data-md>
        <p>Add <var>promise</var> to <var>event</var>’s <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises" id="ref-for-extendableevent-extend-lifetime-promises①">extend lifetime promises</a>.</p>
       <li data-md>
        <p>Increment <var>event</var>’s <a data-link-type="dfn" href="#extendableevent-pending-promises-count" id="ref-for-extendableevent-pending-promises-count②">pending promises count</a> by one.</p>
        <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#extendableevent-pending-promises-count" id="ref-for-extendableevent-pending-promises-count③">pending promises count</a> is incremented even if the given promise has already been settled. The corresponding count decrement is done in the microtask queued by the reaction to the promise.</p>
       <li data-md>
        <p>Upon <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment" id="ref-for-upon-fulfillment">fulfillment</a> or <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection" id="ref-for-upon-rejection">rejection</a> of <var>promise</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask" id="ref-for-queue-a-microtask">queue a microtask</a> to run these substeps:</p>
        <ol>
         <li data-md>
          <p>Decrement <var>event</var>’s <a data-link-type="dfn" href="#extendableevent-pending-promises-count" id="ref-for-extendableevent-pending-promises-count④">pending promises count</a> by one.</p>
         <li data-md>
          <p>If <var>event</var>’s <a data-link-type="dfn" href="#extendableevent-pending-promises-count" id="ref-for-extendableevent-pending-promises-count⑤">pending promises count</a> is 0, then:</p>
          <ol>
           <li data-md>
            <p>Let <var>registration</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="ref-for-current-global-object②">current global object</a>’s associated <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker①⑨">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①②">containing service worker registration</a>.</p>
           <li data-md>
            <p>If <var>registration</var> is <a data-link-type="dfn" href="#dfn-service-worker-registration-unregistered" id="ref-for-dfn-service-worker-registration-unregistered②">unregistered</a>, invoke <a data-link-type="dfn" href="#try-clear-registration" id="ref-for-try-clear-registration">Try Clear Registration</a> with <var>registration</var>.</p>
           <li data-md>
            <p>If <var>registration</var> is not null, invoke <a data-link-type="dfn" href="#try-activate" id="ref-for-try-activate①">Try Activate</a> with <var>registration</var>.</p>
          </ol>
        </ol>
      </ol>
      <p>The user agent <em>should not</em> <a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker②">terminate</a> a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⑦">service worker</a> if <a data-link-type="dfn" href="#service-worker-has-no-pending-events" id="ref-for-service-worker-has-no-pending-events">Service Worker Has No Pending Events</a> returns false for that <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⑧">service worker</a>.</p>
     </section>
     <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑥⑨">Service workers</a> and <a href="#extensibility">extensions</a> that <a href="#extension-to-service-worker-global-scope">define event handlers</a> <em>may</em> define their own behaviors, allowing the <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises" id="ref-for-extendableevent-extend-lifetime-promises②">extend lifetime promises</a> to suggest operation length, and the rejected state of any of the <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②①">promise</a> in <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises" id="ref-for-extendableevent-extend-lifetime-promises③">extend lifetime promises</a> to suggest operation failure.</p>
     <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⓪">Service workers</a> delay treating the <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker⑥">installing worker</a> as "<code>installed</code>" until all the <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②②">promises</a> in the <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event④">install</a></code> event’s <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises" id="ref-for-extendableevent-extend-lifetime-promises④">extend lifetime promises</a> resolve successfully. (See the relevant <a href="#install-settle-step">Install algorithm step</a>.) If any of the promises rejects, the installation fails. This is primarily used to ensure that a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦①">service worker</a> is not considered "<code>installed</code>" until all of the core caches it depends on are populated. Likewise, <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦②">service workers</a> delay treating the <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①⑦">active worker</a> as "<code>activated</code>" until all the <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②③">promises</a> in the <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event④">activate</a></code> event’s <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises" id="ref-for-extendableevent-extend-lifetime-promises⑤">extend lifetime promises</a> settle. (See the relevant <a href="#activate-settle-step">Activate algorithm step</a>.) This is primarily used to ensure that any <a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events①">functional events</a> are not dispatched to the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦③">service worker</a> until it upgrades database schemas and deletes the outdated cache entries.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.5" id="installevent-interface"><span class="secno">4.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#installevent" id="ref-for-installevent">InstallEvent</a></code></span><a class="self-link" href="#installevent-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed⑨"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="installevent"><code><c- g>InstallEvent</c-></code></dfn> : <a data-link-type="idl-name" href="#extendableevent" id="ref-for-extendableevent⑨"><c- n>ExtendableEvent</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent" data-dfn-type="constructor" data-export data-lt="InstallEvent(type, eventInitDict)|constructor(type, eventInitDict)|InstallEvent(type)|constructor(type)" id="dom-installevent-installevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent/InstallEvent(type, eventInitDict), InstallEvent/constructor(type, eventInitDict), InstallEvent/InstallEvent(type), InstallEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-installevent-installevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit①"><c- n>ExtendableEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent/InstallEvent(type, eventInitDict), InstallEvent/constructor(type, eventInitDict), InstallEvent/InstallEvent(type), InstallEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-installevent-installevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑧"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①③"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-installevent-addroutes" id="ref-for-dom-installevent-addroutes"><c- g>addRoutes</c-></a>((<a data-link-type="idl-name" href="#dictdef-routerrule" id="ref-for-dictdef-routerrule①"><c- n>RouterRule</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-routerrule" id="ref-for-dictdef-routerrule②"><c- n>RouterRule</c-></a>>) <dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent/addRoutes(rules)" data-dfn-type="argument" data-export id="dom-installevent-addroutes-rules-rules"><code><c- g>rules</c-></code></dfn>);
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-routerrule"><code><c- g>RouterRule</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition"><c- n>RouterCondition</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterRule" data-dfn-type="dict-member" data-export data-type="RouterCondition" id="dom-routerrule-condition"><code><c- g>condition</c-></code></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#typedefdef-routersource" id="ref-for-typedefdef-routersource"><c- n>RouterSource</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterRule" data-dfn-type="dict-member" data-export data-type="RouterSource" id="dom-routerrule-source"><code><c- g>source</c-></code></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-routercondition"><code><c- g>RouterCondition</c-></code></dfn> {
  <a data-link-type="idl-name" href="https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible" id="ref-for-typedefdef-urlpatterncompatible"><c- n>URLPatternCompatible</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export data-type="URLPatternCompatible" id="dom-routercondition-urlpattern"><code><c- g>urlPattern</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString" id="ref-for-idl-ByteString②"><c- b>ByteString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export data-type="ByteString" id="dom-routercondition-requestmethod"><code><c- g>requestMethod</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestmode" id="ref-for-requestmode"><c- n>RequestMode</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export data-type="RequestMode" id="dom-routercondition-requestmode"><code><c- g>requestMode</c-></code></dfn>;
  <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestdestination" id="ref-for-requestdestination"><c- n>RequestDestination</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export data-type="RequestDestination" id="dom-routercondition-requestdestination"><code><c- g>requestDestination</c-></code></dfn>;
  <a data-link-type="idl-name" href="#enumdef-runningstatus" id="ref-for-enumdef-runningstatus"><c- n>RunningStatus</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export data-type="RunningStatus" id="dom-routercondition-runningstatus"><code><c- g>runningStatus</c-></code></dfn>;

  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition①"><c- n>RouterCondition</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export data-lt="or" data-type="sequence<RouterCondition>" id="dom-routercondition-or"><code><c- g>_or</c-></code></dfn>;
  <a data-link-type="idl-name" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition②"><c- n>RouterCondition</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterCondition" data-dfn-type="dict-member" data-export data-type="RouterCondition" id="dom-routercondition-not"><code><c- g>not</c-></code></dfn>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="#dictdef-routersourcedict" id="ref-for-dictdef-routersourcedict"><c- n>RouterSourceDict</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#enumdef-routersourceenum" id="ref-for-enumdef-routersourceenum"><c- n>RouterSourceEnum</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-routersource"><code><c- g>RouterSource</c-></code></dfn>;

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-routersourcedict"><code><c- g>RouterSourceDict</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceDict" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-routersourcedict-cachename"><code><c- g>cacheName</c-></code></dfn>;
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-runningstatus"><code><c- g>RunningStatus</c-></code></dfn> { <dfn class="dfn-paneled idl-code" data-dfn-for="RunningStatus" data-dfn-type="enum-value" data-export id="dom-runningstatus-running"><code><c- s>"running"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="RunningStatus" data-dfn-type="enum-value" data-export id="dom-runningstatus-not-running"><code><c- s>"not-running"</c-></code></dfn> };
<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-routersourceenum"><code><c- g>RouterSourceEnum</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceEnum" data-dfn-type="enum-value" data-export id="dom-routersourceenum-cache"><code><c- s>"cache"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceEnum" data-dfn-type="enum-value" data-export id="dom-routersourceenum-fetch-event"><code><c- s>"fetch-event"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceEnum" data-dfn-type="enum-value" data-export id="dom-routersourceenum-network"><code><c- s>"network"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="RouterSourceEnum" data-dfn-type="enum-value" data-export id="dom-routersourceenum-race-network-and-fetch-handler"><code><c- s>"race-network-and-fetch-handler"</c-></code></dfn>
};
</pre>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-count-router-condition-result">count router condition result</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> that consists of:</p>
     <ul>
      <li data-md>
       <p>A <dfn class="dfn-paneled" data-dfn-for="count router condition result" data-dfn-type="dfn" data-noexport id="dfn-count-router-condition-result-condition-count">condition count</dfn> (a number).</p>
      <li data-md>
       <p>A <dfn class="dfn-paneled" data-dfn-for="count router condition result" data-dfn-type="dfn" data-noexport id="dfn-dfn-count-router-condition-result-quota-exceeded">quota exceeded</dfn> (a boolean).</p>
     </ul>
     <section>
      <h4 class="heading settled" data-level="4.5.1" id="register-router-method"><span class="secno">4.5.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-installevent-addroutes" id="ref-for-dom-installevent-addroutes①">event.addRoutes(rules)</a></code></span><a class="self-link" href="#register-router-method"></a></h4>
      <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#dom-installevent-addroutes" id="ref-for-dom-installevent-addroutes②">addRoutes(rules)</a></code> registers rules for this service worker to offload simple tasks that the fetch event handler ordinarily does.</p>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="InstallEvent" data-dfn-type="method" data-export id="dom-installevent-addroutes"><code>addRoutes(<var>rules</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>If <var>rules</var> is a <code class="idl"><a data-link-type="idl" href="#dictdef-routerrule" id="ref-for-dictdef-routerrule③">RouterRule</a></code> dictionary, set <var>rules</var> to « <var>rules</var> ».</p>
       <li data-md>
        <p>Let <var>serviceWorker</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="ref-for-current-global-object③">current global object</a>’s associated <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker②⓪">service worker</a>.</p>
       <li data-md>
        <p>For each <var>rule</var> of <var>rules</var>:</p>
        <ol>
         <li data-md>
          <p>If running the <a data-link-type="dfn" href="#verify-router-condition" id="ref-for-verify-router-condition">Verify Router Condition</a> algorithm with <var>rule</var>["<code class="idl"><a data-link-type="idl" href="#dom-routerrule-condition" id="ref-for-dom-routerrule-condition">condition</a></code>"] and <var>serviceWorker</var> returns false, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with②">a promise rejected with</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
         <li data-md>
          <p>If <var>rule</var>["<code class="idl"><a data-link-type="idl" href="#dom-routerrule-source" id="ref-for-dom-routerrule-source">source</a></code>"] is either of "<code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-fetch-event" id="ref-for-dom-routersourceenum-fetch-event">fetch-event</a></code>" or "<code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-race-network-and-fetch-handler" id="ref-for-dom-routersourceenum-race-network-and-fetch-handler①">race-network-and-fetch-handler</a></code>", and <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle" id="ref-for-dfn-set-of-event-types-to-handle">set of event types to handle</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contain</a> <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event③">fetch</a></code>, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with③">a promise rejected with</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
        </ol>
       <li data-md>
        <p>Let <var>lifetimePromise</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②④">promise</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#extendableevent-add-lifetime-promise" id="ref-for-extendableevent-add-lifetime-promise①">Add lifetime promise</a> <var>lifetimePromise</var> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤②">this</a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#dom-installevent-addroutes" id="ref-for-dom-installevent-addroutes③">event.addRoutes(rules)</a></code> extends the lifetime of the event by default as if <code class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil④">event.waitUntil(promise)</a></code> is called.</p>
       <li data-md>
        <p>Let <var>promise</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②⑤">promise</a>.</p>
       <li data-md>
        <p>Upon <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment" id="ref-for-upon-fulfillment①">fulfillment</a> or <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection" id="ref-for-upon-rejection①">rejection</a> of <var>promise</var>, resolve <var>lifetimePromise</var> with undefined.</p>
        <p class="note" role="note"><span class="marker">Note:</span> this step is for making <var>lifetimePromise</var> always fullfilled to avoid the install event failure.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-enqueue" id="ref-for-queue-enqueue">Enqueue</a> the following steps to <a data-link-type="dfn" href="#service-worker-service-worker-queue" id="ref-for-service-worker-service-worker-queue">[[service worker queue]]</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>allRules</var> be a copy of <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-list-of-router-rules" id="ref-for-service-worker-list-of-router-rules">list of router rules</a>.</p>
         <li data-md>
          <p>For each <var>rule</var> of <var>rules</var>:</p>
          <ol>
           <li data-md>
            <p>Append <var>rule</var> to <var>allRules</var>.</p>
          </ol>
         <li data-md>
          <p>If running the <a data-link-type="dfn" href="#check-router-registration-limit" id="ref-for-check-router-registration-limit">Check Router Registration Limit</a> with <var>allRules</var> returns false, reject <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
         <li data-md>
          <p>Set <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-list-of-router-rules" id="ref-for-service-worker-list-of-router-rules①">list of router rules</a> to <var>allRules</var>.</p>
         <li data-md>
          <p>Let <var>serviceWorkerEventLoop</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="ref-for-current-global-object④">current global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop⑨">event loop</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①⑥">Queue a task</a> to run the following steps on <var>serviceWorkerEventLoop</var> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①⓪">DOM manipulation task source</a>:</p>
          <ol>
           <li data-md>
            <p>Resolve <var>promise</var> with undefined.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.6" id="fetchevent-interface"><span class="secno">4.6. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent">FetchEvent</a></code></span><a class="self-link" href="#fetchevent-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①⓪"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fetchevent"><code><c- g>FetchEvent</c-></code></dfn> : <a data-link-type="idl-name" href="#extendableevent" id="ref-for-extendableevent①⓪"><c- n>ExtendableEvent</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="constructor" data-export data-lt="FetchEvent(type, eventInitDict)|constructor(type, eventInitDict)" id="dom-fetchevent-fetchevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent/FetchEvent(type, eventInitDict), FetchEvent/constructor(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-fetchevent-fetchevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <a data-link-type="idl-name" href="#dictdef-fetcheventinit" id="ref-for-dictdef-fetcheventinit"><c- n>FetchEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent/FetchEvent(type, eventInitDict), FetchEvent/constructor(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑦"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request"><c- n>Request</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Request" href="#dom-fetchevent-request" id="ref-for-dom-fetchevent-request"><c- g>request</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①⑨"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑤"><c- b>any</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<any>" href="#dom-fetchevent-preloadresponse" id="ref-for-dom-fetchevent-preloadresponse"><c- g>preloadResponse</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑧"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-fetchevent-clientid" id="ref-for-dom-fetchevent-clientid"><c- g>clientId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑨"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-fetchevent-resultingclientid" id="ref-for-dom-fetchevent-resultingclientid"><c- g>resultingClientId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⓪"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-fetchevent-replacesclientid" id="ref-for-dom-fetchevent-replacesclientid"><c- g>replacesClientId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⓪"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①④"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#dom-fetchevent-handled" id="ref-for-dom-fetchevent-handled"><c- g>handled</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑤"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith"><c- g>respondWith</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②①"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response"><c- n>Response</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent/respondWith(r)" data-dfn-type="argument" data-export id="dom-fetchevent-respondwith-r-r"><code><c- g>r</c-></code></dfn>);
};
</pre>
<pre class="idl highlight def" id="fetch-event-init-dictionary"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fetcheventinit"><code><c- g>FetchEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit②"><c- n>ExtendableEventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①"><c- n>Request</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export data-type="Request" id="dom-fetcheventinit-request"><code><c- g>request</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑥"><c- b>any</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export data-type="Promise<any>" id="dom-fetcheventinit-preloadresponse"><code><c- g>preloadResponse</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-fetcheventinit-clientid"><code><c- g>clientId</c-></code></dfn> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①②"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-fetcheventinit-resultingclientid"><code><c- g>resultingClientId</c-></code></dfn> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①③"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-fetcheventinit-replacesclientid"><code><c- g>replacesClientId</c-></code></dfn> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②③"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑥"><c- b>undefined</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FetchEventInit" data-dfn-type="dict-member" data-export data-type="Promise<undefined>" id="dom-fetcheventinit-handled"><code><c- g>handled</c-></code></dfn>;
};
</pre>
     <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦④">Service workers</a> have an essential <a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events②">functional event</a> <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event④">fetch</a></code>. For <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event⑤">fetch</a></code> event, <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⑤">service workers</a> use the <code class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent①">FetchEvent</a></code> interface which extends the <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①①">ExtendableEvent</a></code> interface.</p>
     <p>Each event using <code class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent②">FetchEvent</a></code> interface has an associated <dfn class="dfn-paneled" data-dfn-for="FetchEvent" data-dfn-type="dfn" data-noexport id="fetchevent-potential-response">potential response</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response②">response</a>), initially set to null, and the following associated flags that are initially unset:</p>
     <ul>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-for="FetchEvent" data-dfn-type="dfn" data-noexport id="fetchevent-wait-to-respond-flag">wait to respond flag</dfn></p>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-for="FetchEvent" data-dfn-type="dfn" data-noexport id="fetchevent-respond-with-entered-flag">respond-with entered flag</dfn></p>
      <li data-md>
       <p><dfn class="dfn-paneled" data-dfn-for="FetchEvent" data-dfn-type="dfn" data-noexport id="fetchevent-respond-with-error-flag">respond-with error flag</dfn></p>
     </ul>
     <section>
      <h4 class="heading settled" data-level="4.6.1" id="fetch-event-request"><span class="secno">4.6.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-fetchevent-request" id="ref-for-dom-fetchevent-request①">event.request</a></code></span><a class="self-link" href="#fetch-event-request"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export id="dom-fetchevent-request"><code>request</code></dfn> attribute <em>must</em> return the value it was initialized to.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.6.2" id="fetch-event-preloadresponse"><span class="secno">4.6.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-fetchevent-preloadresponse" id="ref-for-dom-fetchevent-preloadresponse①">event.preloadResponse</a></code></span><a class="self-link" href="#fetch-event-preloadresponse"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export id="dom-fetchevent-preloadresponse"><code>preloadResponse</code></dfn> attribute <em>must</em> return the value it was initialized to. When an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event②">event</a> is created the attribute <em>must</em> be initialized to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with">a promise resolved with</a> undefined.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.6.3" id="fetch-event-clientid"><span class="secno">4.6.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-fetchevent-clientid" id="ref-for-dom-fetchevent-clientid①">event.clientId</a></code></span><a class="self-link" href="#fetch-event-clientid"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export id="dom-fetchevent-clientid"><code>clientId</code></dfn> attribute <em>must</em> return the value it was initialized to. When an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event③">event</a> is created the attribute <em>must</em> be initialized to the empty string.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.6.4" id="fetch-event-resultingclientid"><span class="secno">4.6.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-fetchevent-resultingclientid" id="ref-for-dom-fetchevent-resultingclientid①">event.resultingClientId</a></code></span><a class="self-link" href="#fetch-event-resultingclientid"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export id="dom-fetchevent-resultingclientid"><code>resultingClientId</code></dfn> attribute <em>must</em> return the value it was initialized to. When an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event④">event</a> is created the attribute <em>must</em> be initialized to the empty string.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.6.5" id="fetch-event-replacesClientId"><span class="secno">4.6.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-fetchevent-replacesclientid" id="ref-for-dom-fetchevent-replacesclientid①">event.replacesClientId</a></code></span><a class="self-link" href="#fetch-event-replacesClientId"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export id="dom-fetchevent-replacesclientid"><code>replacesClientId</code></dfn> attribute <em>must</em> return the value it was initialized to. When an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event⑤">event</a> is created the attribute <em>must</em> be initialized to the empty string.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.6.6" id="fetch-event-handled"><span class="secno">4.6.6. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-fetchevent-handled" id="ref-for-dom-fetchevent-handled①">event.handled</a></code></span><a class="self-link" href="#fetch-event-handled"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="attribute" data-export id="dom-fetchevent-handled"><code>handled</code></dfn> attribute <em>must</em> return the value it was initialized to. When an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event⑥">event</a> is created the attribute <em>must</em> be initialized to a pending <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②⑥">promise</a>.</p>
     </section>
     <section class="algorithm" data-algorithm="fetch-event-respondwith">
      <h4 class="heading settled" data-level="4.6.7" id="fetch-event-respondwith"><span class="secno">4.6.7. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith①">event.respondWith(r)</a></code></span><a class="self-link" href="#fetch-event-respondwith"></a></h4>
      <p class="note" role="note"><span class="marker">Note:</span> Developers can set the argument <var>r</var> with either a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②⑦">promise</a> that resolves with a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①">Response</a></code> object or a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response②">Response</a></code> object (which is automatically cast to a promise). Otherwise, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error">network error</a> is returned to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch②">Fetch</a>. Renderer-side security checks about tainting for cross-origin content are tied to the types of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-filtered-response" id="ref-for-concept-filtered-response">filtered responses</a> defined in <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch③">Fetch</a>.</p>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="FetchEvent" data-dfn-type="method" data-export id="dom-fetchevent-respondwith"><code>respondWith(<var>r</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>event</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤③">this</a>.</p>
       <li data-md>
        <p>If <var>event</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#dispatch-flag" id="ref-for-dispatch-flag①">dispatch flag</a> is unset, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw④">throw</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑧">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①①">DOMException</a></code>.</p>
       <li data-md>
        <p>If <var>event</var>’s <a data-link-type="dfn" href="#fetchevent-respond-with-entered-flag" id="ref-for-fetchevent-respond-with-entered-flag">respond-with entered flag</a> is set, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑤">throw</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror⑨">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①②">DOMException</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#extendableevent-add-lifetime-promise" id="ref-for-extendableevent-add-lifetime-promise②">Add lifetime promise</a> <var>r</var> to <var>event</var>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith②">event.respondWith(r)</a></code> extends the lifetime of the event by default as if <code class="idl"><a data-link-type="idl" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil⑤">event.waitUntil(r)</a></code> is called.</p>
       <li data-md>
        <p>Set <var>event</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#stop-propagation-flag" id="ref-for-stop-propagation-flag">stop propagation flag</a> and <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#stop-immediate-propagation-flag" id="ref-for-stop-immediate-propagation-flag">stop immediate propagation flag</a>.</p>
       <li data-md>
        <p>Set <var>event</var>’s <a data-link-type="dfn" href="#fetchevent-respond-with-entered-flag" id="ref-for-fetchevent-respond-with-entered-flag①">respond-with entered flag</a>.</p>
       <li data-md>
        <p>Set <var>event</var>’s <a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag" id="ref-for-fetchevent-wait-to-respond-flag">wait to respond flag</a>.</p>
       <li data-md>
        <p>Let <var>targetRealm</var> be <var>event</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm③">relevant Realm</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection" id="ref-for-upon-rejection②">Upon rejection</a> of <var>r</var>:</p>
        <ol>
         <li data-md>
          <p>Set <var>event</var>’s <a data-link-type="dfn" href="#fetchevent-respond-with-error-flag" id="ref-for-fetchevent-respond-with-error-flag">respond-with error flag</a>.</p>
         <li data-md>
          <p>Unset <var>event</var>’s <a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag" id="ref-for-fetchevent-wait-to-respond-flag①">wait to respond flag</a>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment" id="ref-for-upon-fulfillment②">Upon fulfillment</a> of <var>r</var> with <var>response</var>:</p>
        <ol>
         <li data-md>
          <p>If <var>response</var> is not a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response③">Response</a></code> object, then set the <a data-link-type="dfn" href="#fetchevent-respond-with-error-flag" id="ref-for-fetchevent-respond-with-error-flag①">respond-with error flag</a>.</p>
          <p class="note" role="note"><span class="marker">Note:</span> If the <a data-link-type="dfn" href="#fetchevent-respond-with-error-flag" id="ref-for-fetchevent-respond-with-error-flag②">respond-with error flag</a> is set, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error①">network error</a> is returned to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch④">Fetch</a> through <a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch②">Handle Fetch</a> algorithm. (See the step 21.1.) Otherwise, the value <var>response</var> is returned to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑤">Fetch</a> through <a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch③">Handle Fetch</a> algorithm. (See the step 22.1.)</p>
         <li data-md>
          <p>Else:</p>
          <ol>
           <li data-md>
            <p>Let <var>bytes</var> be an empty byte sequence.</p>
           <li data-md>
            <p>Let <var>end-of-body</var> be false.</p>
           <li data-md>
            <p>Let <var>done</var> be false.</p>
           <li data-md>
            <p>Let <var>potentialResponse</var> be a copy of <var>response</var>’s associated <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response" id="ref-for-concept-response-response">response</a>, except for its <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body">body</a>.</p>
           <li data-md>
            <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body①">body</a> is non-null, run these substeps:</p>
            <ol>
             <li data-md>
              <p>Let <var>reader</var> be the result of <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-get-a-reader" id="ref-for-readablestream-get-a-reader">getting a reader</a> from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body②">body</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream">stream</a>.</p>
             <li data-md>
              <p>Let <var>pullAlgorithm</var> be an action that runs these steps:</p>
              <ol>
               <li data-md>
                <p>Let <var>readRequest</var> be a new <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#read-request" id="ref-for-read-request">read request</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①">items</a>:</p>
                <dl>
                 <dt data-md><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#read-request-chunk-steps" id="ref-for-read-request-chunk-steps">chunk steps</a>, given <var>chunk</var>
                 <dd data-md>
                  <ol>
                   <li data-md>
                    <p class="assertion">Assert: <var>chunk</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array">Uint8Array</a></code>.</p>
                   <li data-md>
                    <p>Append the bytes represented by <var>chunk</var> to <var>bytes</var>.</p>
                   <li data-md>
                    <p>Increment <var>potentialResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body-info" id="ref-for-concept-response-body-info">body info</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-timing-info-encoded-body-size" id="ref-for-fetch-timing-info-encoded-body-size">encoded size</a> by <var>bytes</var>’s <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#buffersource-byte-length" id="ref-for-buffersource-byte-length">byte length</a>.</p>
                   <li data-md>
                    <p>Increment <var>potentialResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body-info" id="ref-for-concept-response-body-info①">body info</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-timing-info-decoded-body-size" id="ref-for-fetch-timing-info-decoded-body-size">decoded size</a> by <var>bytes</var>’s <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#buffersource-byte-length" id="ref-for-buffersource-byte-length①">byte length</a>.</p>
                   <li data-md>
                    <p>Perform ! <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-detacharraybuffer" id="ref-for-sec-detacharraybuffer">DetachArrayBuffer</a>(<var>chunk</var>.[[ViewedArrayBuffer]]).</p>
                  </ol>
                 <dt data-md><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#read-request-close-steps" id="ref-for-read-request-close-steps">close steps</a>
                 <dd data-md>
                  <ol>
                   <li data-md>
                    <p>Set <var>end-of-body</var> to true.</p>
                  </ol>
                 <dt data-md><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#read-request-error-steps" id="ref-for-read-request-error-steps">error steps</a>
                 <dd data-md>
                  <ol>
                   <li data-md>
                    <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-error" id="ref-for-readablestream-error">error</a> <var>newStream</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
                  </ol>
                </dl>
               <li data-md>
                <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-a-chunk" id="ref-for-readablestreamdefaultreader-read-a-chunk">Read a chunk</a> from <var>reader</var> given <var>readRequest</var>.</p>
              </ol>
             <li data-md>
              <p>Let <var>cancelAlgorithm</var> be an action that <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestreamdefaultreader-cancel" id="ref-for-readablestreamdefaultreader-cancel">cancels</a> <var>reader</var>.</p>
             <li data-md>
              <p>Let <var>highWaterMark</var> be a non-negative, non-NaN number, chosen by the user agent.</p>
             <li data-md>
              <p>Let <var>sizeAlgorithm</var> be an algorithm that accepts a <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#chunk" id="ref-for-chunk">chunk</a> object and returns a non-negative, non-NaN, non-infinite number, chosen by the user agent.</p>
             <li data-md>
              <p>Let <var>newStream</var> be a new <code class="idl"><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code>, <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up" id="ref-for-readablestream-set-up">set up</a> with the <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up-pullalgorithm" id="ref-for-readablestream-set-up-pullalgorithm">pullAlgorithm</a> <var>pullAlgorithm</var>, the <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm" id="ref-for-readablestream-set-up-cancelalgorithm">cancelAlgorithm</a> <var>cancelAlgorithm</var>, the <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up-highwatermark" id="ref-for-readablestream-set-up-highwatermark">highWaterMark</a> <var>highWaterMark</var>, and <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-set-up-sizealgorithm" id="ref-for-readablestream-set-up-sizealgorithm">sizeAlgorithm</a> <var>sizeAlgorithm</var>, in <var>targetRealm</var>.</p>
             <li data-md>
              <p>Set <var>potentialResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body③">body</a> to a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body" id="ref-for-concept-body">body</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream①">stream</a> is <var>newStream</var>.</p>
             <li data-md>
              <p>Run these subsubsteps repeatedly <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①④">in parallel</a> while <var>done</var> is false:</p>
              <ol>
               <li data-md>
                <p>If <var>newStream</var> is <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-errored" id="ref-for-readablestream-errored">errored</a>, then set <var>done</var> to true.</p>
               <li data-md>
                <p>Otherwise, if <var>bytes</var> is empty and <var>end-of-body</var> is true, then <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-close" id="ref-for-readablestream-close">close</a> <var>newStream</var> and set <var>done</var> to true.</p>
               <li data-md>
                <p>Otherwise, if <var>bytes</var> is not empty, run these subsubsubsteps:</p>
                <ol>
                 <li data-md>
                  <p>Let <var>chunk</var> be a subsequence of <var>bytes</var> starting from the beginning of <var>bytes</var>.</p>
                 <li data-md>
                  <p>Remove <var>chunk</var> from <var>bytes</var>.</p>
                 <li data-md>
                  <p>Let <var>buffer</var> be an <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer">ArrayBuffer</a></code> object created in <var>targetRealm</var> and containing <var>chunk</var>.</p>
                 <li data-md>
                  <p><a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-enqueue" id="ref-for-readablestream-enqueue">Enqueue</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-Uint8Array" id="ref-for-idl-Uint8Array①">Uint8Array</a></code> object created in <var>targetRealm</var> and wrapping <var>buffer</var> to <var>newStream</var>.</p>
                </ol>
              </ol>
            </ol>
            <p class="note" role="note"><span class="marker">Note:</span> These substeps are meant to produce the observable equivalent of "piping" <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body④">body</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream②">stream</a> into <var>potentialResponse</var>.</p>
            <p class="note" role="note"><span class="marker">Note:</span> The data written by the service worker in chunks are not guaranteed to read in identical chunks by the client that receives the data. That is, the client will read the same data that was written, but it may be chunked differently by the browser.</p>
           <li data-md>
            <p>Set <var>event</var>’s <a data-link-type="dfn" href="#fetchevent-potential-response" id="ref-for-fetchevent-potential-response">potential response</a> to <var>potentialResponse</var>.</p>
          </ol>
         <li data-md>
          <p>Unset <var>event</var>’s <a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag" id="ref-for-fetchevent-wait-to-respond-flag②">wait to respond flag</a>.</p>
        </ol>
      </ol>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.7" id="extendablemessageevent-interface"><span class="secno">4.7. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent②">ExtendableMessageEvent</a></code></span><a class="self-link" href="#extendablemessageevent-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①①"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="extendablemessageevent"><code><c- g>ExtendableMessageEvent</c-></code></dfn> : <a data-link-type="idl-name" href="#extendableevent" id="ref-for-extendableevent①②"><c- n>ExtendableEvent</c-></a> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="constructor" data-export data-lt="ExtendableMessageEvent(type, eventInitDict)|constructor(type, eventInitDict)|ExtendableMessageEvent(type)|constructor(type)" id="dom-extendablemessageevent-extendablemessageevent"><code><c- g>constructor</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①④"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent/ExtendableMessageEvent(type, eventInitDict), ExtendableMessageEvent/constructor(type, eventInitDict), ExtendableMessageEvent/ExtendableMessageEvent(type), ExtendableMessageEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type"><code><c- g>type</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendablemessageeventinit" id="ref-for-dictdef-extendablemessageeventinit"><c- n>ExtendableMessageEventInit</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent/ExtendableMessageEvent(type, eventInitDict), ExtendableMessageEvent/constructor(type, eventInitDict), ExtendableMessageEvent/ExtendableMessageEvent(type), ExtendableMessageEvent/constructor(type)" data-dfn-type="argument" data-export id="dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></dfn> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑦"><c- b>any</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="any" href="#dom-extendablemessageevent-data" id="ref-for-dom-extendablemessageevent-data①"><c- g>data</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑨"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-extendablemessageevent-origin" id="ref-for-dom-extendablemessageevent-origin②"><c- g>origin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑤"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-extendablemessageevent-lasteventid" id="ref-for-dom-extendablemessageevent-lasteventid"><c- g>lastEventId</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑧"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> (<a data-link-type="idl-name" href="#client" id="ref-for-client⑧"><c- n>Client</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②②"><c- n>ServiceWorker</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport②"><c- n>MessagePort</c-></a>)? <a class="idl-code" data-link-type="attribute" data-readonly data-type="(Client or ServiceWorker or MessagePort)?" href="#dom-extendablemessageevent-source" id="ref-for-dom-extendablemessageevent-source②"><c- g>source</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array③"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport③"><c- n>MessagePort</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<MessagePort>" href="#dom-extendablemessageevent-ports" id="ref-for-dom-extendablemessageevent-ports①"><c- g>ports</c-></a>;
};
</pre>
<pre class="idl highlight def" id="extendablemessage-event-init-dictionary"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-extendablemessageeventinit"><code><c- g>ExtendableMessageEventInit</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-extendableeventinit" id="ref-for-dictdef-extendableeventinit③"><c- n>ExtendableEventInit</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any" id="ref-for-idl-any⑧"><c- b>any</c-></a> <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export data-type="any" id="dom-extendablemessageeventinit-data"><code><c- g>data</c-></code></dfn> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①⓪"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export data-type="USVString" id="dom-extendablemessageeventinit-origin"><code><c- g>origin</c-></code></dfn> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑥"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;&quot;" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-extendablemessageeventinit-lasteventid"><code><c- g>lastEventId</c-></code></dfn> = "";
  (<a data-link-type="idl-name" href="#client" id="ref-for-client⑨"><c- n>Client</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#serviceworker" id="ref-for-serviceworker②③"><c- n>ServiceWorker</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport④"><c- n>MessagePort</c-></a>)? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export data-type="(Client or ServiceWorker or MessagePort)?" id="dom-extendablemessageeventinit-source"><code><c- g>source</c-></code></dfn> = <c- b>null</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence④"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport⑤"><c- n>MessagePort</c-></a>> <dfn class="dfn-paneled idl-code" data-default="[]" data-dfn-for="ExtendableMessageEventInit" data-dfn-type="dict-member" data-export data-type="sequence<MessagePort>" id="dom-extendablemessageeventinit-ports"><code><c- g>ports</c-></code></dfn> = [];
};
</pre>
     <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⑥">Service workers</a> define the <a class="idl-code" data-link-type="method" href="#dom-extendableevent-waituntil" id="ref-for-dom-extendableevent-waituntil⑥">extendable</a> <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message③">message</a></code> event to allow extending the lifetime of the event. For the <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworkerglobalscope-message" id="ref-for-eventdef-serviceworkerglobalscope-message④">message</a></code> event, <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⑦">service workers</a> use the <code class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent③">ExtendableMessageEvent</a></code> interface which extends the <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①③">ExtendableEvent</a></code> interface.</p>
     <section>
      <h4 class="heading settled" data-level="4.7.1" id="extendablemessage-event-data"><span class="secno">4.7.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-data" id="ref-for-dom-extendablemessageevent-data②">event.data</a></code></span><a class="self-link" href="#extendablemessage-event-data"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute" data-export id="dom-extendablemessageevent-data"><code>data</code></dfn> attribute <em>must</em> return the value it was initialized to. When the object is created, this attribute <em>must</em> be initialized to null. It represents the message being sent.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.7.2" id="extendablemessage-event-origin"><span class="secno">4.7.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-origin" id="ref-for-dom-extendablemessageevent-origin③">event.origin</a></code></span><a class="self-link" href="#extendablemessage-event-origin"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute" data-export id="dom-extendablemessageevent-origin"><code>origin</code></dfn> attribute <em>must</em> return the value it was initialized to. When the object is created, this attribute <em>must</em> be initialized to the empty string. It represents the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin⑥">origin</a> of the <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③②">service worker client</a> that sent the message.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.7.3" id="extendablemessage-event-lasteventid"><span class="secno">4.7.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-lasteventid" id="ref-for-dom-extendablemessageevent-lasteventid①">event.lastEventId</a></code></span><a class="self-link" href="#extendablemessage-event-lasteventid"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute" data-export id="dom-extendablemessageevent-lasteventid"><code>lastEventId</code></dfn> attribute <em>must</em> return the value it was initialized to. When the object is created, this attribute <em>must</em> be initialized to the empty string.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.7.4" id="extendablemessage-event-source"><span class="secno">4.7.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-source" id="ref-for-dom-extendablemessageevent-source③">event.source</a></code></span><a class="self-link" href="#extendablemessage-event-source"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute" data-export id="dom-extendablemessageevent-source"><code>source</code></dfn> attribute <em>must</em> return the value it was initialized to. When the object is created, this attribute <em>must</em> be initialized to null. It represents the <code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client①⓪">Client</a></code> object from which the message is sent.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="4.7.5" id="extendablemessage-event-ports"><span class="secno">4.7.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-extendablemessageevent-ports" id="ref-for-dom-extendablemessageevent-ports②">event.ports</a></code></span><a class="self-link" href="#extendablemessage-event-ports"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ExtendableMessageEvent" data-dfn-type="attribute" data-export id="dom-extendablemessageevent-ports"><code>ports</code></dfn> attribute <em>must</em> return the value it was initialized to. When the object is created, this attribute <em>must</em> be initialized to the empty array. It represents the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport" id="ref-for-messageport⑥">MessagePort</a></code> array being sent.</p>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="4.8" id="execution-context-events"><span class="secno">4.8. </span><span class="content">Events</span><a class="self-link" href="#execution-context-events"></a></h3>
     <p>The following events, called <a data-link-type="dfn" href="#dfn-service-worker-events" id="ref-for-dfn-service-worker-events">service worker events</a>, are dispatched on <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①②">ServiceWorkerGlobalScope</a></code> object:</p>
     <table class="data">
      <thead>
       <tr>
        <th>Event name
        <th>Interface
        <th>Category
        <th>Dispatched when…
      <tbody>
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="service-worker-global-scope-install-event"><code>install</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="#installevent" id="ref-for-installevent①">InstallEvent</a></code>
        <td><a data-link-type="dfn" href="#dfn-lifecycle-events" id="ref-for-dfn-lifecycle-events①">Lifecycle</a>
        <td>The <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker②①">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①③">containing service worker registration</a>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker⑦">installing worker</a> changes. (See step 11.2 of the <a data-link-type="dfn" href="#install" id="ref-for-install①">Install</a> algorithm.)
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="service-worker-global-scope-activate-event"><code>activate</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①④">ExtendableEvent</a></code>
        <td><a data-link-type="dfn" href="#dfn-lifecycle-events" id="ref-for-dfn-lifecycle-events②">Lifecycle</a>
        <td>The <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker②②">service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①④">containing service worker registration</a>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①⑧">active worker</a> changes. (See step 12.2 of the <a data-link-type="dfn" href="#activate" id="ref-for-activate②">Activate</a> algorithm.)
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="service-worker-global-scope-fetch-event"><code>fetch</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent③">FetchEvent</a></code>
        <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events③">Functional</a>
        <td>The <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch②">http fetch</a> invokes <a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch④">Handle Fetch</a> with <var>request</var>. As a result of performing <a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch⑤">Handle Fetch</a>, the <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker②③">service worker</a> returns a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response③">response</a> to the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-http-fetch" id="ref-for-concept-http-fetch③">http fetch</a>. The <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response④">response</a>, represented by a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response④">Response</a></code> object, can be retrieved from a <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache">Cache</a></code> object or directly from network using <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-global-fetch" id="ref-for-dom-global-fetch">self.fetch(input, init)</a></code> method. (A custom <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑤">Response</a></code> object can be another option.)
       <tr>
        <td><a href="https://w3c.github.io/push-api/#pushevent-interface" id="c22e82f90">push</a>
        <td><a href="https://w3c.github.io/push-api/#dom-pushevent"><code>PushEvent</code></a>
        <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events④">Functional</a>
        <td>(See <a href="https://w3c.github.io/push-api/#receiving-a-push-message">Firing a push event</a>.)
       <tr>
        <td><a href="https://notifications.spec.whatwg.org/#dom-serviceworkerglobalscope-onnotificationclick">notificationclick</a>
        <td><a href="https://notifications.spec.whatwg.org/#notificationevent"><code>NotificationEvent</code></a>
        <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑤">Functional</a>
        <td>(See <a href="https://notifications.spec.whatwg.org/#activating-a-notification">Activating a notification.</a>)
       <tr>
        <td><a href="https://notifications.spec.whatwg.org/#dom-serviceworkerglobalscope-onnotificationclose">notificationclose</a>
        <td><a href="https://notifications.spec.whatwg.org/#notificationevent"><code>NotificationEvent</code></a>
        <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑥">Functional</a>
        <td>(See <a href="https://notifications.spec.whatwg.org/#closing-a-notification">Closing a notification.</a>)
       <tr>
        <td><a href="https://wicg.github.io/background-sync/spec/#syncevent">sync</a>
        <td><a href="https://wicg.github.io/background-sync/spec/#syncevent"><code>SyncEvent</code></a>
        <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑦">Functional</a>
        <td>(See <a href="https://wicg.github.io/background-sync/spec/#fire-a-sync-event">Firing a sync event</a>.)
       <tr>
        <td><a href="https://w3c.github.io/payment-handler/#the-canmakepaymentevent">canmakepayment</a>
        <td><a href="https://w3c.github.io/payment-handler/#dom-canmakepaymentevent">CanMakePaymentEvent</a>
        <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑧">Functional</a>
        <td>(See <a href="https://w3c.github.io/payment-handler/#dfn-handling-a-canmakepaymentevent">Handling a CanMakePaymentEvent</a>.)
       <tr>
        <td><a href="https://w3c.github.io/payment-handler/#the-paymentrequestevent">paymentrequest</a>
        <td><a href="https://w3c.github.io/payment-handler/#dom-paymentrequestevent">PaymentRequestEvent</a>
        <td><a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events⑨">Functional</a>
        <td>(See <a href="https://w3c.github.io/payment-handler/#dfn-handling-a-paymentrequestevent">Handling a PaymentRequestEvent</a>.)
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-message"><code>message</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="#extendablemessageevent" id="ref-for-extendablemessageevent④">ExtendableMessageEvent</a></code>
        <td>Legacy
        <td>When it receives a message.
       <tr>
        <td><dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="event" data-export id="eventdef-serviceworkerglobalscope-messageerror"><code>messageerror</code></dfn>
        <td><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#messageevent" id="ref-for-messageevent②">MessageEvent</a></code>
        <td>Legacy
        <td>When it was sent a message that cannot be deserialized.
     </table>
    </section>
   </section>
   <section>
    <h2 class="heading settled" data-level="5" id="cache-objects"><span class="secno">5. </span><span class="content">Caches</span><a class="self-link" href="#cache-objects"></a></h2>
    <p>To allow authors to fully manage their content caches for offline use, the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window⑨">Window</a></code> and the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" id="ref-for-workerglobalscope①">WorkerGlobalScope</a></code> provide the asynchronous caching methods that open and manipulate <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①">Cache</a></code> objects. An <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin⑦">origin</a> can have multiple, named <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache②">Cache</a></code> objects, whose contents are entirely under the control of scripts. Caches are not shared across <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⓪">origins</a>, and they are completely isolated from the browser’s HTTP cache.</p>
    <section>
     <h3 class="heading settled" data-level="5.1" id="cache-constructs"><span class="secno">5.1. </span><span class="content">Constructs</span><a class="self-link" href="#cache-constructs"></a></h3>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-request-response-list">request response list</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑨">list</a> of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple">tuples</a> consisting of a request (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request③">request</a>) and a response (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑤">response</a>).</p>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-relevant-request-response-list">relevant request response list</dfn> is the instance that <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤④">this</a> represents.</p>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-name-to-cache-map">name to cache map</dfn> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">ordered map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-entry" id="ref-for-map-entry">entry</a> consists of a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-key" id="ref-for-map-key">key</a> (a string that represents the name of a <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list">request response list</a>) and a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-value" id="ref-for-map-value">value</a> (a <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list①">request response list</a>).</p>
     <p>Each <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key②">storage key</a> has an associated <a data-link-type="dfn" href="#dfn-name-to-cache-map" id="ref-for-dfn-name-to-cache-map">name to cache map</a>.</p>
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-relevant-name-to-cache-map">relevant name to cache map</dfn> is the <a data-link-type="dfn" href="#dfn-name-to-cache-map" id="ref-for-dfn-name-to-cache-map①">name to cache map</a> associated with the <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key③">storage key</a> <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key⑧">obtained</a> from <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑤">this</a>’s associated <a data-link-type="dfn" href="#cachestorage-global-object" id="ref-for-cachestorage-global-object">global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①③">environment settings object</a>.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="5.2" id="cache-lifetimes"><span class="secno">5.2. </span><span class="content">Understanding Cache Lifetimes</span><a class="self-link" href="#cache-lifetimes"></a></h3>
     <p>The <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache③">Cache</a></code> instances are not part of the browser’s HTTP cache. The <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache④">Cache</a></code> objects are exactly what authors have to manage themselves. The <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑤">Cache</a></code> objects do not get updated unless authors explicitly request them to be. The <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑥">Cache</a></code> objects do not expire unless authors delete the entries. The <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑦">Cache</a></code> objects do not disappear just because the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⑧">service worker</a> script is updated. That is, caches are not updated automatically. Updates must be manually managed. This implies that authors should version their caches by name and make sure to use the caches only from the version of the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑦⑨">service worker</a> that can safely operate on.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="5.3" id="self-caches"><span class="secno">5.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#global-caches-attribute" id="ref-for-global-caches-attribute">self.caches</a></code></span><a class="self-link" href="#self-caches"></a></h3>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope" id="ref-for-windoworworkerglobalscope"><c- g>WindowOrWorkerGlobalScope</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑦"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject⑨"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cachestorage" id="ref-for-cachestorage"><c- n>CacheStorage</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CacheStorage" href="#global-caches-attribute" id="ref-for-global-caches-attribute①"><c- g>caches</c-></a>;
};
</pre>
     <section>
      <h4 class="heading settled" data-level="5.3.1" id="global-caches"><span class="secno">5.3.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#global-caches-attribute" id="ref-for-global-caches-attribute②">caches</a></code></span><a class="self-link" href="#global-caches"></a></h4>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="WindowOrWorkerGlobalScope" data-dfn-type="attribute" data-export id="global-caches-attribute"><code>caches</code></dfn> getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑥">this</a>’s associated <code class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage①">CacheStorage</a></code> object.</p>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="5.4" id="cache-interface"><span class="secno">5.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑧">Cache</a></code></span><a class="self-link" href="#cache-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑧"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①②"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cache"><code><c- g>Cache</c-></code></dfn> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①②"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②④"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑥"><c- n>Response</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑦"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-cache-match" id="ref-for-dom-cache-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/match(request, options), Cache/match(request)" data-dfn-type="argument" data-export id="dom-cache-match-request-options-request"><code><c- g>request</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/match(request, options), Cache/match(request)" data-dfn-type="argument" data-export id="dom-cache-match-request-options-options"><code><c- g>options</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①③"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑤"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array④"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑦"><c- n>Response</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cache-matchall" id="ref-for-dom-cache-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo①"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/matchAll(request, options), Cache/matchAll(request), Cache/matchAll()" data-dfn-type="argument" data-export id="dom-cache-matchall-request-options-request"><code><c- g>request</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions①"><c- n>CacheQueryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/matchAll(request, options), Cache/matchAll(request), Cache/matchAll()" data-dfn-type="argument" data-export id="dom-cache-matchall-request-options-options"><code><c- g>options</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①④"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑥"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑧"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-add" id="ref-for-dom-cache-add"><c- g>add</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo②"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/add(request)" data-dfn-type="argument" data-export id="dom-cache-add-request-request"><code><c- g>request</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑤"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑦"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①⑨"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-addall" id="ref-for-dom-cache-addall"><c- g>addAll</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑤"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo③"><c- n>RequestInfo</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/addAll(requests)" data-dfn-type="argument" data-export id="dom-cache-addall-requests-requests"><code><c- g>requests</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑥"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑧"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②⓪"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-put" id="ref-for-dom-cache-put"><c- g>put</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo④"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/put(request, response)" data-dfn-type="argument" data-export id="dom-cache-put-request-response-request"><code><c- g>request</c-></code></dfn>, <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑧"><c- n>Response</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/put(request, response)" data-dfn-type="argument" data-export id="dom-cache-put-request-response-response"><code><c- g>response</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑦"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②⑨"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean④"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-delete" id="ref-for-dom-cache-delete"><c- g>delete</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo⑤"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/delete(request, options), Cache/delete(request)" data-dfn-type="argument" data-export id="dom-cache-delete-request-options-request"><code><c- g>request</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions②"><c- n>CacheQueryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/delete(request, options), Cache/delete(request)" data-dfn-type="argument" data-export id="dom-cache-delete-request-options-options"><code><c- g>options</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑧"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③⓪"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array" id="ref-for-idl-frozen-array⑤"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request②"><c- n>Request</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cache-keys" id="ref-for-dom-cache-keys"><c- g>keys</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo⑥"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/keys(request, options), Cache/keys(request), Cache/keys()" data-dfn-type="argument" data-export id="dom-cache-keys-request-options-request"><code><c- g>request</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions③"><c- n>CacheQueryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="Cache/keys(request, options), Cache/keys(request), Cache/keys()" data-dfn-type="argument" data-export id="dom-cache-keys-request-options-options"><code><c- g>options</c-></code></dfn> = {});
};
</pre>
<pre class="idl highlight def" id="cache-query-options-dictionary"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-cachequeryoptions"><code><c- g>CacheQueryOptions</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑤"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CacheQueryOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-cachequeryoptions-ignoresearch"><code><c- g>ignoreSearch</c-></code></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑥"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CacheQueryOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-cachequeryoptions-ignoremethod"><code><c- g>ignoreMethod</c-></code></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑦"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="CacheQueryOptions" data-dfn-type="dict-member" data-export data-type="boolean" id="dom-cachequeryoptions-ignorevary"><code><c- g>ignoreVary</c-></code></dfn> = <c- b>false</c->;
};
</pre>
     <p>A <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache⑨">Cache</a></code> object represents a <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list②">request response list</a>. Multiple separate objects implementing the <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⓪">Cache</a></code> interface across documents and workers can all be associated with the same <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list③">request response list</a> simultaneously.</p>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="dfn-cache-batch-operation">cache batch operation</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct③">struct</a> that consists of:</p>
     <ul>
      <li data-md>
       <p>A <dfn class="dfn-paneled" data-dfn-for="cache batch operation" data-dfn-type="dfn" data-export id="dfn-cache-batch-operation-type">type</dfn> ("<code>delete</code>" or "<code>put</code>").</p>
      <li data-md>
       <p>A <dfn class="dfn-paneled" data-dfn-for="cache batch operation" data-dfn-type="dfn" data-export id="dfn-cache-batch-operation-request">request</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request④">request</a>).</p>
      <li data-md>
       <p>A <dfn class="dfn-paneled" data-dfn-for="cache batch operation" data-dfn-type="dfn" data-export id="dfn-cache-batch-operation-response">response</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑥">response</a>).</p>
      <li data-md>
       <p>An <dfn class="dfn-paneled" data-dfn-for="cache batch operation" data-dfn-type="dfn" data-export id="dfn-cache-batch-operation-options">options</dfn> (a <code class="idl"><a data-link-type="idl" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions④">CacheQueryOptions</a></code>).</p>
     </ul>
     <section class="algorithm" data-algorithm="cache-match">
      <h4 class="heading settled" data-level="5.4.1" id="cache-match"><span class="secno">5.4.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match①">match(request, options)</a></code></span><a class="self-link" href="#cache-match"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export data-lt="match(request, options)|match(request)" id="dom-cache-match"><code>match(<var>request</var>, <var>options</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑧">a new promise</a>.</p>
       <li data-md>
        <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑤">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>p</var> be the result of running the algorithm specified in <code class="idl"><a data-link-type="idl" href="#dom-cache-matchall" id="ref-for-dom-cache-matchall①">matchAll(request, options)</a></code> method with <var>request</var> and <var>options</var>.</p>
         <li data-md>
          <p>Wait until <var>p</var> settles.</p>
         <li data-md>
          <p>If <var>p</var> rejects with an exception, then:</p>
          <ol>
           <li data-md>
            <p>Reject <var>promise</var> with that exception.</p>
          </ol>
         <li data-md>
          <p>Else if <var>p</var> resolves with an array, <var>responses</var>, then:</p>
          <ol>
           <li data-md>
            <p>If <var>responses</var> is an empty array, then:</p>
            <ol>
             <li data-md>
              <p>Resolve <var>promise</var> with undefined.</p>
            </ol>
           <li data-md>
            <p>Else:</p>
            <ol>
             <li data-md>
              <p>Resolve <var>promise</var> with the first element of <var>responses</var>.</p>
            </ol>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-matchall">
      <h4 class="heading settled" data-level="5.4.2" id="cache-matchall"><span class="secno">5.4.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cache-matchall" id="ref-for-dom-cache-matchall②">matchAll(request, options)</a></code></span><a class="self-link" href="#cache-matchall"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export data-lt="matchAll(request, options)|matchAll(request)|matchAll()" id="dom-cache-matchall"><code>matchAll(<var>request</var>, <var>options</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>r</var> be null.</p>
       <li data-md>
        <p>If the optional argument <var>request</var> is not omitted, then:</p>
        <ol>
         <li data-md>
          <p>If <var>request</var> is a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request③">Request</a></code> object, then:</p>
          <ol>
           <li data-md>
            <p>Set <var>r</var> to <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request">request</a>.</p>
           <li data-md>
            <p>If <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method">method</a> is not `<code>GET</code>` and <var>options</var>.ignoreMethod is false, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with①">a promise resolved with</a> an empty array.</p>
          </ol>
         <li data-md>
          <p>Else if <var>request</var> is a string, then:</p>
          <ol>
           <li data-md>
            <p>Set <var>r</var> to the associated <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request①">request</a> of the result of invoking the initial value of <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request④">Request</a></code> as constructor with <var>request</var> as its argument. If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑥">throws</a> an exception, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with④">a promise rejected with</a> that exception.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑦">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm④">relevant realm</a>.</p>
       <li data-md>
        <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise⑨">a new promise</a>.</p>
       <li data-md>
        <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑥">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>responses</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⓪">list</a>.</p>
         <li data-md>
          <p>If the optional argument <var>request</var> is omitted, then:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>requestResponse</var> of the <a data-link-type="dfn" href="#dfn-relevant-request-response-list" id="ref-for-dfn-relevant-request-response-list">relevant request response list</a>:</p>
            <ol>
             <li data-md>
              <p>Add a copy of <var>requestResponse</var>’s response to <var>responses</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Else:</p>
          <ol>
           <li data-md>
            <p>Let <var>requestResponses</var> be the result of running <a data-link-type="dfn" href="#query-cache" id="ref-for-query-cache">Query Cache</a> with <var>r</var> and <var>options</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> <var>requestResponse</var> of <var>requestResponses</var>:</p>
            <ol>
             <li data-md>
              <p>Add a copy of <var>requestResponse</var>’s response to <var>responses</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <var>response</var> of <var>responses</var>:</p>
          <ol>
           <li data-md>
            <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type">type</a> is "<code>opaque</code>" and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check" id="ref-for-cross-origin-resource-policy-check">cross-origin resource policy check</a> with <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②⓪">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin⑧">origin</a>, <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②①">relevant settings object</a>, "", and <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response" id="ref-for-concept-internal-response">internal response</a> returns <b>blocked</b>, then reject <var>promise</var> with a <code>TypeError</code> and abort these steps.</p>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①⑦">Queue a task</a>, on <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②②">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop⑥">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①①">DOM manipulation task source</a>, to perform the following steps:</p>
          <ol>
           <li data-md>
            <p>Let <var>responseList</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①①">list</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑦">For each</a> <var>response</var> of <var>responses</var>:</p>
            <ol>
             <li data-md>
              <p>Add a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response⑨">Response</a></code> object associated with <var>response</var> and a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers">Headers</a></code> object whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-headers-guard" id="ref-for-concept-headers-guard">guard</a> is "<code>immutable</code>" to <var>responseList</var>.</p>
            </ol>
           <li data-md>
            <p>Resolve <var>promise</var> with a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type" id="ref-for-dfn-frozen-array-type②">frozen array</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array②">created</a> from <var>responseList</var>, in <var>realm</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-add">
      <h4 class="heading settled" data-level="5.4.3" id="cache-add"><span class="secno">5.4.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cache-add" id="ref-for-dom-cache-add①">add(request)</a></code></span><a class="self-link" href="#cache-add"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export id="dom-cache-add"><code>add(<var>request</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>requests</var> be an array containing only <var>request</var>.</p>
       <li data-md>
        <p>Let <var>responseArrayPromise</var> be the result of running the algorithm specified in <code class="idl"><a data-link-type="idl" href="#dom-cache-addall" id="ref-for-dom-cache-addall①">addAll(requests)</a></code> passing <var>requests</var> as the argument.</p>
       <li data-md>
        <p>Return the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled">reacting</a> to <var>responseArrayPromise</var> with a fulfillment handler that returns undefined.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-addAll">
      <h4 class="heading settled" data-level="5.4.4" id="cache-addAll"><span class="secno">5.4.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cache-addall" id="ref-for-dom-cache-addall②">addAll(requests)</a></code></span><a class="self-link" href="#cache-addAll"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export id="dom-cache-addall"><code>addAll(<var>requests</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>responsePromises</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①②">list</a>.</p>
       <li data-md>
        <p>Let <var>requestList</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①③">list</a>.</p>
       <li data-md>
        <p>For each <var>request</var> whose type is <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑤">Request</a></code> in <var>requests</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>r</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request②">request</a>.</p>
         <li data-md>
          <p>If <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①">url</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> is not one of "<code>http</code>" and "<code>https</code>", or <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method①">method</a> is not `<code>GET</code>`, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑤">a promise rejected with</a> a <code>TypeError</code>.</p>
        </ol>
       <li data-md>
        <p>Let <var>fetchControllers</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①④">list</a> of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller" id="ref-for-fetch-controller">fetch controllers</a>.</p>
       <li data-md>
        <p>For each <var>request</var> in <var>requests</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>r</var> be the associated <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request③">request</a> of the result of invoking the initial value of <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑥">Request</a></code> as constructor with <var>request</var> as its argument. If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑦">throws</a> an exception, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑥">a promise rejected with</a> that exception.</p>
         <li data-md>
          <p>If <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url②">url</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme①">scheme</a> is not one of "<code>http</code>" and "<code>https</code>", then:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑧">For each</a> <var>fetchController</var> of <var>fetchControllers</var>, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-abort" id="ref-for-fetch-controller-abort">abort</a> <var>fetchController</var>.</p>
           <li data-md>
            <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑦">a promise rejected with</a> a <code>TypeError</code>.</p>
          </ol>
         <li data-md>
          <p>If <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global⑦">global object</a> is a <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①③">ServiceWorkerGlobalScope</a></code> object, set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode">service-workers mode</a> to "<code>none</code>".</p>
         <li data-md>
          <p>Set <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-initiator" id="ref-for-concept-request-initiator">initiator</a> to "<code>fetch</code>" and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination">destination</a> to "<code>subresource</code>".</p>
         <li data-md>
          <p>Add <var>r</var> to <var>requestList</var>.</p>
         <li data-md>
          <p>Let <var>responsePromise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⓪">a new promise</a>.</p>
         <li data-md>
          <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑦">in parallel</a>:</p>
          <ul>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append④">Append</a> the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑥">fetching</a> <var>r</var>.</p>
           <li data-md>
            <p>To <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response">processResponse</a> for <var>response</var>, run these substeps:</p>
            <ol>
             <li data-md>
              <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type①">type</a> is "<code>error</code>", or <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status">status</a> is not an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status">ok status</a> or is <code>206</code>, reject <var>responsePromise</var> with a <code>TypeError</code>.</p>
             <li data-md>
              <p>Else if <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list">header list</a> contains a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header">header</a> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-name" id="ref-for-concept-header-name">named</a> `<code>Vary</code>`, then:</p>
              <ol>
               <li data-md>
                <p>Let <var>fieldValues</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑤">list</a> containing the elements corresponding to the <a data-link-type="dfn" href="https://datatracker.ietf.org/doc/html/rfc7230#section-3.2" id="ref-for-section-3.2">field-values</a> of the <a data-link-type="dfn" href="https://datatracker.ietf.org/doc/html/rfc7231#section-7.1.4" id="ref-for-section-7.1.4">Vary</a> header.</p>
               <li data-md>
                <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑨">For each</a> <var>fieldValue</var> of <var>fieldValues</var>:</p>
                <ol>
                 <li data-md>
                  <p>If <var>fieldValue</var> matches "<code>*</code>", then:</p>
                  <ol>
                   <li data-md>
                    <p>Reject <var>responsePromise</var> with a <code>TypeError</code>.</p>
                   <li data-md>
                    <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⓪">For each</a> <var>fetchController</var> of <var>fetchControllers</var>, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-abort" id="ref-for-fetch-controller-abort①">abort</a> <var>fetchController</var>.</p>
                   <li data-md>
                    <p>Abort these steps.</p>
                  </ol>
                </ol>
              </ol>
            </ol>
           <li data-md>
            <p>To <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-processresponseendofbody" id="ref-for-fetch-processresponseendofbody">processResponseEndOfBody</a> for <var>response</var>, run these substeps:</p>
            <ol>
             <li data-md>
              <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-aborted" id="ref-for-concept-response-aborted">aborted flag</a> is set, reject <var>responsePromise</var> with an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#aborterror" id="ref-for-aborterror">AbortError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①③">DOMException</a></code> and abort these steps.</p>
             <li data-md>
              <p>Resolve <var>responsePromise</var> with <var>response</var>.</p>
            </ol>
            <p class="note" role="note"><span class="marker">Note:</span> The cache commit is allowed when the response’s body is fully received.</p>
          </ul>
         <li data-md>
          <p>Add <var>responsePromise</var> to <var>responsePromises</var>.</p>
        </ol>
       <li data-md>
        <p>Let <var>p</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#waiting-for-all-promise" id="ref-for-waiting-for-all-promise">getting a promise to wait for all</a> of <var>responsePromises</var>.</p>
       <li data-md>
        <p>Return the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled①">reacting</a> to <var>p</var> with a fulfillment handler that, when called with argument <var>responses</var>, performs the following substeps:</p>
        <ol>
         <li data-md>
          <p>Let <var>operations</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑥">list</a>.</p>
         <li data-md>
          <p>Let <var>index</var> be zero.</p>
         <li data-md>
          <p>For each <var>response</var> in <var>responses</var>:</p>
          <ol>
           <li data-md>
            <p>Let <var>operation</var> be a <a data-link-type="dfn" href="#dfn-cache-batch-operation" id="ref-for-dfn-cache-batch-operation">cache batch operation</a>.</p>
           <li data-md>
            <p>Set <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-type" id="ref-for-dfn-cache-batch-operation-type">type</a> to "<code>put</code>".</p>
           <li data-md>
            <p>Set <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request">request</a> to <var>requestList</var>[<var>index</var>].</p>
           <li data-md>
            <p>Set <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-response" id="ref-for-dfn-cache-batch-operation-response">response</a> to <var>response</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑤">Append</a> <var>operation</var> to <var>operations</var>.</p>
           <li data-md>
            <p>Increment <var>index</var> by one.</p>
          </ol>
         <li data-md>
          <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑧">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑤">relevant realm</a>.</p>
         <li data-md>
          <p>Let <var>cacheJobPromise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①①">a new promise</a>.</p>
         <li data-md>
          <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑧">in parallel</a>:</p>
          <ol>
           <li data-md>
            <p>Let <var>errorData</var> be null.</p>
           <li data-md>
            <p>Invoke <a data-link-type="dfn" href="#batch-cache-operations" id="ref-for-batch-cache-operations">Batch Cache Operations</a> with <var>operations</var>. If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑧">throws</a> an exception, set <var>errorData</var> to the exception.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①⑧">Queue a task</a>, on <var>cacheJobPromise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②③">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop⑦">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①②">DOM manipulation task source</a>, to perform the following substeps:</p>
            <ol>
             <li data-md>
              <p>If <var>errorData</var> is null, resolve <var>cacheJobPromise</var> with undefined.</p>
             <li data-md>
              <p>Else, reject <var>cacheJobPromise</var> with a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception" id="ref-for-dfn-create-exception">new</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception" id="ref-for-dfn-exception">exception</a> with <var>errorData</var>, in <var>realm</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Return <var>cacheJobPromise</var>.</p>
        </ol>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-put">
      <h4 class="heading settled" data-level="5.4.5" id="cache-put"><span class="secno">5.4.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cache-put" id="ref-for-dom-cache-put①">put(request, response)</a></code></span><a class="self-link" href="#cache-put"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export id="dom-cache-put"><code>put(<var>request</var>, <var>response</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>innerRequest</var> be null.</p>
       <li data-md>
        <p>If <var>request</var> is a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑦">Request</a></code> object, then set <var>innerRequest</var> to <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request④">request</a>.</p>
       <li data-md>
        <p>Else:</p>
        <ol>
         <li data-md>
          <p>Let <var>requestObj</var> be the result of invoking <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑧">Request</a></code>’s constructor with <var>request</var> as its argument. If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑨">throws</a> an <var>exception</var>, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑧">a promise rejected with</a> <var>exception</var>.</p>
         <li data-md>
          <p>Set <var>innerRequest</var> to <var>requestObj</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request⑤">request</a>.</p>
        </ol>
       <li data-md>
        <p>If <var>innerRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url③">url</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme②">scheme</a> is not one of "<code>http</code>" and "<code>https</code>", or <var>innerRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method②">method</a> is not `<code>GET</code>`, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with⑨">a promise rejected with</a> a <code>TypeError</code>.</p>
       <li data-md>
        <p>Let <var>innerResponse</var> be <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response" id="ref-for-concept-response-response①">response</a>.</p>
       <li data-md>
        <p>If <var>innerResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status①">status</a> is <code>206</code>, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①⓪">a promise rejected with</a> a <code>TypeError</code>.</p>
       <li data-md>
        <p>If <var>innerResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list①">header list</a> contains a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header①">header</a> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-name" id="ref-for-concept-header-name①">named</a> `<code>Vary</code>`, then:</p>
        <ol>
         <li data-md>
          <p>Let <var>fieldValues</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑦">list</a> containing the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑤">items</a> corresponding to the  <a data-link-type="dfn" href="https://datatracker.ietf.org/doc/html/rfc7231#section-7.1.4" id="ref-for-section-7.1.4①">Vary</a> header’s <a data-link-type="dfn" href="https://datatracker.ietf.org/doc/html/rfc7230#section-3.2" id="ref-for-section-3.2①">field-values</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①①">For each</a> <var>fieldValue</var> in <var>fieldValues</var>:</p>
          <ol>
           <li data-md>
            <p>If <var>fieldValue</var> matches "<code>*</code>", return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①①">a promise rejected with</a> a <code>TypeError</code>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>If <var>innerResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body⑤">body</a> is <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#is-readable-stream-disturbed" id="ref-for-is-readable-stream-disturbed">disturbed</a> or <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-locked" id="ref-for-readablestream-locked">locked</a>, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①②">a promise rejected with</a> a <code>TypeError</code>.</p>
       <li data-md>
        <p>Let <var>clonedResponse</var> be a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-clone" id="ref-for-concept-response-clone">clone</a> of <var>innerResponse</var>.</p>
       <li data-md>
        <p>Let <var>bodyReadPromise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with②">a promise resolved with</a> undefined.</p>
       <li data-md>
        <p>If <var>innerResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body⑥">body</a> is non-null, run these substeps:</p>
        <ol>
         <li data-md>
          <p>Let <var>stream</var> be <var>innerResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body⑦">body</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-stream" id="ref-for-concept-body-stream③">stream</a>.</p>
         <li data-md>
          <p>Let <var>reader</var> be the result of <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-get-a-reader" id="ref-for-readablestream-get-a-reader①">getting a reader</a> for <var>stream</var>.</p>
         <li data-md>
          <p>Set <var>bodyReadPromise</var> to the result of <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes" id="ref-for-readablestreamdefaultreader-read-all-bytes">reading all bytes</a> from <var>reader</var>.</p>
        </ol>
        <p class="note" role="note"><span class="marker">Note:</span> This ensures that <var>innerResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body⑧">body</a> is <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-locked" id="ref-for-readablestream-locked①">locked</a>, and we have a full buffered copy of the body in <var>clonedResponse</var>. An implementation could optimize by streaming directly to disk rather than memory.</p>
       <li data-md>
        <p>Let <var>operations</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑧">list</a>.</p>
       <li data-md>
        <p>Let <var>operation</var> be a <a data-link-type="dfn" href="#dfn-cache-batch-operation" id="ref-for-dfn-cache-batch-operation①">cache batch operation</a>.</p>
       <li data-md>
        <p>Set <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-type" id="ref-for-dfn-cache-batch-operation-type①">type</a> to "<code>put</code>".</p>
       <li data-md>
        <p>Set <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request①">request</a> to <var>innerRequest</var>.</p>
       <li data-md>
        <p>Set <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-response" id="ref-for-dfn-cache-batch-operation-response①">response</a> to <var>clonedResponse</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑥">Append</a> <var>operation</var> to <var>operations</var>.</p>
       <li data-md>
        <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤⑨">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑥">relevant realm</a>.</p>
       <li data-md>
        <p>Return the result of the <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-fulfillment" id="ref-for-upon-fulfillment③">fulfillment</a> of <var>bodyReadPromise</var>:</p>
        <ol>
         <li data-md>
          <p>Let <var>cacheJobPromise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①②">a new promise</a>.</p>
         <li data-md>
          <p>Return <var>cacheJobPromise</var> and run these steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①⑨">in parallel</a>:</p>
          <ol>
           <li data-md>
            <p>Let <var>errorData</var> be null.</p>
           <li data-md>
            <p>Invoke <a data-link-type="dfn" href="#batch-cache-operations" id="ref-for-batch-cache-operations①">Batch Cache Operations</a> with <var>operations</var>. If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⓪">throws</a> an exception, set <var>errorData</var> to the exception.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task①⑨">Queue a task</a>, on <var>cacheJobPromise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②④">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop⑧">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①③">DOM manipulation task source</a>, to perform the following substeps:</p>
            <ol>
             <li data-md>
              <p>If <var>errorData</var> is null, resolve <var>cacheJobPromise</var> with undefined.</p>
             <li data-md>
              <p>Else, reject <var>cacheJobPromise</var> with a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception" id="ref-for-dfn-create-exception①">new</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception" id="ref-for-dfn-exception①">exception</a> with <var>errorData</var>, in <var>realm</var>.</p>
            </ol>
          </ol>
        </ol>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-delete">
      <h4 class="heading settled" data-level="5.4.6" id="cache-delete"><span class="secno">5.4.6. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cache-delete" id="ref-for-dom-cache-delete①">delete(request, options)</a></code></span><a class="self-link" href="#cache-delete"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export data-lt="delete(request, options)|delete(request)" id="dom-cache-delete"><code>delete(<var>request</var>, <var>options</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>r</var> be null.</p>
       <li data-md>
        <p>If <var>request</var> is a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request⑨">Request</a></code> object, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>r</var> to <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request⑥">request</a>.</p>
         <li data-md>
          <p>If <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method③">method</a> is not `<code>GET</code>` and <var>options</var>.ignoreMethod is false, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with③">a promise resolved with</a> false.</p>
        </ol>
       <li data-md>
        <p>Else if <var>request</var> is a string, then:</p>
        <ol>
         <li data-md>
          <p>Set <var>r</var> to the associated <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request⑦">request</a> of the result of invoking the initial value of <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①⓪">Request</a></code> as constructor with <var>request</var> as its argument. If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①①">throws</a> an exception, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①③">a promise rejected with</a> that exception.</p>
        </ol>
       <li data-md>
        <p>Let <var>operations</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑨">list</a>.</p>
       <li data-md>
        <p>Let <var>operation</var> be a <a data-link-type="dfn" href="#dfn-cache-batch-operation" id="ref-for-dfn-cache-batch-operation②">cache batch operation</a>.</p>
       <li data-md>
        <p>Set <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-type" id="ref-for-dfn-cache-batch-operation-type②">type</a> to "<code>delete</code>".</p>
       <li data-md>
        <p>Set <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request②">request</a> to <var>r</var>.</p>
       <li data-md>
        <p>Set <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-options" id="ref-for-dfn-cache-batch-operation-options">options</a> to <var>options</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑦">Append</a> <var>operation</var> to <var>operations</var>.</p>
       <li data-md>
        <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥⓪">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑦">relevant realm</a>.</p>
       <li data-md>
        <p>Let <var>cacheJobPromise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①③">a new promise</a>.</p>
       <li data-md>
        <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②⓪">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>errorData</var> be null.</p>
         <li data-md>
          <p>Let <var>requestResponses</var> be the result of running <a data-link-type="dfn" href="#batch-cache-operations" id="ref-for-batch-cache-operations②">Batch Cache Operations</a> with <var>operations</var>. If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①②">throws</a> an exception, set <var>errorData</var> to the exception.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②⓪">Queue a task</a>, on <var>cacheJobPromise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②⑤">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop⑨">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①④">DOM manipulation task source</a>, to perform the following substeps:</p>
          <ol>
           <li data-md>
            <p>If <var>errorData</var> is null, then:</p>
            <ol>
             <li data-md>
              <p>If <var>requestResponses</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">is not empty</a>, resolve <var>cacheJobPromise</var> with true.</p>
             <li data-md>
              <p>Else, resolve <var>cacheJobPromise</var> with false.</p>
            </ol>
           <li data-md>
            <p>Else, reject <var>cacheJobPromise</var> with a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception" id="ref-for-dfn-create-exception②">new</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception" id="ref-for-dfn-exception②">exception</a> with <var>errorData</var>, in <var>realm</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>cacheJobPromise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-keys">
      <h4 class="heading settled" data-level="5.4.7" id="cache-keys"><span class="secno">5.4.7. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cache-keys" id="ref-for-dom-cache-keys①">keys(request, options)</a></code></span><a class="self-link" href="#cache-keys"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Cache" data-dfn-type="method" data-export data-lt="keys(request, options)|keys(request)|keys()" id="dom-cache-keys"><code>keys(<var>request</var>, <var>options</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>r</var> be null.</p>
       <li data-md>
        <p>If the optional argument <var>request</var> is not omitted, then:</p>
        <ol>
         <li data-md>
          <p>If <var>request</var> is a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①①">Request</a></code> object, then:</p>
          <ol>
           <li data-md>
            <p>Set <var>r</var> to <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request⑧">request</a>.</p>
           <li data-md>
            <p>If <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method④">method</a> is not `<code>GET</code>` and <var>options</var>.ignoreMethod is false, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with④">a promise resolved with</a> an empty array.</p>
          </ol>
         <li data-md>
          <p>Else if <var>request</var> is a string, then:</p>
          <ol>
           <li data-md>
            <p>Set <var>r</var> to the associated <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request⑨">request</a> of the result of invoking the initial value of <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①②">Request</a></code> as constructor with <var>request</var> as its argument. If this <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①③">throws</a> an exception, return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-rejected-with" id="ref-for-a-promise-rejected-with①④">a promise rejected with</a> that exception.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Let <var>realm</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥①">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑧">relevant realm</a>.</p>
       <li data-md>
        <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①④">a new promise</a>.</p>
       <li data-md>
        <p>Run these substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②①">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>requests</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⓪">list</a>.</p>
         <li data-md>
          <p>If the optional argument <var>request</var> is omitted, then:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①②">For each</a> <var>requestResponse</var> of the <a data-link-type="dfn" href="#dfn-relevant-request-response-list" id="ref-for-dfn-relevant-request-response-list①">relevant request response list</a>:</p>
            <ol>
             <li data-md>
              <p>Add <var>requestResponse</var>’s request to <var>requests</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Else:</p>
          <ol>
           <li data-md>
            <p>Let <var>requestResponses</var> be the result of running <a data-link-type="dfn" href="#query-cache" id="ref-for-query-cache①">Query Cache</a> with <var>r</var> and <var>options</var>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①③">For each</a> <var>requestResponse</var> of <var>requestResponses</var>:</p>
            <ol>
             <li data-md>
              <p>Add <var>requestResponse</var>’s request to <var>requests</var>.</p>
            </ol>
          </ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②①">Queue a task</a>, on <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②⑥">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①⓪">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①⑤">DOM manipulation task source</a>, to perform the following steps:</p>
          <ol>
           <li data-md>
            <p>Let <var>requestList</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②①">list</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①④">For each</a> <var>request</var> of <var>requests</var>:</p>
            <ol>
             <li data-md>
              <p>Add a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①③">Request</a></code> object associated with <var>request</var> and a new associated <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers①">Headers</a></code> object whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-headers-guard" id="ref-for-concept-headers-guard①">guard</a> is "<code>immutable</code>" to <var>requestList</var>.</p>
            </ol>
           <li data-md>
            <p>Resolve <var>promise</var> with a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type" id="ref-for-dfn-frozen-array-type③">frozen array</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-frozen-array" id="ref-for-dfn-create-frozen-array③">created</a> from <var>requestList</var>, in <var>realm</var>.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="5.5" id="cachestorage-interface"><span class="secno">5.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage②">CacheStorage</a></code></span><a class="self-link" href="#cachestorage-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext⑨"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①③"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="cachestorage"><code><c- g>CacheStorage</c-></code></dfn> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject①⑨"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③①"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①⓪"><c- n>Response</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②①"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-match" id="ref-for-dom-cachestorage-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo" id="ref-for-requestinfo⑦"><c- n>RequestInfo</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/match(request, options), CacheStorage/match(request)" data-dfn-type="argument" data-export id="dom-cachestorage-match-request-options-request"><code><c- g>request</c-></code></dfn>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-multicachequeryoptions" id="ref-for-dictdef-multicachequeryoptions"><c- n>MultiCacheQueryOptions</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/match(request, options), CacheStorage/match(request)" data-dfn-type="argument" data-export id="dom-cachestorage-match-request-options-options"><code><c- g>options</c-></code></dfn> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②⓪"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③②"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑧"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-has" id="ref-for-dom-cachestorage-has"><c- g>has</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑦"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/has(cacheName)" data-dfn-type="argument" data-export id="dom-cachestorage-has-cachename-cachename"><code><c- g>cacheName</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②①"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③③"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#cache" id="ref-for-cache①①"><c- n>Cache</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-open" id="ref-for-dom-cachestorage-open"><c- g>open</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑧"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/open(cacheName)" data-dfn-type="argument" data-export id="dom-cachestorage-open-cachename-cachename"><code><c- g>cacheName</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②②"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③④"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean⑨"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-delete" id="ref-for-dom-cachestorage-delete"><c- g>delete</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①⑨"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage/delete(cacheName)" data-dfn-type="argument" data-export id="dom-cachestorage-delete-cachename-cachename"><code><c- g>cacheName</c-></code></dfn>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject" id="ref-for-NewObject②③"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise③⑤"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence⑥"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②⓪"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-keys" id="ref-for-dom-cachestorage-keys"><c- g>keys</c-></a>();
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-multicachequeryoptions"><code><c- g>MultiCacheQueryOptions</c-></code></dfn> : <a data-link-type="idl-name" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions⑤"><c- n>CacheQueryOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②①"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="MultiCacheQueryOptions" data-dfn-type="dict-member" data-export data-type="DOMString" id="dom-multicachequeryoptions-cachename"><code><c- g>cacheName</c-></code></dfn>;
};
</pre>
     <p class="note" role="note"><span class="marker">Note:</span> <code class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage③">CacheStorage</a></code> interface is designed to largely conform to <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-map-objects" id="ref-for-sec-map-objects">ECMAScript 6 Map objects</a> but entirely async, and with additional convenience methods. The methods, <code>clear</code>, <code>forEach</code>, <code>entries</code> and <code>values</code>, are intentionally excluded from the scope of the first version resorting to the ongoing discussion about the async iteration by TC39.</p>
     <p>The user agent <em>must</em> create a <code class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage④">CacheStorage</a></code> object when a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①⓪">Window</a></code> object or a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope" id="ref-for-workerglobalscope②">WorkerGlobalScope</a></code> object is created and associate it with that <dfn class="dfn-paneled" data-dfn-for="CacheStorage" data-dfn-type="dfn" data-noexport id="cachestorage-global-object">global object</dfn>.</p>
     <p>A <code class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage⑤">CacheStorage</a></code> object represents a <a data-link-type="dfn" href="#dfn-name-to-cache-map" id="ref-for-dfn-name-to-cache-map②">name to cache map</a> of its associated <a data-link-type="dfn" href="#cachestorage-global-object" id="ref-for-cachestorage-global-object①">global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①④">environment settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin⑨">origin</a>. Multiple separate objects implementing the <code class="idl"><a data-link-type="idl" href="#cachestorage" id="ref-for-cachestorage⑥">CacheStorage</a></code> interface across documents and workers can all be associated with the same <a data-link-type="dfn" href="#dfn-name-to-cache-map" id="ref-for-dfn-name-to-cache-map③">name to cache map</a> simultaneously.</p>
     <section class="algorithm" data-algorithm="cache-storage-match">
      <h4 class="heading settled" data-level="5.5.1" id="cache-storage-match"><span class="secno">5.5.1. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cachestorage-match" id="ref-for-dom-cachestorage-match①">match(request, options)</a></code></span><a class="self-link" href="#cache-storage-match"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export data-lt="match(request, options)|match(request)" id="dom-cachestorage-match"><code>match(<var>request</var>, <var>options</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-multicachequeryoptions-cachename" id="ref-for-dom-multicachequeryoptions-cachename">cacheName</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">exists</a>, then:</p>
        <ol>
         <li data-md>
          <p>Return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⑤">a new promise</a> <var>promise</var> and run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②②">in parallel</a>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate">For each</a> <var>cacheName</var> → <var>cache</var> of the <a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map" id="ref-for-dfn-relevant-name-to-cache-map">relevant name to cache map</a>:</p>
            <ol>
             <li data-md>
              <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-multicachequeryoptions-cachename" id="ref-for-dom-multicachequeryoptions-cachename①">cacheName</a></code>"] matches <var>cacheName</var>, then:</p>
              <ol>
               <li data-md>
                <p>Resolve <var>promise</var> with the result of running the algorithm specified in <code class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match②">match(request, options)</a></code> method of <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①②">Cache</a></code> interface with <var>request</var> and <var>options</var> (providing <var>cache</var> as thisArgument to the <code>\[[Call]]</code> internal method of <code class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match③">match(request, options)</a></code>.)</p>
               <li data-md>
                <p>Abort these steps.</p>
              </ol>
            </ol>
           <li data-md>
            <p>Resolve <var>promise</var> with undefined.</p>
          </ol>
        </ol>
       <li data-md>
        <p>Else:</p>
        <ol>
         <li data-md>
          <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-promise-resolved-with" id="ref-for-a-promise-resolved-with⑤">a promise resolved with</a> undefined.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①">For each</a> <var>cacheName</var> → <var>cache</var> of the <a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map" id="ref-for-dfn-relevant-name-to-cache-map①">relevant name to cache map</a>:</p>
          <ol>
           <li data-md>
            <p>Set <var>promise</var> to the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled②">reacting</a> to itself with a fulfillment handler that, when called with argument <var>response</var>, performs the following substeps:</p>
            <ol>
             <li data-md>
              <p>If <var>response</var> is not undefined, return <var>response</var>.</p>
             <li data-md>
              <p>Return the result of running the algorithm specified in <code class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match④">match(request, options)</a></code> method of <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①③">Cache</a></code> interface with <var>request</var> and <var>options</var> as the arguments (providing <var>cache</var> as thisArgument to the <code>\[[Call]]</code> internal method of <code class="idl"><a data-link-type="idl" href="#dom-cache-match" id="ref-for-dom-cache-match⑤">match(request, options)</a></code>.)</p>
            </ol>
          </ol>
         <li data-md>
          <p>Return <var>promise</var>.</p>
        </ol>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-storage-has">
      <h4 class="heading settled" data-level="5.5.2" id="cache-storage-has"><span class="secno">5.5.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cachestorage-has" id="ref-for-dom-cachestorage-has①">has(cacheName)</a></code></span><a class="self-link" href="#cache-storage-has"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export id="dom-cachestorage-has"><code>has(<var>cacheName</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⑥">a new promise</a>.</p>
       <li data-md>
        <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②③">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②">For each</a> <var>key</var> → <var>value</var> of the <a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map" id="ref-for-dfn-relevant-name-to-cache-map②">relevant name to cache map</a>:</p>
          <ol>
           <li data-md>
            <p>If <var>cacheName</var> matches <var>key</var>, resolve <var>promise</var> with true and abort these steps.</p>
          </ol>
         <li data-md>
          <p>Resolve <var>promise</var> with false.</p>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-storage-open">
      <h4 class="heading settled" data-level="5.5.3" id="cache-storage-open"><span class="secno">5.5.3. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cachestorage-open" id="ref-for-dom-cachestorage-open①">open(cacheName)</a></code></span><a class="self-link" href="#cache-storage-open"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export id="dom-cachestorage-open"><code>open(<var>cacheName</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⑦">a new promise</a>.</p>
       <li data-md>
        <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②④">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate③">For each</a> <var>key</var> → <var>value</var> of the <a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map" id="ref-for-dfn-relevant-name-to-cache-map③">relevant name to cache map</a>:</p>
          <ol>
           <li data-md>
            <p>If <var>cacheName</var> matches <var>key</var>, then:</p>
            <ol>
             <li data-md>
              <p>Resolve <var>promise</var> with a new <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①④">Cache</a></code> object that represents <var>value</var>.</p>
             <li data-md>
              <p>Abort these steps.</p>
            </ol>
          </ol>
         <li data-md>
          <p>Let <var>cache</var> be a new <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list④">request response list</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">Set</a> the <a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map" id="ref-for-dfn-relevant-name-to-cache-map④">relevant name to cache map</a>[<var>cacheName</var>] to <var>cache</var>. If this cache write operation failed due to exceeding the granted quota limit, reject <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror">QuotaExceededError</a></code> and abort these steps.</p>
         <li data-md>
          <p>Resolve <var>promise</var> with a new <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⑤">Cache</a></code> object that represents <var>cache</var>.</p>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-storage-delete">
      <h4 class="heading settled" data-level="5.5.4" id="cache-storage-delete"><span class="secno">5.5.4. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cachestorage-delete" id="ref-for-dom-cachestorage-delete①">delete(cacheName)</a></code></span><a class="self-link" href="#cache-storage-delete"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export id="dom-cachestorage-delete"><code>delete(<var>cacheName</var>)</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>promise</var> be the result of running the algorithm specified in <code class="idl"><a data-link-type="idl" href="#dom-cachestorage-has" id="ref-for-dom-cachestorage-has②">has(cacheName)</a></code> method with <var>cacheName</var>.</p>
       <li data-md>
        <p>Return the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled" id="ref-for-dfn-perform-steps-once-promise-is-settled③">reacting</a> to <var>promise</var> with a fulfillment handler that, when called with argument <var>cacheExists</var>, performs the following substeps:</p>
        <ol>
         <li data-md>
          <p>If <var>cacheExists</var> is false, then:</p>
          <ol>
           <li data-md>
            <p>Return false.</p>
          </ol>
         <li data-md>
          <p>Let <var>cacheJobPromise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⑧">a new promise</a>.</p>
         <li data-md>
          <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②⑤">in parallel</a>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove">Remove</a> the <a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map" id="ref-for-dfn-relevant-name-to-cache-map⑤">relevant name to cache map</a>[<var>cacheName</var>].</p>
           <li data-md>
            <p>Resolve <var>cacheJobPromise</var> with true.</p>
          </ol>
          <p class="note" role="note"><span class="marker">Note:</span> After this step, the existing DOM objects (i.e. the currently referenced Cache, Request, and Response objects) should remain functional.</p>
         <li data-md>
          <p>Return <var>cacheJobPromise</var>.</p>
        </ol>
      </ol>
     </section>
     <section class="algorithm" data-algorithm="cache-storage-keys">
      <h4 class="heading settled" data-level="5.5.5" id="cache-storage-keys"><span class="secno">5.5.5. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#dom-cachestorage-keys" id="ref-for-dom-cachestorage-keys①">keys()</a></code></span><a class="self-link" href="#cache-storage-keys"></a></h4>
      <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="CacheStorage" data-dfn-type="method" data-export id="dom-cachestorage-keys"><code>keys()</code></dfn> method steps are:</p>
      <ol>
       <li data-md>
        <p>Let <var>promise</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①⑨">a new promise</a>.</p>
       <li data-md>
        <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②⑥">in parallel</a>:</p>
        <ol>
         <li data-md>
          <p>Let <var>cacheKeys</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③">getting the keys</a> of the <a data-link-type="dfn" href="#dfn-relevant-name-to-cache-map" id="ref-for-dfn-relevant-name-to-cache-map⑥">relevant name to cache map</a>.</p>
          <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑥">items</a> in the result <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑥">ordered set</a> are in the order that their corresponding entry was added to the <a data-link-type="dfn" href="#dfn-name-to-cache-map" id="ref-for-dfn-name-to-cache-map④">name to cache map</a>.</p>
         <li data-md>
          <p>Resolve <var>promise</var> with <var>cacheKeys</var>.</p>
        </ol>
       <li data-md>
        <p>Return <var>promise</var>.</p>
      </ol>
     </section>
    </section>
   </section>
   <section>
    <h2 class="heading settled" data-level="6" id="security-considerations"><span class="secno">6. </span><span class="content">Security Considerations</span><a class="self-link" href="#security-considerations"></a></h2>
    <section>
     <h3 class="heading settled" data-level="6.1" id="secure-context"><span class="secno">6.1. </span><span class="content">Secure Context</span><a class="self-link" href="#secure-context"></a></h3>
     <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧⓪">Service workers</a> <em>must</em> execute in <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" id="ref-for-secure-context②">secure contexts</a>. <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③③">Service worker clients</a> <em>must</em> also be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" id="ref-for-secure-context③">secure contexts</a> to register a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④⑤">service worker registration</a>, to get access to the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④⑥">service worker registrations</a> and the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧①">service workers</a>, to do messaging with the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧②">service workers</a>, and to be manipulated by the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧③">service workers</a>.</p>
     <p class="note" role="note"><span class="marker">Note:</span> This effectively means that <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧④">service workers</a> and their <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③④">service worker clients</a> need to be hosted over HTTPS. A user agent can allow <code>localhost</code> (see <a href="https://w3c.github.io/webappsec-secure-contexts/#localhost">the requirements</a>), <code>127.0.0.0/8</code>, and <code>::1/128</code> for development purposes. The primary reason for this restriction is to protect users from the <a href="https://w3c.github.io/webappsec-secure-contexts/#threat-risks">risks associated with insecure contexts</a>.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="6.2" id="content-security-policy"><span class="secno">6.2. </span><span class="content">Content Security Policy</span><a class="self-link" href="#content-security-policy"></a></h3>
     <p>Whenever a user agent invokes the <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker①">Run Service Worker</a> algorithm with a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧⑤">service worker</a> <var>serviceWorker</var>:</p>
     <ul>
      <li data-md>
       <p>If <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource②">script resource</a> was delivered with a <code>Content-Security-Policy</code> HTTP header containing the value <var>policy</var>, the user agent <em>must</em> <a data-link-type="dfn" href="https://wicg.github.io/csp-next/scripting-policy.html#scripting-policy-pair-enforced" id="ref-for-scripting-policy-pair-enforced">enforce</a> <var>policy</var> for <var>serviceWorker</var>.</p>
      <li data-md>
       <p>If <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource③">script resource</a> was delivered with a <code>Content-Security-Policy-Report-Only</code> HTTP header containing the value <var>policy</var>, the user agent <em>must</em> <a data-link-type="dfn" href="https://w3c.github.io/mediacapture-screen-share/#dfn-monitor" id="ref-for-dfn-monitor">monitor</a> <var>policy</var> for <var>serviceWorker</var>.</p>
     </ul>
     <p>The primary reason for this restriction is to mitigate a broad class of content injection vulnerabilities, such as cross-site scripting (XSS).</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="6.3" id="origin-relativity"><span class="secno">6.3. </span><span class="content">Origin Relativity</span><a class="self-link" href="#origin-relativity"></a></h3>
     <section>
      <h4 class="heading settled" data-level="6.3.1" id="origin-restriction"><span class="secno">6.3.1. </span><span class="content">Origin restriction</span><a class="self-link" href="#origin-restriction"></a></h4>
      <p><em>This section is non-normative.</em></p>
      <p>A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧⑥">service worker</a> executes in the registering <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③⑤">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①⓪">origin</a>. One of the advanced concerns that major applications would encounter is whether they can be hosted from a CDN. By definition, these are servers in other places, often on other <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①①">origins</a>. Therefore, <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧⑦">service workers</a> cannot be hosted on CDNs. But they can include resources via <a data-link-type="functionish" href="#importscripts-method" id="ref-for-importscripts-method">importScripts()</a>. The reason for this restriction is that <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧⑧">service workers</a> create the opportunity for a bad actor to turn a bad day into a bad eternity.</p>
     </section>
     <section>
      <h4 class="heading settled" data-level="6.3.2" id="importscripts"><span class="secno">6.3.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="#importscripts-method" id="ref-for-importscripts-method①">importScripts(urls)</a></code></span><a class="self-link" href="#importscripts"></a></h4>
      <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="ServiceWorkerGlobalScope" data-dfn-type="method" data-export id="importscripts-method"><code>importScripts(<var>urls</var>)</code></dfn> method is called on a <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①④">ServiceWorkerGlobalScope</a></code> object, the user agent <em>must</em> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#import-scripts-into-worker-global-scope" id="ref-for-import-scripts-into-worker-global-scope">import scripts into worker global scope</a>, given this <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑤">ServiceWorkerGlobalScope</a></code> object and <var>urls</var>, and with the following <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch" id="ref-for-fetching-scripts-perform-fetch">perform the fetch hook</a> steps, given the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑤">request</a> <var>request</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>serviceWorker</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client①">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global⑧">global object</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker②④">service worker</a>.</p>
       <li data-md>
        <p>Let <var>map</var> be <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-script-resource-map" id="ref-for-dfn-script-resource-map">script resource map</a>.</p>
       <li data-md>
        <p>Let <var>url</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url④">url</a>.</p>
       <li data-md>
        <p>If <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state⑥">state</a> is not "<code>parsed</code>" or "<code>installing</code>":</p>
        <ol>
         <li data-md>
          <p>Return <var>map</var>[<var>url</var>] if it <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exists</a> and a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error②">network error</a> otherwise.</p>
        </ol>
       <li data-md>
        <p>If <var>map</var>[<var>url</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exists</a>:</p>
        <ol>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">Append</a> <var>url</var> to <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-set-of-used-scripts" id="ref-for-dfn-set-of-used-scripts①">set of used scripts</a>.</p>
         <li data-md>
          <p>Return <var>map</var>[<var>url</var>].</p>
        </ol>
       <li data-md>
        <p>Let <var>registration</var> be <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①⑤">containing service worker registration</a>.</p>
       <li data-md>
        <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode①">service-workers mode</a> to "<code>none</code>".</p>
       <li data-md>
        <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-cache-mode" id="ref-for-concept-request-cache-mode">cache mode</a> to "<code>no-cache</code>" if any of the following are true:</p>
        <ul>
         <li data-md>
          <p><var>registration</var>’s <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache①">update via cache mode</a> is "<code>none</code>".</p>
         <li data-md>
          <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object" id="ref-for-current-global-object⑤">current global object</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag" id="ref-for-serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag">force bypass cache for import scripts flag</a> is set.</p>
         <li data-md>
          <p><var>registration</var> is <a data-link-type="dfn" href="#service-worker-registration-stale" id="ref-for-service-worker-registration-stale">stale</a>.</p>
        </ul>
       <li data-md>
        <p>Let <var>response</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑦">fetching</a> <var>request</var>.</p>
       <li data-md>
        <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-cache-state" id="ref-for-concept-response-cache-state">cache state</a> is not "<code>local</code>", set <var>registration</var>’s <a data-link-type="dfn" href="#dfn-last-update-check-time" id="ref-for-dfn-last-update-check-time②">last update check time</a> to the current time.</p>
       <li data-md>
        <p>If <var>response</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response" id="ref-for-unsafe-response">unsafe response</a> is a <a data-link-type="dfn" href="#dfn-bad-import-script-response" id="ref-for-dfn-bad-import-script-response">bad import script response</a>, then return a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error③">network error</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①">Set</a> <var>map</var>[<var>url</var>] to <var>response</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append①">Append</a> <var>url</var> to <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-set-of-used-scripts" id="ref-for-dfn-set-of-used-scripts②">set of used scripts</a>.</p>
       <li data-md>
        <p>Set <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-classic-scripts-imported-flag" id="ref-for-dfn-classic-scripts-imported-flag">classic scripts imported flag</a>.</p>
       <li data-md>
        <p>Return <var>response</var>.</p>
      </ol>
     </section>
    </section>
    <section>
     <h3 class="heading settled" data-level="6.4" id="cross-origin-resources"><span class="secno">6.4. </span><span class="content">Cross-Origin Resources and CORS</span><a class="self-link" href="#cross-origin-resources"></a></h3>
     <p><em>This section is non-normative.</em></p>
     <p>Applications tend to cache items that come from a CDN or other <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①①">origin</a>. It is possible to request many of them directly using <code>&lt;script></code>, <code>&lt;img></code>, <code>&lt;video></code> and <code>&lt;link></code> elements. It would be hugely limiting if this sort of runtime collaboration broke when offline. Similarly, it is possible to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑧">fetch</a> many sorts of off-<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①②">origin</a> resources when appropriate CORS headers are set.
    <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑧⑨">Service workers</a> enable this by allowing <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⑥">Caches</a></code> to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch⑨">fetch</a> and cache off-origin items. Some restrictions apply, however. First, unlike same-origin resources which are managed in the <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⑦">Cache</a></code> as <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①①">Response</a></code> objects whose corresponding <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response" id="ref-for-concept-response-response②">responses</a> are <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-filtered-response-basic" id="ref-for-concept-filtered-response-basic">basic filtered response</a>, the objects stored are <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①②">Response</a></code> objects whose corresponding <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response" id="ref-for-concept-response-response③">responses</a> are either <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-filtered-response-cors" id="ref-for-concept-filtered-response-cors">CORS filtered responses</a> or <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-filtered-response-opaque" id="ref-for-concept-filtered-response-opaque">opaque filtered responses</a>. They can be passed to <code class="idl"><a data-link-type="idl" href="#dom-fetchevent-respondwith" id="ref-for-dom-fetchevent-respondwith③">event.respondWith(r)</a></code> method in the same manner as the <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①③">Response</a></code> objects whose corresponding <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-response" id="ref-for-concept-response-response④">responses</a> are <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-filtered-response-basic" id="ref-for-concept-filtered-response-basic①">basic filtered responses</a>, but cannot be meaningfully created programmatically. These limitations are necessary to preserve the security invariants of the platform. Allowing <code class="idl"><a data-link-type="idl" href="#cache" id="ref-for-cache①⑧">Caches</a></code> to store them allows applications to avoid re-architecting in most cases.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="6.5" id="path-restriction"><span class="secno">6.5. </span><span class="content">Path restriction</span><a class="self-link" href="#path-restriction"></a></h3>
     <p><em>This section is non-normative.</em></p>
     <p>In addition to the <a href="#origin-restriction">origin restriction</a>, service workers are restricted by the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path">path</a> of the service worker script. For example, a service worker script at <code>https://www.example.com/~bob/sw.js</code> can be registered for the <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⓪">scope url</a> <code>https://www.example.com/~bob/</code> but not for the scope <code>https://www.example.com/</code> or <code>https://www.example.com/~alice/</code>. This provides some protection for sites that host multiple-user content in separated directories on the same origin. However, the path restriction is not considered a hard security boundary, as only origins are. Sites are encouraged to use different origins to securely isolate segments of the site if appropriate.</p>
     <p>Servers can remove the path restriction by setting a <a data-link-type="dfn" href="#service-worker-allowed" id="ref-for-service-worker-allowed">Service-Worker-Allowed</a> header on the service worker script.</p>
    </section>
    <section>
     <h3 class="heading settled" data-level="6.6" id="script-request"><span class="secno">6.6. </span><span class="content">Service worker script request</span><a class="self-link" href="#script-request"></a></h3>
     <p><em>This section is non-normative.</em></p>
     <p>To further defend against malicious registration of a service worker on a site, this specification requires that:</p>
     <ul>
      <li data-md>
       <p>The <a data-link-type="dfn" href="#service-worker" id="ref-for-service-worker">Service-Worker</a> header is present on service worker script requests, and</p>
      <li data-md>
       <p>Service worker scripts are served with a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type" id="ref-for-javascript-mime-type">JavaScript MIME type</a>.</p>
     </ul>
    </section>
    <section>
     <h3 class="heading settled" data-level="6.7" id="implementer-concerns"><span class="secno">6.7. </span><span class="content">Implementer Concerns</span><a class="self-link" href="#implementer-concerns"></a></h3>
     <p><em>This section is non-normative.</em></p>
     <p>The implementers are encouraged to note:</p>
     <ul>
      <li data-md>
       <p>Plug-ins should not load via <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨⓪">service workers</a>. As plug-ins may get their security origins from their own urls, the embedding <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨①">service worker</a> cannot handle it. For this reason, the <a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch⑥">Handle Fetch</a> algorithm makes <code>&lt;embed></code> and <code>&lt;object></code> requests immediately fallback to the network without dispatching <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event⑥">fetch</a></code> event.</p>
      <li data-md>
       <p>Some of the legacy networking stack code may need to be carefully audited to understand the ramifications of interactions with <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨②">service workers</a>.</p>
     </ul>
    </section>
    <section>
     <h3 class="heading settled" data-level="6.8" id="privacy"><span class="secno">6.8. </span><span class="content">Privacy</span><a class="self-link" href="#privacy"></a></h3>
     <p><a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨③">Service workers</a> introduce new persistent storage features including <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map③">registration map</a> (for <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④⑦">service worker registrations</a> and their <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨④">service workers</a>), <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list⑤">request response list</a> and <a data-link-type="dfn" href="#dfn-name-to-cache-map" id="ref-for-dfn-name-to-cache-map⑤">name to cache map</a> (for caches), and <a data-link-type="dfn" href="#dfn-script-resource-map" id="ref-for-dfn-script-resource-map①">script resource map</a> (for script resources). In order to protect users from any potential <a data-link-type="biblio" href="#biblio-unsanctioned-tracking" title="Unsanctioned Web Tracking">unsanctioned tracking</a> threat, these persistent storages <em>should</em> be cleared when users intend to clear them and <em>should</em> maintain and interoperate with existing user controls e.g. purging all existing persistent storages.</p>
    </section>
   </section>
   <section>
    <h2 class="heading settled" data-level="7" id="extensibility"><span class="secno">7. </span><span class="content">Extensibility</span><a class="self-link" href="#extensibility"></a></h2>
    <p>Service Workers specification is extensible from other specifications.</p>
    <section>
     <h3 class="heading settled" data-level="7.1" id="extension-to-service-worker-registration"><span class="secno">7.1. </span><span class="content">Define API bound to Service Worker Registration</span><a class="self-link" href="#extension-to-service-worker-registration"></a></h3>
     <p>Specifications <em>may</em> define an API tied to a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④⑧">service worker registration</a> by using <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-partial-interface" id="ref-for-dfn-partial-interface">partial interface</a> definition to the <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①④">ServiceWorkerRegistration</a></code> interface where it <em>may</em> define the specification specific attributes and methods:</p>
<pre class="example idl highlight def" data-no-idl id="example-e75a31ac"><a class="self-link" href="#example-e75a31ac"></a><c- b>partial</c-> <c- b>interface</c-> <c- g>ServiceWorkerRegistration</c-> {
  // e.g. define an API namespace
  <c- b>readonly</c-> <c- b>attribute</c-> <c- n>APISpaceType</c-> <c- g>APISpace</c->;
  // e.g. define a method
  <c- b>Promise</c->&lt;<c- n>T</c->> <c- g>methodName</c->(/* list of arguments */);
};
</pre>
    </section>
    <section>
     <h3 class="heading settled" data-level="7.2" id="extension-to-extendable-event"><span class="secno">7.2. </span><span class="content">Define Functional Event</span><a class="self-link" href="#extension-to-extendable-event"></a></h3>
     <p>Specifications <em>may</em> define a <a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events①⓪">functional event</a> by extending <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①⑤">ExtendableEvent</a></code> interface:</p>
<pre class="example idl highlight def" data-no-idl id="example-85e5c3c4"><a class="self-link" href="#example-85e5c3c4"></a>// e.g. define FunctionalEvent interface
<c- b>interface</c-> <c- g>FunctionalEvent</c-> : <c- n>ExtendableEvent</c-> {
  // add a functional event’s own attributes and methods
};
</pre>
    </section>
    <section>
     <h3 class="heading settled" data-level="7.3" id="extension-to-service-worker-global-scope"><span class="secno">7.3. </span><span class="content">Define Event Handler</span><a class="self-link" href="#extension-to-service-worker-global-scope"></a></h3>
     <p>Specifications <em>may</em> define an event handler attribute for the corresponding <a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events①①">functional event</a> using <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-partial-interface" id="ref-for-dfn-partial-interface①">partial interface</a> definition to the <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑥">ServiceWorkerGlobalScope</a></code> interface:</p>
<pre class="example idl highlight def" data-no-idl id="example-80342678"><a class="self-link" href="#example-80342678"></a><c- b>partial</c-> <c- b>interface</c-> <c- g>ServiceWorkerGlobalScope</c-> {
  <c- b>attribute</c-> <c- n>EventHandler</c-> <c- g>onfunctionalevent</c->;
};
</pre>
    </section>
    <section>
     <h3 class="heading settled" data-level="7.4" id="firing-functional-events"><span class="secno">7.4. </span><span class="content">Firing Functional Events</span><a class="self-link" href="#firing-functional-events"></a></h3>
     <p>To request a <a data-link-type="dfn" href="#dfn-functional-events" id="ref-for-dfn-functional-events①②">functional event</a> dispatch to the <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker①⑨">active worker</a> of a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration④⑨">service worker registration</a>, specifications <em>should</em> invoke <a data-link-type="dfn" href="#fire-functional-event" id="ref-for-fire-functional-event">Fire Functional Event</a>.</p>
    </section>
   </section>
   <section>
    <h2 class="heading settled" id="algorithms"><span class="content">Appendix A: Algorithms</span><a class="self-link" href="#algorithms"></a></h2>
    <p>The following definitions are the user agent’s internal data structures used throughout the specification.</p>
    <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-scope-to-registration-map">registration map</dfn> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">ordered map</a> where the keys are (<a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key④">storage key</a>,  <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑤">serialized</a> <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①①">scope urls</a>) and the values are <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤⓪">service worker registrations</a>.</p>
    <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-job">job</dfn> is an abstraction of one of register, update, and unregister request for a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤①">service worker registration</a>.</p>
    <div>
     
    A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-type">job type</dfn>, which is one of <em>register</em>, <em>update</em>, and <em>unregister</em>.


     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="job-storage-key">storage key</dfn> (a <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key⑤">storage key</a>).</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-scope-url">scope url</dfn> (a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL</a>).</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job③">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-script-url">script url</dfn> (a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL</a>).</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job④">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-worker-type">worker type</dfn> ("<code>classic</code>" or "<code>module</code>").</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑤">job</a> has an <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-update-via-cache-mode">update via cache mode</dfn>, which is "<code>imports</code>", "<code>all</code>", or "<code>none</code>".</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑥">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-client">client</dfn> (a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③⑥">service worker client</a>). It is initially null.</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑦">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="job-referrer">referrer</dfn> (a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL</a> or null).</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑧">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-promise">job promise</dfn> (a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②⑧">promise</a>). It is initially null.</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job⑨">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-containing-job-queue">containing job queue</dfn> (a <a data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue">job queue</a> or null). It is initially null.</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⓪">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-list-of-equivalent-jobs">list of equivalent jobs</dfn> (a list of <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①①">jobs</a>). It is initially the empty list.</p>
     <p>A <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①②">job</a> has a <dfn class="dfn-paneled" data-dfn-for="job" data-dfn-type="dfn" data-noexport id="dfn-job-force-bypass-cache-flag">force bypass cache flag</dfn>. It is initially unset.</p>
    </div>
    <p>Two <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①③">jobs</a> are <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-job-equivalent">equivalent</dfn> when their <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type">job type</a> is the same and:</p>
    <ul>
     <li data-md>
      <p>For <em>register</em> and <em>update</em> <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①④">jobs</a>, their <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url">scope url</a>, <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url">script url</a>, <a data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type①">worker type</a>, and <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode" id="ref-for-dfn-job-update-via-cache-mode">update via cache mode</a> are the same.</p>
     <li data-md>
      <p>For <em>unregister</em> <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⑤">jobs</a>, their <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url①">scope url</a> is the same.</p>
    </ul>
    <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-job-queue">job queue</dfn> is a thread safe <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue" id="ref-for-queue">queue</a> used to synchronize the set of concurrent <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⑥">jobs</a>. The <a data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue①">job queue</a> contains <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⑦">jobs</a> as its <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑦">items</a>. A <a data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue②">job queue</a> is initially empty.</p>
    <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-scope-to-job-queue-map">scope to job queue map</dfn> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">ordered map</a> where the keys are <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①②">scope urls</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑥">serialized</a>, and the values are <a data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue③">job queues</a>.</p>
    <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-bad-import-script-response">bad import script response</dfn> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑦">response</a> for which any of the following conditions are met:</p>
    <ul>
     <li data-md>
      <p><var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type②">type</a> is "<code>error</code>"</p>
     <li data-md>
      <p><var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status②">status</a> is not an <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status①">ok status</a></p>
     <li data-md>
      <p>The result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type" id="ref-for-concept-header-extract-mime-type">extracting a MIME type</a> from <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list②">header list</a> is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type" id="ref-for-javascript-mime-type①">JavaScript MIME type</a></p>
      <p class="note" role="note"><span class="marker">Note:</span> Keep this definition in sync with <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-imported-script" id="ref-for-fetch-a-classic-worker-imported-script">fetch a classic worker-imported script</a>.</p>
    </ul>
    <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dfn-race-result">race result</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#tuple" id="ref-for-tuple①">tuple</a> of a <a data-link-type="dfn" href="#race-result-routed-response" id="ref-for-race-result-routed-response">routed response</a> and <a data-link-type="dfn" href="#race-result-used-route" id="ref-for-race-result-used-route">used route</a>.</p>
    <p>A <a data-link-type="dfn" href="#dfn-race-result" id="ref-for-dfn-race-result">race result</a> has an associated <dfn class="dfn-paneled" data-dfn-for="race result" data-dfn-type="dfn" data-export id="race-result-routed-response">routed response</dfn> (a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑧">response</a>).</p>
    <p>A <a data-link-type="dfn" href="#dfn-race-result" id="ref-for-dfn-race-result①">race result</a> has an associated <dfn class="dfn-paneled" data-dfn-for="race result" data-dfn-type="dfn" data-export id="race-result-used-route">used route</dfn> (a <code class="idl"><a data-link-type="idl" href="#enumdef-routersourceenum" id="ref-for-enumdef-routersourceenum①">RouterSourceEnum</a></code>).</p>
    <section class="algorithm" data-algorithm="Create Job">
     <h3 class="heading settled" id="create-job-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-job">Create Job</dfn></span><a class="self-link" href="#create-job-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>jobType</var>, a <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type①">job type</a></p>
      <dd data-md>
       <p><var>storage key</var>, a <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key⑥">storage key</a></p>
      <dd data-md>
       <p><var>scopeURL</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑦">URL</a></p>
      <dd data-md>
       <p><var>scriptURL</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑧">URL</a></p>
      <dd data-md>
       <p><var>promise</var>, a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects②⑨">promise</a></p>
      <dd data-md>
       <p><var>client</var>, a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③⑦">service worker client</a></p>
      <dt data-md>Output
      <dd data-md>
       <p><var>job</var>, a <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⑧">job</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>job</var> be a new <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job①⑨">job</a>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type②">job type</a> to <var>jobType</var>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#job-storage-key" id="ref-for-job-storage-key">storage key</a> to <var>storage key</var>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url②">scope url</a> to <var>scopeURL</var>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url①">script url</a> to <var>scriptURL</var>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-promise" id="ref-for-dfn-job-promise">job promise</a> to <var>promise</var>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client">client</a> to <var>client</var>.</p>
      <li data-md>
       <p>If <var>client</var> is not null, set <var>job</var>’s <a data-link-type="dfn" href="#job-referrer" id="ref-for-job-referrer">referrer</a> to <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url⑥">creation URL</a>.</p>
      <li data-md>
       <p>Return <var>job</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Schedule Job">
     <h3 class="heading settled" id="schedule-job-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="schedule-job">Schedule Job</dfn></span><a class="self-link" href="#schedule-job-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>job</var>, a <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②⓪">job</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>jobQueue</var> be null.</p>
      <li data-md>
       <p>Let <var>jobScope</var> be <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url③">scope url</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑦">serialized</a>.</p>
      <li data-md>
       <p>If <a data-link-type="dfn" href="#dfn-scope-to-job-queue-map" id="ref-for-dfn-scope-to-job-queue-map">scope to job queue map</a>[<var>jobScope</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">exist</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②">set</a> <a data-link-type="dfn" href="#dfn-scope-to-job-queue-map" id="ref-for-dfn-scope-to-job-queue-map①">scope to job queue map</a>[<var>jobScope</var>] to a new <a data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue④">job queue</a>.</p>
      <li data-md>
       <p>Set <var>jobQueue</var> to <a data-link-type="dfn" href="#dfn-scope-to-job-queue-map" id="ref-for-dfn-scope-to-job-queue-map②">scope to job queue map</a>[<var>jobScope</var>].</p>
      <li data-md>
       <p>If <var>jobQueue</var> is empty, then:</p>
       <ol>
        <li data-md>
         <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-containing-job-queue" id="ref-for-dfn-containing-job-queue">containing job queue</a> to <var>jobQueue</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-enqueue" id="ref-for-queue-enqueue①">enqueue</a> <var>job</var> to <var>jobQueue</var>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#run-job" id="ref-for-run-job">Run Job</a> with <var>jobQueue</var>.</p>
       </ol>
      <li data-md>
       <p>Else:</p>
       <ol>
        <li data-md>
         <p>Let <var>lastJob</var> be the element at the back of <var>jobQueue</var>.</p>
        <li data-md>
         <p>If <var>job</var> is <a data-link-type="dfn" href="#dfn-job-equivalent" id="ref-for-dfn-job-equivalent">equivalent</a> to <var>lastJob</var> and <var>lastJob</var>’s <a data-link-type="dfn" href="#dfn-job-promise" id="ref-for-dfn-job-promise①">job promise</a> has not settled, append <var>job</var> to <var>lastJob</var>’s <a data-link-type="dfn" href="#dfn-job-list-of-equivalent-jobs" id="ref-for-dfn-job-list-of-equivalent-jobs">list of equivalent jobs</a>.</p>
        <li data-md>
         <p>Else, set <var>job</var>’s <a data-link-type="dfn" href="#dfn-containing-job-queue" id="ref-for-dfn-containing-job-queue①">containing job queue</a> to <var>jobQueue</var>, and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-enqueue" id="ref-for-queue-enqueue②">enqueue</a> <var>job</var> to <var>jobQueue</var>.</p>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Run Job">
     <h3 class="heading settled" id="run-job-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="run-job">Run Job</dfn></span><a class="self-link" href="#run-job-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p>jobQueue, a <a data-link-type="dfn" href="#dfn-job-queue" id="ref-for-dfn-job-queue⑤">job queue</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p class="assertion">Assert: <var>jobQueue</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">is not empty</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②②">Queue a task</a> to run these steps:</p>
       <ol>
        <li data-md>
         <p>Let <var>job</var> be the first <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑧">item</a> in <var>jobQueue</var>.</p>
        <li data-md>
         <p>If <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type③">job type</a> is <em>register</em>, run <a data-link-type="dfn" href="#register" id="ref-for-register②">Register</a> with <var>job</var> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②⑦">in parallel</a>.</p>
        <li data-md>
         <p>Else if <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type④">job type</a> is <em>update</em>, run <a data-link-type="dfn" href="#update" id="ref-for-update">Update</a> with <var>job</var> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②⑧">in parallel</a>.</p>
         <p class="note" role="note"><span class="marker">Note:</span> For a register job and an update job, the user agent delays queuing a task for running the job until after a <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded" id="ref-for-event-domcontentloaded">DOMContentLoaded</a></code> event has been dispatched to the document that initiated the job.</p>
        <li data-md>
         <p>Else if <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type⑤">job type</a> is <em>unregister</em>, run <a data-link-type="dfn" href="#unregister" id="ref-for-unregister">Unregister</a> with <var>job</var> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②⑨">in parallel</a>.</p>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Finish Job">
     <h3 class="heading settled" id="finish-job-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="finish-job">Finish Job</dfn></span><a class="self-link" href="#finish-job-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>job</var>, a <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②①">job</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>jobQueue</var> be <var>job</var>’s <a data-link-type="dfn" href="#dfn-containing-job-queue" id="ref-for-dfn-containing-job-queue②">containing job queue</a>.</p>
      <li data-md>
       <p class="assertion">Assert: the first <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item⑨">item</a> in <var>jobQueue</var> is <var>job</var>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-dequeue" id="ref-for-queue-dequeue">Dequeue</a> from <var>jobQueue</var>.</p>
      <li data-md>
       <p>If <var>jobQueue</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">is not empty</a>, invoke <a data-link-type="dfn" href="#run-job" id="ref-for-run-job①">Run Job</a> with <var>jobQueue</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Resolve Job Promise">
     <h3 class="heading settled" id="resolve-job-promise-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resolve-job-promise">Resolve Job Promise</dfn></span><a class="self-link" href="#resolve-job-promise-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>job</var>, a <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②②">job</a></p>
      <dd data-md>
       <p><var>value</var>, any</p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①">client</a> is not null, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②③">queue a task</a>, on <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client②">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①①">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①⑥">DOM manipulation task source</a>, to run the following substeps:</p>
       <ol>
        <li data-md>
         <p>Let <var>convertedValue</var> be null.</p>
        <li data-md>
         <p>If <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type⑥">job type</a> is either <em>register</em> or <em>update</em>, set <var>convertedValue</var> to the result of <a data-link-type="dfn" href="#get-the-service-worker-registration-object" id="ref-for-get-the-service-worker-registration-object④">getting the service worker registration object</a> that represents <var>value</var> in <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client③">client</a>.</p>
        <li data-md>
         <p>Else, set <var>convertedValue</var> to <var>value</var>, in <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client④">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm⑤">Realm</a>.</p>
        <li data-md>
         <p>Resolve <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-promise" id="ref-for-dfn-job-promise②">job promise</a> with <var>convertedValue</var>.</p>
       </ol>
      <li data-md>
       <p>For each <var>equivalentJob</var> in <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-list-of-equivalent-jobs" id="ref-for-dfn-job-list-of-equivalent-jobs①">list of equivalent jobs</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client⑤">client</a> is null, continue to the next iteration of the loop.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②④">Queue a task</a>, on <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client⑥">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①②">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①⑦">DOM manipulation task source</a>, to run the following substeps:</p>
         <ol>
          <li data-md>
           <p>Let <var>convertedValue</var> be null.</p>
          <li data-md>
           <p>If <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type⑦">job type</a> is either <em>register</em> or <em>update</em>, set <var>convertedValue</var> to the result of <a data-link-type="dfn" href="#get-the-service-worker-registration-object" id="ref-for-get-the-service-worker-registration-object⑤">getting the service worker registration object</a> that represents <var>value</var> in <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client⑦">client</a>.</p>
          <li data-md>
           <p>Else, set <var>convertedValue</var> to <var>value</var>, in <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client⑧">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm⑥">Realm</a>.</p>
          <li data-md>
           <p>Resolve <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-promise" id="ref-for-dfn-job-promise③">job promise</a> with <var>convertedValue</var>.</p>
         </ol>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Reject Job Promise">
     <h3 class="heading settled" id="reject-job-promise-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="reject-job-promise">Reject Job Promise</dfn></span><a class="self-link" href="#reject-job-promise-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>job</var>, a <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②③">job</a></p>
      <dd data-md>
       <p><var>errorData</var>, the information necessary to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception" id="ref-for-dfn-create-exception③">create an exception</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client⑨">client</a> is not null, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②⑤">queue a task</a>, on <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①⓪">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①③">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①⑧">DOM manipulation task source</a>, to reject <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-promise" id="ref-for-dfn-job-promise④">job promise</a> with a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception" id="ref-for-dfn-create-exception④">new</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception" id="ref-for-dfn-exception③">exception</a> with <var>errorData</var>, in <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①①">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm⑦">Realm</a>.</p>
      <li data-md>
       <p>For each <var>equivalentJob</var> in <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-list-of-equivalent-jobs" id="ref-for-dfn-job-list-of-equivalent-jobs②">list of equivalent jobs</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①②">client</a> is null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑦">continue</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②⑥">Queue a task</a>, on <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①③">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①④">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①⑨">DOM manipulation task source</a>, to reject <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-promise" id="ref-for-dfn-job-promise⑤">job promise</a> with a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-create-exception" id="ref-for-dfn-create-exception⑤">new</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-exception" id="ref-for-dfn-exception④">exception</a> with <var>errorData</var>, in <var>equivalentJob</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①④">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm⑧">Realm</a>.</p>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Start Register">
     <h3 class="heading settled" id="start-register-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="start-register">Start Register</dfn></span><a class="self-link" href="#start-register-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>scopeURL</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑨">URL</a> or failure or null</p>
      <dd data-md>
       <p><var>scriptURL</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⓪">URL</a> or failure</p>
      <dd data-md>
       <p><var>promise</var>, a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects③⓪">promise</a></p>
      <dd data-md>
       <p><var>client</var>, a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③⑧">service worker client</a></p>
      <dd data-md>
       <p><var>referrer</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①①">URL</a></p>
      <dd data-md>
       <p><var>workerType</var>, a <a data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type②">worker type</a></p>
      <dd data-md>
       <p><var>updateViaCache</var>, an <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache②">update via cache mode</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>scriptURL</var> is failure, reject <var>promise</var> with a <code>TypeError</code> and abort these steps.</p>
      <li data-md>
       <p>Set <var>scriptURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment①">fragment</a> to null.</p>
       <p class="note" role="note"><span class="marker">Note:</span> The user agent does not store the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment②">fragment</a> of the script’s url. This means that the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment③">fragment</a> does not have an effect on identifying <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨⑤">service workers</a>.</p>
      <li data-md>
       <p>If <var>scriptURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme③">scheme</a> is not one of "<code>http</code>" and "<code>https</code>", reject <var>promise</var> with a <code>TypeError</code> and abort these steps.</p>
      <li data-md>
       <p>If any of the strings in <var>scriptURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path①">path</a> contains either <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive">ASCII case-insensitive</a> "<code>%2f</code>" or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive①">ASCII case-insensitive</a> "<code>%5c</code>", reject <var>promise</var> with a <code>TypeError</code> and abort these steps.</p>
      <li data-md>
       <p>If <var>scopeURL</var> is null, set <var>scopeURL</var> to the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑤">parsing</a> the string "<code>./</code>" with <var>scriptURL</var>.</p>
       <p class="note" role="note"><span class="marker">Note:</span> The scope url for the registration is set to the location of the service worker script by default.</p>
      <li data-md>
       <p>If <var>scopeURL</var> is failure, reject <var>promise</var> with a <code>TypeError</code> and abort these steps.</p>
      <li data-md>
       <p>Set <var>scopeURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment④">fragment</a> to null.</p>
       <p class="note" role="note"><span class="marker">Note:</span> The user agent does not store the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment⑤">fragment</a> of the scope url. This means that the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-fragment" id="ref-for-concept-url-fragment⑥">fragment</a> does not have an effect on identifying <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤②">service worker registrations</a>.</p>
      <li data-md>
       <p>If <var>scopeURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme④">scheme</a> is not one of "<code>http</code>" and "<code>https</code>", reject <var>promise</var> with a <code>TypeError</code> and abort these steps.</p>
      <li data-md>
       <p>If any of the strings in <var>scopeURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path②">path</a> contains either <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive②">ASCII case-insensitive</a> "<code>%2f</code>" or <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive③">ASCII case-insensitive</a> "<code>%5c</code>", reject <var>promise</var> with a <code>TypeError</code> and abort these steps.</p>
      <li data-md>
       <p>Let <var>storage key</var> be the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key⑨">obtain a storage key</a> given <var>client</var>.</p>
      <li data-md>
       <p>Let <var>job</var> be the result of running <a data-link-type="dfn" href="#create-job" id="ref-for-create-job②">Create Job</a> with <em>register</em>, <var>storage key</var>, <var>scopeURL</var>, <var>scriptURL</var>, <var>promise</var>, and <var>client</var>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type③">worker type</a> to <var>workerType</var>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode" id="ref-for-dfn-job-update-via-cache-mode①">update via cache mode</a> to <var>updateViaCache</var>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#job-referrer" id="ref-for-job-referrer①">referrer</a> to <var>referrer</var>.</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#schedule-job" id="ref-for-schedule-job②">Schedule Job</a> with <var>job</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Register">
     <h3 class="heading settled" id="register-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="register">Register</dfn></span><a class="self-link" href="#register-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>job</var>, a <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②④">job</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-origin" id="ref-for-potentially-trustworthy-origin">potentially trustworthy origin</a> with the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①③">origin</a> of <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url②">script url</a> as the argument is <code>Not Trusted</code>, then:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise">Reject Job Promise</a> with <var>job</var> and "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror①">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①④">DOMException</a></code>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>If <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url③">script url</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origin</a> and <var>job</var>’s <a data-link-type="dfn" href="#job-referrer" id="ref-for-job-referrer②">referrer</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin③">origin</a> are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin④">same origin</a>, then:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise①">Reject Job Promise</a> with <var>job</var> and "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror②">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑤">DOMException</a></code>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job①">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>If <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url④">scope url</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin④">origin</a> and <var>job</var>’s <a data-link-type="dfn" href="#job-referrer" id="ref-for-job-referrer③">referrer</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑤">origin</a> are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑤">same origin</a>, then:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise②">Reject Job Promise</a> with <var>job</var> and "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror③">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑥">DOMException</a></code>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job②">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>Let <var>registration</var> be the result of running <a data-link-type="dfn" href="#get-registration" id="ref-for-get-registration">Get Registration</a> given <var>job</var>’s <a data-link-type="dfn" href="#job-storage-key" id="ref-for-job-storage-key①">storage key</a> and <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url⑤">scope url</a>.</p>
      <li data-md>
       <p>If <var>registration</var> is not null, then:</p>
       <ol>
        <li data-md>
         <p>Let <var>newestWorker</var> be the result of running the <a data-link-type="dfn" href="#get-newest-worker" id="ref-for-get-newest-worker①">Get Newest Worker</a> algorithm passing <var>registration</var> as the argument.</p>
        <li data-md>
         <p>If <var>newestWorker</var> is not null, <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url④">script url</a> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-equals" id="ref-for-concept-url-equals">equals</a> <var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url②">script url</a>, <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type④">worker type</a> equals <var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type①">type</a>, and <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode" id="ref-for-dfn-job-update-via-cache-mode②">update via cache mode</a>’s value equals <var>registration</var>’s <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache③">update via cache mode</a>, then:</p>
         <ol>
          <li data-md>
           <p>Invoke <a data-link-type="dfn" href="#resolve-job-promise" id="ref-for-resolve-job-promise">Resolve Job Promise</a> with <var>job</var> and <var>registration</var>.</p>
          <li data-md>
           <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job③">Finish Job</a> with <var>job</var> and abort these steps.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Else:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#set-registration" id="ref-for-set-registration">Set Registration</a> algorithm with <var>job</var>’s <a data-link-type="dfn" href="#job-storage-key" id="ref-for-job-storage-key②">storage key</a>, <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url⑥">scope url</a>, and <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode" id="ref-for-dfn-job-update-via-cache-mode③">update via cache mode</a>.</p>
       </ol>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#update" id="ref-for-update①">Update</a> algorithm passing <var>job</var> as the argument.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Update">
     <h3 class="heading settled" id="update-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update">Update</dfn></span><a class="self-link" href="#update-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>job</var>, a <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②⑤">job</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>registration</var> be the result of running <a data-link-type="dfn" href="#get-registration" id="ref-for-get-registration①">Get Registration</a> given <var>job</var>’s <a data-link-type="dfn" href="#job-storage-key" id="ref-for-job-storage-key③">storage key</a> and <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url⑦">scope url</a>.</p>
      <li data-md>
       <p>If <var>registration</var> is null, then:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise③">Reject Job Promise</a> with <var>job</var> and <code>TypeError</code>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job④">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>Let <var>newestWorker</var> be the result of running <a data-link-type="dfn" href="#get-newest-worker" id="ref-for-get-newest-worker②">Get Newest Worker</a> algorithm passing <var>registration</var> as the argument.</p>
      <li data-md>
       <p>If <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-type" id="ref-for-dfn-job-type⑧">job type</a> is <em>update</em>, and <var>newestWorker</var> is not null and its <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url③">script url</a> does not <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-equals" id="ref-for-concept-url-equals①">equal</a> <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url⑤">script url</a>, then:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise④">Reject Job Promise</a> with <var>job</var> and <code>TypeError</code>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job⑤">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>Let <var>hasUpdatedResources</var> be false.</p>
      <li data-md>
       <p>Let <var>updatedResourceMap</var> be an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">ordered map</a> where the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys④">keys</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①②">URLs</a> and the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③">values</a> are <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response⑨">responses</a>.</p>
      <li data-md>
       <p>Switching on <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type⑤">worker type</a>, run these substeps with the following options:</p>
       <dl>
        <dt data-md>"<code>classic</code>"
        <dd data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script" id="ref-for-fetch-a-classic-worker-script">Fetch a classic worker script</a> given <var>job</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑧">serialized</a> <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url⑥">script url</a>, <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①⑤">client</a>, "<code>serviceworker</code>", and the to-be-created <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①⑤">environment settings object</a> for this service worker.</p>
        <dt data-md>"<code>module</code>"
        <dd data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree" id="ref-for-fetch-a-module-worker-script-tree">Fetch a module worker script graph</a> given <var>job</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer⑨">serialized</a> <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url⑦">script url</a>, <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①⑥">client</a>, "<code>serviceworker</code>", "<code>omit</code>", and the to-be-created <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①⑥">environment settings object</a> for this service worker.</p>
       </dl>
       <p class="issue" id="issue-02e2fe82"><a class="self-link" href="#issue-02e2fe82"></a> Using the to-be-created <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①⑦">environment settings object</a> rather than a concrete <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①⑧">environment settings object</a>. This is used due to the unique processing model of service workers compared to the processing model of other <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#workers" id="ref-for-workers①">web workers</a>. The script fetching algorithms of HTML standard originally designed for other <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#workers" id="ref-for-workers②">web workers</a> require an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object①⑨">environment settings object</a> of the execution environment, but service workers fetch a script separately in the <a data-link-type="dfn" href="#update" id="ref-for-update②">Update</a> algorithm before the script later runs multiple times through the <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker②">Run Service Worker</a> algorithm.</p>
       <p class="issue" id="issue-9d9e65b5"><a class="self-link" href="#issue-9d9e65b5"></a> The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script" id="ref-for-fetch-a-classic-worker-script①">fetch a classic worker script</a> algorithm and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree" id="ref-for-fetch-a-module-worker-script-tree①">fetch a module worker script graph</a> algorithm in HTML take <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①⑦">client</a> as an argument. <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①⑧">client</a> is null when passed from the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update">Soft Update</a> algorithm.</p>
       <p>To <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch" id="ref-for-fetching-scripts-perform-fetch①">perform the fetch hook</a> given <var>request</var>, run the following steps:</p>
       <ol>
        <li data-md>
         <p>Append `<code>Service-Worker</code>`/`<code>script</code>` to <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>.</p>
         <p class="note" role="note"><span class="marker">Note:</span> See the definition of the Service-Worker header in Appendix B: Extended HTTP headers.</p>
        <li data-md>
         <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-cache-mode" id="ref-for-concept-request-cache-mode①">cache mode</a> to "<code>no-cache</code>" if any of the following are true:</p>
         <ul>
          <li data-md>
           <p><var>registration</var>’s <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache④">update via cache mode</a> is not "<code>all</code>".</p>
          <li data-md>
           <p><var>job</var>’s <a data-link-type="dfn" href="#dfn-job-force-bypass-cache-flag" id="ref-for-dfn-job-force-bypass-cache-flag">force bypass cache flag</a> is set.</p>
          <li data-md>
           <p><var>newestWorker</var> is not null and <var>registration</var> is <a data-link-type="dfn" href="#service-worker-registration-stale" id="ref-for-service-worker-registration-stale①">stale</a>.</p>
         </ul>
         <p class="note" role="note"><span class="marker">Note:</span> Even if the cache mode is not set to "<code>no-cache</code>", the user agent obeys Cache-Control header’s max-age value in the network layer to determine if it should bypass the browser cache.</p>
        <li data-md>
         <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode②">service-workers mode</a> to "<code>none</code>".</p>
        <li data-md>
         <p>If the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-is-top-level" id="ref-for-fetching-scripts-is-top-level">isTopLevel</a> flag is unset, then return the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①⓪">fetching</a> <var>request</var>.</p>
        <li data-md>
         <p>Set <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode" id="ref-for-concept-request-redirect-mode">redirect mode</a> to "<code>error</code>".</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①①">Fetch</a> <var>request</var>, and asynchronously wait to run the remaining steps as part of fetch’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response①">processResponse</a> for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①⓪">response</a> <var>response</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-extract-mime-type" id="ref-for-concept-header-extract-mime-type①">Extract a MIME type</a> from the <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list③">header list</a>. If this MIME type (ignoring parameters) is not a <a data-link-type="dfn" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type" id="ref-for-javascript-mime-type②">JavaScript MIME type</a>, then:</p>
         <ol>
          <li data-md>
           <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise⑤">Reject Job Promise</a> with <var>job</var> and "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror④">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑦">DOMException</a></code>.</p>
          <li data-md>
           <p>Asynchronously complete these steps with a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error④">network error</a>.</p>
         </ol>
        <li data-md>
         <p>Let <var>serviceWorkerAllowed</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#extract-header-list-values" id="ref-for-extract-header-list-values">extracting header list values</a> given `<code>Service-Worker-Allowed</code>` and <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list④">header list</a>.</p>
         <p class="note" role="note"><span class="marker">Note:</span> See the definition of the <a data-link-type="dfn" href="#service-worker-allowed" id="ref-for-service-worker-allowed①">Service-Worker-Allowed</a> header in Appendix B: Extended HTTP headers.</p>
        <li data-md>
         <p>Set <var>policyContainer</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#creating-a-policy-container-from-a-fetch-response" id="ref-for-creating-a-policy-container-from-a-fetch-response">creating a policy container from a fetch response</a> given <var>response</var>.</p>
        <li data-md>
         <p>If <var>serviceWorkerAllowed</var> is failure, then:</p>
         <ol>
          <li data-md>
           <p>Asynchronously complete these steps with a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error⑤">network error</a>.</p>
         </ol>
        <li data-md>
         <p>Let <var>scopeURL</var> be <var>registration</var>’s <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①③">scope url</a>.</p>
        <li data-md>
         <p>Let <var>maxScopeString</var> be null.</p>
        <li data-md>
         <p>If <var>serviceWorkerAllowed</var> is null, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>resolvedScope</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑥">parsing</a> "<code>./</code>" using <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url⑧">script url</a> as the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url" id="ref-for-concept-script-base-url">base URL</a>.</p>
          <li data-md>
           <p>Set <var>maxScopeString</var> to "<code>/</code>", followed by the strings in <var>resolvedScope</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path③">path</a> (including empty strings), separated from each other by "<code>/</code>".</p>
           <p class="note" role="note"><span class="marker">Note:</span> The final item in <var>resolvedScope</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path④">path</a> will always be an empty string, so <var>maxScopeString</var> will have a trailing "<code>/</code>".</p>
         </ol>
        <li data-md>
         <p>Else:</p>
         <ol>
          <li data-md>
           <p>Let <var>maxScope</var> be the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑦">parsing</a> <var>serviceWorkerAllowed</var> using <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url⑨">script url</a> as the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url" id="ref-for-concept-script-base-url①">base URL</a>.</p>
          <li data-md>
           <p>If <var>maxScope</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑥">origin</a> is <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url①⓪">script url</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑦">origin</a>, then:</p>
           <ol>
            <li data-md>
             <p>Set <var>maxScopeString</var> to "<code>/</code>", followed by the strings in <var>maxScope</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path⑤">path</a> (including empty strings), separated from each other by "<code>/</code>".</p>
           </ol>
         </ol>
        <li data-md>
         <p>Let <var>scopeString</var> be "<code>/</code>", followed by the strings in <var>scopeURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path" id="ref-for-concept-url-path⑥">path</a> (including empty strings), separated from each other by "<code>/</code>".</p>
        <li data-md>
         <p>If <var>maxScopeString</var> is null or <var>scopeString</var> does not start with <var>maxScopeString</var>, then:</p>
         <ol>
          <li data-md>
           <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise⑥">Reject Job Promise</a> with <var>job</var> and "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑤">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑧">DOMException</a></code>.</p>
          <li data-md>
           <p>Asynchronously complete these steps with a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error⑥">network error</a>.</p>
         </ol>
        <li data-md>
         <p>Let <var>url</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑤">url</a>.</p>
        <li data-md>
         <p>Set <var>updatedResourceMap</var>[<var>url</var>] to <var>response</var>.</p>
        <li data-md>
         <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-cache-state" id="ref-for-concept-response-cache-state①">cache state</a> is not "<code>local</code>", set <var>registration</var>’s <a data-link-type="dfn" href="#dfn-last-update-check-time" id="ref-for-dfn-last-update-check-time③">last update check time</a> to the current time.</p>
        <li data-md>
         <p>Set <var>hasUpdatedResources</var> to true if any of the following are true:</p>
         <ul>
          <li data-md>
           <p><var>newestWorker</var> is null.</p>
          <li data-md>
           <p><var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url④">script url</a> is not <var>url</var> or <var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type②">type</a> is not <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type⑥">worker type</a>.</p>
          <li data-md>
           <p><var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-script-resource-map" id="ref-for-dfn-script-resource-map②">script resource map</a>[<var>url</var>]'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body⑨">body</a> is not byte-for-byte identical with <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body①⓪">body</a>.</p>
         </ul>
        <li data-md>
         <p>If <var>hasUpdatedResources</var> is false and <var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-classic-scripts-imported-flag" id="ref-for-dfn-classic-scripts-imported-flag①">classic scripts imported flag</a> is set, then:</p>
         <p class="note" role="note"><span class="marker">Note:</span> The following checks to see if an imported script has been updated, since the main script has not changed.</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate④">For each</a> <var>importUrl</var> → <var>storedResponse</var> of <var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-script-resource-map" id="ref-for-dfn-script-resource-map③">script resource map</a>:</p>
           <ol>
            <li data-md>
             <p>If <var>importUrl</var> is <var>url</var>, then continue.</p>
            <li data-md>
             <p>Let <var>importRequest</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑥">request</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑥">url</a> is <var>importUrl</var>, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client②">client</a> is <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client①⑨">client</a>, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination①">destination</a> is "<code>script</code>", <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-parser-metadata" id="ref-for-concept-request-parser-metadata">parser metadata</a> is "<code>not parser-inserted</code>", and whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag" id="ref-for-concept-request-use-url-credentials-flag">use-URL-credentials flag</a> is set.</p>
            <li data-md>
             <p>Set <var>importRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-cache-mode" id="ref-for-concept-request-cache-mode②">cache mode</a> to "<code>no-cache</code>" if any of the following are true:</p>
             <ul>
              <li data-md>
               <p><var>registration</var>’s <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache⑤">update via cache mode</a> is "<code>none</code>".</p>
              <li data-md>
               <p><var>job</var>’s <a data-link-type="dfn" href="#dfn-job-force-bypass-cache-flag" id="ref-for-dfn-job-force-bypass-cache-flag①">force bypass cache flag</a> is set.</p>
              <li data-md>
               <p><var>registration</var> is <a data-link-type="dfn" href="#service-worker-registration-stale" id="ref-for-service-worker-registration-stale②">stale</a>.</p>
             </ul>
            <li data-md>
             <p>Let <var>fetchedResponse</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①②">fetching</a> <var>importRequest</var>.</p>
            <li data-md>
             <p>Set <var>updatedResourceMap</var>[<var>importRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑦">url</a>] to <var>fetchedResponse</var>.</p>
            <li data-md>
             <p>Set <var>fetchedResponse</var> to <var>fetchedResponse</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response" id="ref-for-unsafe-response①">unsafe response</a>.</p>
            <li data-md>
             <p>If <var>fetchedResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-cache-state" id="ref-for-concept-response-cache-state②">cache state</a> is not "<code>local</code>", set <var>registration</var>’s <a data-link-type="dfn" href="#dfn-last-update-check-time" id="ref-for-dfn-last-update-check-time④">last update check time</a> to the current time.</p>
            <li data-md>
             <p>If <var>fetchedResponse</var> is a <a data-link-type="dfn" href="#dfn-bad-import-script-response" id="ref-for-dfn-bad-import-script-response①">bad import script response</a>, continue.</p>
             <p class="note" role="note"><span class="marker">Note:</span> Bad responses for <a data-link-type="functionish" href="#importscripts-method" id="ref-for-importscripts-method②">importScripts()</a> are ignored for the purpose of the byte-to-byte check. Only good responses for the incumbent worker and good responses for the potential update worker are considered. See <a href="https://github.com/w3c/ServiceWorker/issues/1374">issue #1374</a> for some rationale.</p>
            <li data-md>
             <p>If <var>fetchedResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body①①">body</a> is not byte-for-byte identical with <var>storedResponse</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response" id="ref-for-unsafe-response②">unsafe response</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-body" id="ref-for-concept-response-body①②">body</a>, set <var>hasUpdatedResources</var> to true.</p>
             <p class="note" role="note"><span class="marker">Note:</span> The control does not break the loop in this step to continue with all the imported scripts to populate the cache.</p>
           </ol>
         </ol>
        <li data-md>
         <p>Asynchronously complete these steps with <var>response</var>.</p>
       </ol>
       <p>When the algorithm asynchronously completes, continue the rest of these steps, with <var>script</var> being the asynchronous completion value.</p>
      <li data-md>
       <p>If <var>script</var> is null or <a data-link-type="dfn" href="#is-async-module" id="ref-for-is-async-module">Is Async Module</a> with <var>script</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record" id="ref-for-concept-script-record">record</a>, <var>script</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url" id="ref-for-concept-script-base-url②">base URL</a>, and « » is true, then:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise⑦">Reject Job Promise</a> with <var>job</var> and <code>TypeError</code>.</p>
         <p class="note" role="note"><span class="marker">Note:</span> This will do nothing if <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise⑧">Reject Job Promise</a> was previously invoked with "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑥">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①⑨">DOMException</a></code>.</p>
        <li data-md>
         <p>If <var>newestWorker</var> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove①">remove</a> <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map④">registration map</a>[(<var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key⑧">storage key</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⓪">serialized</a> <var>scopeURL</var>)].</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job⑥">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>If <var>hasUpdatedResources</var> is false, then:</p>
       <ol>
        <li data-md>
         <p>Set <var>registration</var>’s <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache⑥">update via cache mode</a> to <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode" id="ref-for-dfn-job-update-via-cache-mode④">update via cache mode</a>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#resolve-job-promise" id="ref-for-resolve-job-promise①">Resolve Job Promise</a> with <var>job</var> and <var>registration</var>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job⑦">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>Let <var>worker</var> be a new <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨⑥">service worker</a>.</p>
      <li data-md>
       <p>Set <var>worker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url⑤">script url</a> to <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-script-url" id="ref-for-dfn-job-script-url①①">script url</a>, <var>worker</var>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource④">script resource</a> to <var>script</var>, <var>worker</var>’s <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type③">type</a> to <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type⑦">worker type</a>, and <var>worker</var>’s <a data-link-type="dfn" href="#dfn-script-resource-map" id="ref-for-dfn-script-resource-map④">script resource map</a> to <var>updatedResourceMap</var>.</p>
      <li data-md>
       <p>Append <var>url</var> to <var>worker</var>’s <a data-link-type="dfn" href="#dfn-set-of-used-scripts" id="ref-for-dfn-set-of-used-scripts③">set of used scripts</a>.</p>
      <li data-md>
       <p>Set <var>worker</var>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource⑤">script resource</a>’s <a data-link-type="dfn" href="#dfn-policy-container" id="ref-for-dfn-policy-container">policy container</a> to <var>policyContainer</var>.</p>
      <li data-md>
       <p>Let <var>forceBypassCache</var> be true if <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-force-bypass-cache-flag" id="ref-for-dfn-job-force-bypass-cache-flag②">force bypass cache flag</a> is set, and false otherwise.</p>
      <li data-md>
       <p>Let <var>runResult</var> be the result of running the <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker③">Run Service Worker</a> algorithm with <var>worker</var> and <var>forceBypassCache</var>.</p>
      <li data-md>
       <p>If <var>runResult</var> is <em>failure</em> or an <a data-link-type="dfn" data-refhint-key="03b441c0" href="https://tc39.es/ecma262/#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type①">abrupt completion</a>, then:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise⑨">Reject Job Promise</a> with <var>job</var> and <code>TypeError</code>.</p>
        <li data-md>
         <p>If <var>newestWorker</var> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove②">remove</a> <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map⑤">registration map</a>[(<var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key⑨">storage key</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①①">serialized</a> <var>scopeURL</var>)].</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job⑧">Finish Job</a> with <var>job</var>.</p>
       </ol>
      <li data-md>
       <p>Else, invoke <a data-link-type="dfn" href="#install" id="ref-for-install②">Install</a> algorithm with <var>job</var>, <var>worker</var>, and <var>registration</var> as its arguments.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Soft Update">
     <h3 class="heading settled" id="soft-update-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="soft-update">Soft Update</dfn></span><a class="self-link" href="#soft-update-algorithm"></a></h3>
     <p>The user agent <em>may</em> call this as often as it likes to check for updates.</p>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤③">service worker registration</a></p>
      <dd data-md>
       <p><var>forceBypassCache</var>, an optional boolean, false by default</p>
       <p class="note" role="note"><span class="marker">Note:</span> Implementers may use <var>forceBypassCache</var> to aid debugging (e.g. invocations from developer tools), and other specifications that extend service workers may also use the flag on their own needs.</p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>newestWorker</var> be the result of running <a data-link-type="dfn" href="#get-newest-worker" id="ref-for-get-newest-worker③">Get Newest Worker</a> algorithm passing <var>registration</var> as its argument.</p>
      <li data-md>
       <p>If <var>newestWorker</var> is null, abort these steps.</p>
      <li data-md>
       <p>Let <var>job</var> be the result of running <a data-link-type="dfn" href="#create-job" id="ref-for-create-job③">Create Job</a> with <em>update</em>, <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key①⓪">storage key</a>, <var>registration</var>’s <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①④">scope url</a>, <var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url⑥">script url</a>, null, and null.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-worker-type" id="ref-for-dfn-job-worker-type⑧">worker type</a> to <var>newestWorker</var>’s <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type④">type</a>.</p>
      <li data-md>
       <p>Set <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-force-bypass-cache-flag" id="ref-for-dfn-job-force-bypass-cache-flag③">force bypass cache flag</a> if <var>forceBypassCache</var> is true.</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#schedule-job" id="ref-for-schedule-job③">Schedule Job</a> with <var>job</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Install">
     <h3 class="heading settled" id="installation-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="install">Install</dfn></span><a class="self-link" href="#installation-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>job</var>, a <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②⑥">job</a></p>
      <dd data-md>
       <p><var>worker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨⑦">service worker</a></p>
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤④">service worker registration</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>installFailed</var> be false.</p>
      <li data-md>
       <p>Let <var>newestWorker</var> be the result of running <a data-link-type="dfn" href="#get-newest-worker" id="ref-for-get-newest-worker④">Get Newest Worker</a> algorithm passing <var>registration</var> as its argument.</p>
      <li data-md>
       <p>Set <var>registration</var>’s <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache⑦">update via cache mode</a> to <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-update-via-cache-mode" id="ref-for-dfn-job-update-via-cache-mode⑤">update via cache mode</a>.</p>
      <li data-md>
       <p>Run the <a data-link-type="dfn" href="#update-registration-state" id="ref-for-update-registration-state">Update Registration State</a> algorithm passing <var>registration</var>, "<code>installing</code>" and <var>worker</var> as the arguments.</p>
      <li data-md>
       <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker⑧">installing worker</a> and "<code>installing</code>" as the arguments.</p>
      <li data-md>
       <p class="assertion">Assert: <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-promise" id="ref-for-dfn-job-promise⑥">job promise</a> is not null.</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#resolve-job-promise" id="ref-for-resolve-job-promise②">Resolve Job Promise</a> with <var>job</var> and <var>registration</var>.</p>
      <li data-md>
       <p>Let <var>settingsObjects</var> be all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②⓪">environment settings objects</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①④">origin</a> is <var>registration</var>’s <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⑤">scope url</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑧">origin</a>.</p>
      <li data-md>
       <p>For each <var>settingsObject</var> of <var>settingsObjects</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②⑦">queue a task</a> on <var>settingsObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①⑤">responsible event loop</a> in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②⓪">DOM manipulation task source</a> to run the following steps:</p>
       <ol>
        <li data-md>
         <p>Let <var>registrationObjects</var> be every <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①⑤">ServiceWorkerRegistration</a></code> object in <var>settingsObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object&apos;s-realm" id="ref-for-environment-settings-object&apos;s-realm⑨">realm</a>, whose <a data-link-type="dfn" href="#serviceworkerregistration-service-worker-registration" id="ref-for-serviceworkerregistration-service-worker-registration⑦">service worker registration</a> is <var>registration</var>.</p>
        <li data-md>
         <p>For each <var>registrationObject</var> of <var>registrationObjects</var>, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire①">fire an event</a> on <var>registrationObject</var> named <code>updatefound</code>.</p>
       </ol>
      <li data-md>
       <p>Let <var>installingWorker</var> be <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker⑨">installing worker</a>.</p>
      <li data-md>
       <p>If the result of running the <a data-link-type="dfn" href="#should-skip-event" id="ref-for-should-skip-event①">Should Skip Event</a> algorithm with <var>installingWorker</var> and "install" is false, then:</p>
       <ol>
        <li data-md>
         <p>Let <var>forceBypassCache</var> be true if <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-force-bypass-cache-flag" id="ref-for-dfn-job-force-bypass-cache-flag④">force bypass cache flag</a> is set, and false otherwise.</p>
        <li data-md>
         <p>If the result of running the <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker④">Run Service Worker</a> algorithm with <var>installingWorker</var> and <var>forceBypassCache</var> is <em>failure</em>, then:</p>
         <ol>
          <li data-md>
           <p>Set <var>installFailed</var> to true.</p>
         </ol>
        <li data-md>
         <p>Else:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②⑧">Queue a task</a> <var>task</var> on <var>installingWorker</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①⓪">event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②①">DOM manipulation task source</a> to run the following steps:</p>
           <ol>
            <li data-md>
             <p>Let <var>e</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create" id="ref-for-concept-event-create②">creating an event</a> with <code class="idl"><a data-link-type="idl" href="#installevent" id="ref-for-installevent②">InstallEvent</a></code>.</p>
            <li data-md>
             <p>Initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type">type</a></code> attribute to <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-install-event" id="ref-for-service-worker-global-scope-install-event⑤">install</a></code>.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch④">Dispatch</a> <var>e</var> at <var>installingWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①">global object</a>.</p>
            <li data-md>
             <p><em>WaitForAsynchronousExtensions</em>: Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③⓪">in parallel</a>:</p>
             <ol>
              <li data-md>
               <p><span id="install-settle-step">Wait until <var>e</var> is not <a data-link-type="dfn" href="#extendableevent-active" id="ref-for-extendableevent-active①">active</a>.</span></p>
              <li data-md>
               <p>If <var>e</var>’s <a data-link-type="dfn" href="#extendableevent-timed-out-flag" id="ref-for-extendableevent-timed-out-flag①">timed out flag</a> is set, set <var>installFailed</var> to true.</p>
              <li data-md>
               <p>Let <var>p</var> be the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#waiting-for-all-promise" id="ref-for-waiting-for-all-promise①">getting a promise to wait for all</a> of <var>e</var>’s <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises" id="ref-for-extendableevent-extend-lifetime-promises⑥">extend lifetime promises</a>.</p>
              <li data-md>
               <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#upon-rejection" id="ref-for-upon-rejection③">Upon rejection</a> of <var>p</var>, set <var>installFailed</var> to true.</p>
             </ol>
           </ol>
           <p>If <var>task</var> is discarded, set <var>installFailed</var> to true.</p>
          <li data-md>
           <p>Wait for <var>task</var> to have executed or been discarded.</p>
          <li data-md>
           <p>Wait for the step labeled <em>WaitForAsynchronousExtensions</em> to complete.</p>
         </ol>
       </ol>
      <li data-md>
       <p>If <var>installFailed</var> is true, then:</p>
       <ol>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state①">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①⓪">installing worker</a> and "<code>redundant</code>" as the arguments.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-registration-state" id="ref-for-update-registration-state①">Update Registration State</a> algorithm passing <var>registration</var>, "<code>installing</code>" and null as the arguments.</p>
        <li data-md>
         <p>If <var>newestWorker</var> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove③">remove</a> <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map⑥">registration map</a>[(<var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key①①">storage key</a>, <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①②">serialized</a> <var>registration</var>’s <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⑥">scope url</a>)].</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job⑨">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>Let <var>map</var> be <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①①">installing worker</a>’s <a data-link-type="dfn" href="#dfn-script-resource-map" id="ref-for-dfn-script-resource-map⑤">script resource map</a>.</p>
      <li data-md>
       <p>Let <var>usedSet</var> be <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①②">installing worker</a>’s <a data-link-type="dfn" href="#dfn-set-of-used-scripts" id="ref-for-dfn-set-of-used-scripts④">set of used scripts</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑤">For each</a> <var>url</var> of <var>map</var>:</p>
       <ol>
        <li data-md>
         <p>If <var>usedSet</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contain</a> <var>url</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove④">remove</a> <var>map</var>[<var>url</var>].</p>
       </ol>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker⑤">waiting worker</a> is not null, then:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker③">Terminate</a> <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker⑥">waiting worker</a>.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state②">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker⑦">waiting worker</a> and "<code>redundant</code>" as the arguments.</p>
       </ol>
      <li data-md>
       <p>Run the <a data-link-type="dfn" href="#update-registration-state" id="ref-for-update-registration-state②">Update Registration State</a> algorithm passing <var>registration</var>, "<code>waiting</code>" and <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①③">installing worker</a> as the arguments.</p>
      <li data-md>
       <p>Run the <a data-link-type="dfn" href="#update-registration-state" id="ref-for-update-registration-state③">Update Registration State</a> algorithm passing <var>registration</var>, "<code>installing</code>" and null as the arguments.</p>
      <li data-md>
       <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state③">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker⑧">waiting worker</a> and "<code>installed</code>" as the arguments.</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job①⓪">Finish Job</a> with <var>job</var>.</p>
      <li data-md>
       <p>Wait for all the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task④">tasks</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task②⑨">queued</a> by <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state④">Update Worker State</a> invoked in this algorithm to have executed.</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#try-activate" id="ref-for-try-activate②">Try Activate</a> with <var>registration</var>.</p>
       <p class="note" role="note"><span class="marker">Note:</span> If <a data-link-type="dfn" href="#try-activate" id="ref-for-try-activate③">Try Activate</a> does not trigger <a data-link-type="dfn" href="#activate" id="ref-for-activate③">Activate</a> here, <a data-link-type="dfn" href="#activate" id="ref-for-activate④">Activate</a> is tried again when the last client controlled by the existing <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②⓪">active worker</a> is <a data-link-type="dfn" href="#handle-service-worker-client-unload" id="ref-for-handle-service-worker-client-unload①">unloaded</a>, <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerglobalscope-skipwaiting" id="ref-for-dom-serviceworkerglobalscope-skipwaiting③">skipWaiting()</a></code> is asynchronously called, or the <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises" id="ref-for-extendableevent-extend-lifetime-promises⑦">extend lifetime promises</a> for the existing <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②①">active worker</a> settle.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Activate">
     <h3 class="heading settled" id="activation-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="activate">Activate</dfn></span><a class="self-link" href="#activation-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤⑤">service worker registration</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker⑨">waiting worker</a> is null, abort these steps.</p>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②②">active worker</a> is not null, then:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker④">Terminate</a> <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②③">active worker</a>.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state⑤">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②④">active worker</a> and "<code>redundant</code>" as the arguments.</p>
       </ol>
      <li data-md>
       <p>Run the <a data-link-type="dfn" href="#update-registration-state" id="ref-for-update-registration-state④">Update Registration State</a> algorithm passing <var>registration</var>, "<code>active</code>" and <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⓪">waiting worker</a> as the arguments.</p>
      <li data-md>
       <p>Run the <a data-link-type="dfn" href="#update-registration-state" id="ref-for-update-registration-state⑤">Update Registration State</a> algorithm passing <var>registration</var>, "<code>waiting</code>" and null as the arguments.</p>
      <li data-md>
       <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state⑥">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②⑤">active worker</a> and "<code>activating</code>" as the arguments.</p>
       <p class="note" role="note"><span class="marker">Note:</span> Once an active worker is activating, neither a runtime script error nor a force termination of the active worker prevents the active worker from getting activated.</p>
       <p class="note" role="note"><span class="marker">Note:</span> Make sure to design activation handlers to do non-essential work (like cleanup). This is because activation handlers may not all run to completion, especially in the case of browser termination during activation. A Service Worker should be designed to function properly, even if the activation handlers do not all complete successfully.</p>
      <li data-md>
       <p>Let <var>matchedClients</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②②">list</a> of <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client③⑨">service worker clients</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url⑦">creation URL</a> <a data-link-type="dfn" href="#match-service-worker-registration" id="ref-for-match-service-worker-registration⑥">matches</a> <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key①②">storage key</a> and <var>registration</var>’s <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⑦">scope url</a>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑤">For each</a> <var>client</var> of <var>matchedClients</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③⓪">queue a task</a> on <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①⑥">responsible event loop</a>, using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②②">DOM manipulation task source</a>, to run the following substeps:</p>
       <ol>
        <li data-md>
         <p>Let <var>readyPromise</var> be <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global⑨">global object</a>’s <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①⑤">ServiceWorkerContainer</a></code> object’s <a data-link-type="dfn" href="#serviceworkercontainer-ready-promise" id="ref-for-serviceworkercontainer-ready-promise④">ready promise</a>.</p>
        <li data-md>
         <p>If <var>readyPromise</var> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑧">continue</a>.</p>
        <li data-md>
         <p><span id="activate-resolve-ready-step">If <var>readyPromise</var> is pending, resolve <var>readyPromise</var> with the the result of <a data-link-type="dfn" href="#get-the-service-worker-registration-object" id="ref-for-get-the-service-worker-registration-object⑥">getting the service worker registration object</a> that represents <var>registration</var> in <var>readyPromise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②⑦">relevant settings object</a></span>.</p>
       </ol>
      <li data-md>
       <p>For each <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④⓪">service worker client</a> <var>client</var> who is <a data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use②">using</a> <var>registration</var>:</p>
       <ol>
        <li data-md>
         <p>Set <var>client</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②⑥">active worker</a> to <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②⑦">active worker</a>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#notify-controller-change" id="ref-for-notify-controller-change①">Notify Controller Change</a> algorithm with <var>client</var> as the argument.</p>
       </ol>
      <li data-md>
       <p>Let <var>activeWorker</var> be <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②⑧">active worker</a>.</p>
      <li data-md>
       <p>If the result of running the <a data-link-type="dfn" href="#should-skip-event" id="ref-for-should-skip-event②">Should Skip Event</a> algorithm with <var>activeWorker</var> and "activate" is false, then:</p>
       <ol>
        <li data-md>
         <p>If the result of running the <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker⑤">Run Service Worker</a> algorithm with <var>activeWorker</var> is not <em>failure</em>, then:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③①">Queue a task</a> <var>task</var> on <var>activeWorker</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①①">event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②③">DOM manipulation task source</a> to run the following steps:</p>
           <ol>
            <li data-md>
             <p>Let <var>e</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create" id="ref-for-concept-event-create③">creating an event</a> with <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①⑥">ExtendableEvent</a></code>.</p>
            <li data-md>
             <p>Initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type①">type</a></code> attribute to <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-activate-event" id="ref-for-service-worker-global-scope-activate-event⑤">activate</a></code>.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch⑤">Dispatch</a> <var>e</var> at <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object②">global object</a>.</p>
            <li data-md>
             <p><span id="activate-settle-step"><em>WaitForAsynchronousExtensions</em>: Wait, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③①">in parallel</a>, until <var>e</var> is not <a data-link-type="dfn" href="#extendableevent-active" id="ref-for-extendableevent-active②">active</a>.</span></p>
           </ol>
          <li data-md>
           <p>Wait for <var>task</var> to have executed or been discarded.</p>
          <li data-md>
           <p>Wait for the step labeled <em>WaitForAsynchronousExtensions</em> to complete.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state⑦">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker②⑨">active worker</a> and "<code>activated</code>" as the arguments.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Try Activate">
     <h3 class="heading settled" id="try-activate-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="try-activate">Try Activate</dfn></span><a class="self-link" href="#try-activate-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤⑥">service worker registration</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①①">waiting worker</a> is null, return.</p>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③⓪">active worker</a> is not null and <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③①">active worker</a>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state⑦">state</a> is "<code>activating</code>", return.</p>
       <p class="note" role="note"><span class="marker">Note:</span> If the existing active worker is still in activating state, the activation of the waiting worker is delayed.</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#activate" id="ref-for-activate⑤">Activate</a> with <var>registration</var> if either of the following is true:</p>
       <ul>
        <li data-md>
         <p><var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③②">active worker</a> is null.</p>
        <li data-md>
         <p>The result of running <a data-link-type="dfn" href="#service-worker-has-no-pending-events" id="ref-for-service-worker-has-no-pending-events①">Service Worker Has No Pending Events</a> with <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③③">active worker</a> is true, and no <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④①">service worker client</a> is <a data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use③">using</a> <var>registration</var> or <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①②">waiting worker</a>’s <a data-link-type="dfn" href="#dfn-skip-waiting-flag" id="ref-for-dfn-skip-waiting-flag②">skip waiting flag</a> is set.</p>
       </ul>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Setup ServiceWorkerGlobalScope">
     <h3 class="heading settled" id="setup-serviceworkerglobalscope-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="setup-serviceworkerglobalscope">Setup ServiceWorkerGlobalScope</dfn></span><a class="self-link" href="#setup-serviceworkerglobalscope-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>serviceWorker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨⑧">service worker</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>a <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑦">ServiceWorkerGlobalScope</a></code> object or null</p>
     </dl>
     <p class="note" role="note"><span class="marker">Note:</span> This algorithm returns a <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑧">ServiceWorkerGlobalScope</a></code> usable for a CSP check, or null. If <var>serviceWorker</var> has an active <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope①⑨">ServiceWorkerGlobalScope</a></code>, then it is returned. Otherwise, the object will be newly created.</p>
     <div class="note" role="note">
      
        This algorithm does the minimal setup for the service worker that is necessary to create something usable for security checks like CSP and COEP. This specification ensures that this algorithm is called before any such checks are performed.


      <p>In specifications, such security checks require creating a <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②⓪">ServiceWorkerGlobalScope</a></code>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②⑧">relevant settings object</a>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm" id="ref-for-concept-global-object-realm①">realm</a>, and an <a data-link-type="dfn" href="https://tc39.es/ecma262/#agent" id="ref-for-agent">agent</a>. In implementations, the amount of work required might be much less. Therefore, implementations could do less work in their equivalent of this algorithm, and more work in <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker⑥">Run Service Worker</a>, as long as the results are observably equivalent. (And in particular, as long as all security checks have the same result.)</p>
     </div>
     <ol>
      <li data-md>
       <p>Let <var>unsafeCreationTime</var> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time" id="ref-for-dfn-unsafe-shared-current-time">unsafe shared current time</a>.</p>
      <li data-md>
       <p>If <var>serviceWorker</var> is <a data-link-type="dfn" href="#service-worker-running" id="ref-for-service-worker-running">running</a>, then return <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object③">global object</a>.</p>
      <li data-md>
       <p>If <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state⑧">state</a> is "<code>redundant</code>", then return null.</p>
      <li data-md>
       <p>If <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object④">global object</a> is not null, then return <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object⑤">global object</a>.</p>
      <li data-md>
       <p class="assertion">Assert: <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-start-status" id="ref-for-service-worker-start-status">start status</a> is null.</p>
      <li data-md>
       <p>Let <var>setupFailed</var> be false.</p>
      <li data-md>
       <p>Let <var>globalObject</var> be null.</p>
      <li data-md>
       <p>Let <var>agent</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#obtain-a-service-worker-agent" id="ref-for-obtain-a-service-worker-agent">obtaining a service worker agent</a>, and run the following steps in that context:</p>
       <ol>
        <li data-md>
         <p>Let <var>realmExecutionContext</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm" id="ref-for-creating-a-new-javascript-realm">creating a new realm</a> given <var>agent</var> and the following customizations:</p>
         <ul>
          <li data-md>
           <p>For the global object, create a new <code class="idl"><a data-link-type="idl" href="#serviceworkerglobalscope" id="ref-for-serviceworkerglobalscope②①">ServiceWorkerGlobalScope</a></code> object. Let <var>workerGlobalScope</var> be the created object.</p>
         </ul>
        <li data-md>
         <p>Let <var>settingsObject</var> be a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②①">environment settings object</a> whose algorithms are defined as follows:</p>
         <dl>
          <dt data-md>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context" id="ref-for-realm-execution-context">realm execution context</a>
          <dd data-md>
           <p>Return <var>realmExecutionContext</var>.</p>
          <dt data-md>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-module-map" id="ref-for-concept-settings-object-module-map">module map</a>
          <dd data-md>
           <p>Return <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-module-map" id="ref-for-concept-workerglobalscope-module-map">module map</a>.</p>
          <dt data-md>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url" id="ref-for-api-base-url⑤">API base URL</a>
          <dd data-md>
           <p>Return <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url⑦">script url</a>.</p>
          <dt data-md>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①⑤">origin</a>
          <dd data-md>
           <p>Return its registering <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④②">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①⑥">origin</a>.</p>
          <dt data-md>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-has-cross-site-ancestor" id="ref-for-concept-settings-object-has-cross-site-ancestor">has cross-site ancestor</a>
          <dd data-md>
           <p>Return its registering <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④③">service worker client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-has-cross-site-ancestor" id="ref-for-concept-settings-object-has-cross-site-ancestor①">has cross-site ancestor</a>.</p>
          <dt data-md>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-policy-container" id="ref-for-concept-settings-object-policy-container">policy container</a>
          <dd data-md>
           <p>Return <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container" id="ref-for-concept-workerglobalscope-policy-container">policy container</a>.</p>
          <dt data-md>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin" id="ref-for-concept-settings-object-time-origin">time origin</a>
          <dd data-md>
           <p>Return the result of <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-coarsen-time" id="ref-for-dfn-coarsen-time">coarsening</a> <var>unsafeCreationTime</var> given <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability" id="ref-for-concept-workerglobalscope-cross-origin-isolated-capability">cross-origin isolated capability</a>.</p>
         </dl>
        <li data-md>
         <p>Set <var>settingsObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" id="ref-for-concept-environment-id②">id</a> to a new unique opaque string, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url⑧">creation URL</a> to <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url⑧">script url</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url" id="ref-for-concept-environment-top-level-creation-url">top-level creation URL</a> to null, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin" id="ref-for-concept-environment-top-level-origin">top-level origin</a> to an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> value, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context" id="ref-for-concept-environment-target-browsing-context①">target browsing context</a> to null, and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②⑤">active service worker</a> to null.</p>
        <li data-md>
         <p>Set <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-url" id="ref-for-concept-workerglobalscope-url">url</a> to <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url⑨">script url</a>.</p>
        <li data-md>
         <p>Set <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container" id="ref-for-concept-workerglobalscope-policy-container①">policy container</a> to <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource⑥">script resource</a>’s <a data-link-type="dfn" href="#dfn-policy-container" id="ref-for-dfn-policy-container①">policy container</a>.</p>
        <li data-md>
         <p>Set <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-type" id="ref-for-concept-workerglobalscope-type">type</a> to <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-type" id="ref-for-dfn-type⑤">type</a>.</p>
        <li data-md>
         <p>Create a new <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#workerlocation" id="ref-for-workerlocation">WorkerLocation</a></code> object and associate it with <var>workerGlobalScope</var>.</p>
        <li data-md>
         <p>If the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#run-global-object-csp-initialization" id="ref-for-run-global-object-csp-initialization">run CSP initialization for a global object</a> algorithm returns "<code>Blocked</code>" when executed upon <var>workerGlobalScope</var>, set <var>setupFailed</var> to true and abort these steps.</p>
        <li data-md>
         <p>Set <var>globalObject</var> to <var>workerGlobalScope</var>.</p>
       </ol>
      <li data-md>
       <p>Wait for <var>globalObject</var> is not null, or for <var>setupFailed</var> to be true.</p>
      <li data-md>
       <p>If <var>setupFailed</var> is true, then return null.</p>
      <li data-md>
       <p>Return <var>globalObject</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Run Service Worker">
     <h3 class="heading settled" id="run-service-worker-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="run-service-worker">Run Service Worker</dfn></span><a class="self-link" href="#run-service-worker-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>serviceWorker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker⑨⑨">service worker</a></p>
      <dd data-md>
       <p><var>forceBypassCache</var>, an optional boolean, false by default</p>
      <dt data-md>Output
      <dd data-md>
       <p>a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type②">Completion</a> or <em>failure</em></p>
     </dl>
     <p class="note" role="note"><span class="marker">Note:</span> This algorithm blocks until the service worker is <a data-link-type="dfn" href="#service-worker-running" id="ref-for-service-worker-running①">running</a> or fails to start.</p>
     <ol>
      <li data-md>
       <p>If <var>serviceWorker</var> is <a data-link-type="dfn" href="#service-worker-running" id="ref-for-service-worker-running②">running</a>, then return <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-start-status" id="ref-for-service-worker-start-status①">start status</a>.</p>
      <li data-md>
       <p>If <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state⑨">state</a> is "<code>redundant</code>", then return <em>failure</em>.</p>
      <li data-md>
       <p class="assertion">Assert: <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-start-status" id="ref-for-service-worker-start-status②">start status</a> is null.</p>
      <li data-md>
       <p>Let <var>script</var> be <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource⑦">script resource</a>.</p>
      <li data-md>
       <p class="assertion">Assert: <var>script</var> is not null.</p>
      <li data-md>
       <p>Let <var>startFailed</var> be false.</p>
      <li data-md>
       <p>Let <var>workerGlobalScope</var> be <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object⑥">global object</a>.</p>
      <li data-md>
       <p>If <var>workerGlobalScope</var> is null:</p>
       <ol>
        <li data-md>
         <p>Set <var>workerGlobalScope</var> to be the result of running the <a data-link-type="dfn" href="#setup-serviceworkerglobalscope" id="ref-for-setup-serviceworkerglobalscope">Setup ServiceWorkerGlobalScope</a> algorithm with <var>serviceWorker</var>.</p>
        <li data-md>
         <p>If <var>workerGlobalScope</var> is null, then return <em>failure</em>.</p>
        <li data-md>
         <p>Set <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object⑦">global object</a> to <var>workerGlobalScope</var>.</p>
       </ol>
      <li data-md>
       <p>Obtain agent for <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context" id="ref-for-realm-execution-context①">realm execution context</a>, and run the following steps in that context:</p>
       <ol>
        <li data-md>
         <p>Set <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag" id="ref-for-serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag①">force bypass cache for import scripts flag</a> if <var>forceBypassCache</var> is true.</p>
        <li data-md>
         <p>If <var>serviceWorker</var> is an <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③④">active worker</a>, and there are any <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task⑤">tasks</a> queued in <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①⑥">containing service worker registration</a>’s <a data-link-type="dfn" href="#dfn-service-worker-registration-task-queue" id="ref-for-dfn-service-worker-registration-task-queue②">task queues</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③②">queue</a> them to <var>serviceWorker</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①②">event loop</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue③">task queues</a> in the same order using their original <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source⑤">task sources</a>.</p>
        <li data-md>
         <p>Let <var>evaluationStatus</var> be null.</p>
        <li data-md>
         <p>If <var>script</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#classic-script" id="ref-for-classic-script">classic script</a>, then:</p>
         <ol>
          <li data-md>
           <p>Set <var>evaluationStatus</var> to the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#run-a-classic-script" id="ref-for-run-a-classic-script">running the classic script</a> <var>script</var>.</p>
          <li data-md>
           <p>If <var>evaluationStatus</var>.[[Value]] is empty, this means the script was not evaluated. Set <var>startFailed</var> to true and abort these steps.</p>
         </ol>
        <li data-md>
         <p>Otherwise, if <var>script</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#module-script" id="ref-for-module-script">module script</a>, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>evaluationPromise</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#run-a-module-script" id="ref-for-run-a-module-script">running the module script</a> <var>script</var>, with report errors set to false.</p>
          <li data-md>
           <p class="assertion">Assert: <var>evaluationPromise</var>.[[PromiseState]] is not "pending".</p>
          <li data-md>
           <p>If <var>evaluationPromise</var>.[[PromiseState]] is "rejected":</p>
           <ol>
            <li data-md>
             <p>Set <var>evaluationStatus</var> to <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-throwcompletion" id="ref-for-sec-throwcompletion">ThrowCompletion</a>(<var>evaluationPromise</var>.[[PromiseResult]]).</p>
           </ol>
          <li data-md>
           <p>Otherwise:</p>
           <ol>
            <li data-md>
             <p>Set <var>evaluationStatus</var> to <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-normalcompletion" id="ref-for-sec-normalcompletion">NormalCompletion</a>(undefined).</p>
           </ol>
         </ol>
        <li data-md>
         <p>If the script was aborted by the <a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker⑤">Terminate Service Worker</a> algorithm, set <var>startFailed</var> to true and abort these steps.</p>
        <li data-md>
         <p>Set <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-start-status" id="ref-for-service-worker-start-status③">start status</a> to <var>evaluationStatus</var>.</p>
        <li data-md>
         <p>If <var>script</var>’s <a data-link-type="dfn" href="#dfn-has-ever-been-evaluated-flag" id="ref-for-dfn-has-ever-been-evaluated-flag">has ever been evaluated flag</a> is unset, then:</p>
         <ol>
          <li data-md>
           <p>For each <var>eventType</var> of <var>settingsObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global①⓪">global object</a>’s associated list of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-listener" id="ref-for-concept-event-listener①">event listeners</a>' event types:</p>
           <ol>
            <li data-md>
             <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append②">Append</a> <var>eventType</var> to <var>workerGlobalScope</var>’s associated <a data-link-type="dfn" href="#serviceworkerglobalscope-service-worker" id="ref-for-serviceworkerglobalscope-service-worker②⑤">service worker</a>’s <a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle" id="ref-for-dfn-set-of-event-types-to-handle①">set of event types to handle</a>.</p>
           </ol>
           <p class="note" role="note"><span class="marker">Note:</span> If the global object’s associated list of event listeners does not have any event listener added at this moment, the service worker’s <a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle" id="ref-for-dfn-set-of-event-types-to-handle②">set of event types to handle</a> remains an empty set.</p>
          <li data-md>
           <p>Set <var>script</var>’s <a data-link-type="dfn" href="#dfn-has-ever-been-evaluated-flag" id="ref-for-dfn-has-ever-been-evaluated-flag①">has ever been evaluated flag</a>.</p>
          <li data-md>
           <p>Unset the <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-all-fetch-listeners-are-empty-flag" id="ref-for-service-worker-all-fetch-listeners-are-empty-flag">all fetch listeners are empty flag</a>.</p>
          <li data-md>
           <p>The user agent may, if the <a data-link-type="dfn" href="#all-fetch-listeners-are-empty" id="ref-for-all-fetch-listeners-are-empty">All Fetch Listeners Are Empty</a> algorithm with <var>workerGlobalScope</var> returns true, set <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-all-fetch-listeners-are-empty-flag" id="ref-for-service-worker-all-fetch-listeners-are-empty-flag①">all fetch listeners are empty flag</a>.</p>
         </ol>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①⑦">responsible event loop</a> specified by <var>settingsObject</var> until it is destroyed.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-clear" id="ref-for-map-clear">Clear</a> <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#map-of-active-timers" id="ref-for-map-of-active-timers">map of active timers</a>.</p>
       </ol>
      <li data-md>
       <p>Wait for <var>serviceWorker</var> to be <a data-link-type="dfn" href="#service-worker-running" id="ref-for-service-worker-running③">running</a>, or for <var>startFailed</var> to be true.</p>
      <li data-md>
       <p>If <var>startFailed</var> is true, then return <em>failure</em>.</p>
      <li data-md>
       <p>Return <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-start-status" id="ref-for-service-worker-start-status④">start status</a>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="All Fetch Listeners Are Empty">
     <h3 class="heading settled" id="all-fetch-listeners-are-empty-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="all-fetch-listeners-are-empty">All Fetch Listeners Are Empty</dfn></span><a class="self-link" href="#all-fetch-listeners-are-empty-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>workerGlobalScope</var>, a <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object⑧">global object</a>.</p>
      <dt data-md>Output
      <dd data-md>
       <p>a boolean</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle" id="ref-for-dfn-set-of-event-types-to-handle③">set of event types to handle</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain②">contain</a> <code>fetch</code>, then return true.</p>
      <li data-md>
       <p>Let <var>eventHandler</var> be <var>workerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-map" id="ref-for-event-handler-map">event handler map</a>["onfetch"]'s value.</p>
      <li data-md>
       <p>Let <var>eventListenerCallbacks</var> be the result of calling <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#legacy-obtain-service-worker-fetch-event-listener-callbacks" id="ref-for-legacy-obtain-service-worker-fetch-event-listener-callbacks">legacy-obtain service worker fetch event listener callbacks</a> given <var>workerGlobalScope</var>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑥">For each</a> <var>eventListenerCallback</var> of <var>eventListenerCallbacks</var>:</p>
       <ol>
        <li data-md>
         <p>Let <var>callback</var> be null.</p>
        <li data-md>
         <p>If <var>eventHandler</var> is not null and <var>eventListenerCallback</var> equals <var>eventHandler</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-listener" id="ref-for-event-handler-listener">listener</a>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#event-listener-callback" id="ref-for-event-listener-callback">callback</a>, then set <var>callback</var> to the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value" id="ref-for-dfn-convert-idl-to-javascript-value">converting to an ECMAScript value</a> <var>eventHandler</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-value" id="ref-for-event-handler-value">value</a>.</p>
        <li data-md>
         <p>Otherwise, set <var>callback</var> to the result of <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value" id="ref-for-dfn-convert-idl-to-javascript-value①">converting to an ECMAScript value</a> <var>eventListenerCallback</var>.</p>
        <li data-md>
         <p>If <a data-link-type="abstract-op" href="https://tc39.es/ecma262/#sec-iscallable" id="ref-for-sec-iscallable">IsCallable</a>(<var>callback</var>) is false, then return false.</p>
         <p class="note" role="note"><span class="marker">Note:</span> <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#event-listener-callback" id="ref-for-event-listener-callback①">Callback</a> objects that use <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventlistener-handleevent" id="ref-for-dom-eventlistener-handleevent">handleEvent(event)</a></code> are assumed to be non-empty. This avoids calling the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventlistener-handleevent" id="ref-for-dom-eventlistener-handleevent①">handleEvent(event)</a></code> getters, which could modify the event listeners during this check.</p>
        <li data-md>
         <p>If <var>callback</var>’s <a data-link-type="dfn" href="https://tc39.es/ecma262/#prod-FunctionBody" id="ref-for-prod-FunctionBody">function body</a> is not empty (i.e. either a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-ecmascript-language-statements-and-declarations" id="ref-for-sec-ecmascript-language-statements-and-declarations">statement</a> or <a data-link-type="dfn" data-refhint-key="b5a40239" href="https://tc39.es/ecma262/#sec-ecmascript-language-statements-and-declarations" id="ref-for-sec-ecmascript-language-statements-and-declarations①">declaration</a> exist), then return false.</p>
       </ol>
       <p class="note" role="note"><span class="marker">Note:</span> This detects "<code>fetch</code>" listeners like <code>() => {}</code>. Some sites have a fetch event listener with empty body to make them recognized by Chromium as a progressive web application (PWA).</p>
      <li data-md>
       <p>Return true.</p>
     </ol>
     <p class="note" role="note"><span class="marker">Note:</span> User agents are encouraged to show a warning indicating that empty "<code>fetch</code>" listeners are unnecessary, and may have a negative performance impact.</p>
    </section>
    <section class="algorithm" data-algorithm="Terminate Service Worker">
     <h3 class="heading settled" id="terminate-service-worker-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="terminate-service-worker">Terminate Service Worker</dfn></span><a class="self-link" href="#terminate-service-worker-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>serviceWorker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪⓪">service worker</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③②">in parallel</a> with <var>serviceWorker</var>’s main loop:</p>
       <ol>
        <li data-md>
         <p>Let <var>serviceWorkerGlobalScope</var> be <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object⑨">global object</a>.</p>
        <li data-md>
         <p>Set <var>serviceWorkerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-closing" id="ref-for-dom-workerglobalscope-closing">closing</a> flag to true.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">Remove</a> all the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①⓪">items</a> from <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-set-of-extended-events" id="ref-for-dfn-set-of-extended-events">set of extended events</a>.</p>
        <li data-md>
         <p>If there are any <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task⑥">tasks</a>, whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source⑥">task source</a> is either the <a data-link-type="dfn" href="#dfn-handle-fetch-task-source" id="ref-for-dfn-handle-fetch-task-source①">handle fetch task source</a> or the <a data-link-type="dfn" href="#dfn-handle-functional-event-task-source" id="ref-for-dfn-handle-functional-event-task-source①">handle functional event task source</a>, queued in <var>serviceWorkerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①③">event loop</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue④">task queues</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③③">queue</a> them to <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①⑦">containing service worker registration</a>’s corresponding <a data-link-type="dfn" href="#dfn-service-worker-registration-task-queue" id="ref-for-dfn-service-worker-registration-task-queue③">task queues</a> in the same order using their original <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source⑦">task sources</a>, and discard all the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task⑦">tasks</a> (including <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task⑧">tasks</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-source" id="ref-for-task-source⑧">task source</a> is neither the <a data-link-type="dfn" href="#dfn-handle-fetch-task-source" id="ref-for-dfn-handle-fetch-task-source②">handle fetch task source</a> nor the <a data-link-type="dfn" href="#dfn-handle-functional-event-task-source" id="ref-for-dfn-handle-functional-event-task-source②">handle functional event task source</a>) from <var>serviceWorkerGlobalScope</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①④">event loop</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#task-queue" id="ref-for-task-queue⑤">task queues</a> without processing them.</p>
         <p class="note" role="note"><span class="marker">Note:</span> This effectively means that the fetch events and the other functional events such as push events are backed up by the registration’s task queues while the other tasks including message events are discarded.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#abort-a-running-script" id="ref-for-abort-a-running-script">Abort the script</a> currently running in <var>serviceWorker</var>.</p>
        <li data-md>
         <p>Set <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-start-status" id="ref-for-service-worker-start-status⑤">start status</a> to null.</p>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Handle Fetch">
     <h3 class="heading settled" id="on-fetch-request-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="handle-fetch">Handle Fetch</dfn></span><a class="self-link" href="#on-fetch-request-algorithm"></a></h3>
     <p>The <a data-link-type="dfn" href="#handle-fetch" id="ref-for-handle-fetch⑦">Handle Fetch</a> algorithm is the entry point for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①③">fetch</a> handling handed to the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪①">service worker</a> context.</p>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>request</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑦">request</a></p>
      <dd data-md>
       <p><var>fetchController</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller" id="ref-for-fetch-controller①">fetch controller</a></p>
      <dd data-md>
       <p><var>useHighResPerformanceTimers</var>, a boolean</p>
      <dt data-md>Output
      <dd data-md>
       <p>a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①①">response</a> or <a data-link-type="dfn" href="#service-worker-timing-info" id="ref-for-service-worker-timing-info">service worker timing info</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>registration</var> be null.</p>
      <li data-md>
       <p>Let <var>client</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client③">client</a>.</p>
      <li data-md>
       <p>Let <var>reservedClient</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client">reserved client</a>.</p>
      <li data-md>
       <p>Let <var>preloadResponse</var> be a new <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects③①">promise</a>.</p>
      <li data-md>
       <p>Let <var>workerRealm</var> be null.</p>
      <li data-md>
       <p>Let <var>timingInfo</var> be a new <a data-link-type="dfn" href="#service-worker-timing-info" id="ref-for-service-worker-timing-info①">service worker timing info</a>.</p>
      <li data-md>
       <p class="assertion">Assert: <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination②">destination</a> is not "<code>serviceworker</code>".</p>
      <li data-md>
       <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination③">destination</a> is either "<code>embed</code>" or "<code>object</code>", then:</p>
       <ol>
        <li data-md>
         <p>Return null.</p>
       </ol>
      <li data-md>
       <p>Else if <var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#non-subresource-request" id="ref-for-non-subresource-request">non-subresource request</a>, then:</p>
       <ol>
        <li data-md>
         <p>If <var>reservedClient</var> is not null and is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②②">environment settings object</a>, then:</p>
         <ol>
          <li data-md>
           <p>If <var>reservedClient</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" id="ref-for-secure-context④">secure context</a>, return null.</p>
         </ol>
        <li data-md>
         <p>Else:</p>
         <ol>
          <li data-md>
           <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑧">url</a> is not a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-url" id="ref-for-potentially-trustworthy-url">potentially trustworthy URL</a>, return null.</p>
         </ol>
        <li data-md>
         <p>If <var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request" id="ref-for-navigation-request">navigation request</a> and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑥">navigation</a> triggering it was initiated with a shift+reload or equivalent, return null.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-algorithm-conventions" id="ref-for-sec-algorithm-conventions">Assert</a> <var>reservedClient</var> is not null.</p>
        <li data-md>
         <p>Let <var>storage key</var> be the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key①⓪">obtain a storage key</a> given <var>reservedClient</var>.</p>
        <li data-md>
         <p>Set <var>registration</var> to the result of running <a data-link-type="dfn" href="#match-service-worker-registration" id="ref-for-match-service-worker-registration⑦">Match Service Worker Registration</a> given <var>storage key</var> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url⑨">url</a>.</p>
        <li data-md>
         <p>If <var>registration</var> is null or <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③⑤">active worker</a> is null, return null.</p>
        <li data-md>
         <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination④">destination</a> is not <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-requestdestination-report" id="ref-for-dom-requestdestination-report">"report"</a></code>, set <var>reservedClient</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②⑥">active service worker</a> to <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③⑥">active worker</a>.</p>
       </ol>
       <p class="note" role="note"><span class="marker">Note:</span> From this point, the <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④④">service worker client</a> starts to <a data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use④">use</a> its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②⑦">active service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①⑧">containing service worker registration</a>.</p>
      <li data-md>
       <p>Else if <var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#subresource-request" id="ref-for-subresource-request">subresource request</a>, then:</p>
       <ol>
        <li data-md>
         <p>If <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②⑧">active service worker</a> is non-null, set <var>registration</var> to <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker②⑨">active service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration①⑨">containing service worker registration</a>.</p>
        <li data-md>
         <p>Else, return null.</p>
       </ol>
      <li data-md>
       <p>Let <var>activeWorker</var> be <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③⑦">active worker</a>.</p>
      <li data-md>
       <p>Let <var>shouldSoftUpdate</var> be true if any of the following are true, and false otherwise:</p>
       <ul>
        <li data-md>
         <p><var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#non-subresource-request" id="ref-for-non-subresource-request①">non-subresource request</a>.</p>
        <li data-md>
         <p><var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#subresource-request" id="ref-for-subresource-request①">subresource request</a> and <var>registration</var> is <a data-link-type="dfn" href="#service-worker-registration-stale" id="ref-for-service-worker-registration-stale③">stale</a>.</p>
       </ul>
      <li data-md>
       <p>If <var>activeWorker</var>’s <a data-link-type="dfn" href="#service-worker-list-of-router-rules" id="ref-for-service-worker-list-of-router-rules②">list of router rules</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty③">is not empty</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-router-evaluation-start" id="ref-for-service-worker-timing-info-worker-router-evaluation-start">worker router evaluation start</a> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-coarsened-shared-current-time" id="ref-for-dfn-coarsened-shared-current-time">coarsened shared current time</a> given <var>useHighResPerformanceTimers</var>.</p>
        <li data-md>
         <p>Let <var>source</var> be the result of running the <a data-link-type="dfn" href="#get-router-source" id="ref-for-get-router-source">Get Router Source</a> algorithm with <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③⑧">active worker</a> and <var>request</var>.</p>
        <li data-md>
         <p>If <var>source</var> is non-null, then:</p>
         <ol>
          <li data-md>
           <p>Set <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-matched-router-source" id="ref-for-service-worker-timing-info-worker-matched-router-source">worker matched router source</a> be set to <var>source</var>, and <a data-link-type="dfn" href="#service-worker-timing-info-worker-final-router-source" id="ref-for-service-worker-timing-info-worker-final-router-source">worker final router source</a> be set to <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-network" id="ref-for-dom-routersourceenum-network">"network"</a></code>.</p>
          <li data-md>
           <p>If <var>source</var> is <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-network" id="ref-for-dom-routersourceenum-network①">"network"</a></code>:</p>
           <ol>
            <li data-md>
             <p>If <var>shouldSoftUpdate</var> is true, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③③">in parallel</a> run the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update①">Soft Update</a> algorithm with <var>registration</var>.</p>
            <li data-md>
             <p>Return <var>timingInfo</var>.</p>
           </ol>
          <li data-md>
           <p>Else if <var>source</var> is <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-cache" id="ref-for-dom-routersourceenum-cache">"cache"</a></code>, or <var>source</var>["<code class="idl"><a data-link-type="idl" href="#dom-routersourcedict-cachename" id="ref-for-dom-routersourcedict-cachename">cacheName</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exists</a>, then:</p>
           <ol>
            <li data-md>
             <p>If <var>shouldSoftUpdate</var> is true, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③④">in parallel</a> run the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update②">Soft Update</a> algorithm with <var>registration</var>.</p>
            <li data-md>
             <p>Set <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-cache-lookup-start" id="ref-for-service-worker-timing-info-worker-cache-lookup-start">worker cache lookup start</a> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-coarsened-shared-current-time" id="ref-for-dfn-coarsened-shared-current-time①">coarsened shared current time</a> given <var>useHighResPerformanceTimers</var>.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑥">For each</a> <var>cacheName</var> → <var>cache</var> of the <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key①③">storage key</a>’s <a data-link-type="dfn" href="#dfn-name-to-cache-map" id="ref-for-dfn-name-to-cache-map⑥">name to cache map</a>.</p>
             <ol>
              <li data-md>
               <p>If <var>source</var>["<code class="idl"><a data-link-type="idl" href="#dom-routersourcedict-cachename" id="ref-for-dom-routersourcedict-cachename①">cacheName</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">exists</a> and <var>source</var>["<code class="idl"><a data-link-type="idl" href="#dom-routersourcedict-cachename" id="ref-for-dom-routersourcedict-cachename②">cacheName</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is" id="ref-for-string-is">is</a> not <var>cacheName</var>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue⑨">continue</a>.</p>
              <li data-md>
               <p>Let <var>requestResponses</var> be the result of running <a data-link-type="dfn" href="#query-cache" id="ref-for-query-cache②">Query Cache</a> with <var>request</var>, a new <code class="idl"><a data-link-type="idl" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions⑥">CacheQueryOptions</a></code>, and <var>cache</var>.</p>
              <li data-md>
               <p>If <var>requestResponses</var> is an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②③">list</a>, return <var>timingInfo</var>.</p>
              <li data-md>
               <p>Else:</p>
               <ol>
                <li data-md>
                 <p>Let <var>requestResponse</var> be the first element of <var>requestResponses</var>.</p>
                <li data-md>
                 <p>Let <var>response</var> be <var>requestResponse</var>’s response.</p>
                <li data-md>
                 <p>Let <var>globalObject</var> be <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①⓪">global object</a>.</p>
                <li data-md>
                 <p>If <var>globalObject</var> is null:</p>
                 <ol>
                  <li data-md>
                   <p>Set <var>globalObject</var> to the result of running <a data-link-type="dfn" href="#setup-serviceworkerglobalscope" id="ref-for-setup-serviceworkerglobalscope①">Setup ServiceWorkerGlobalScope</a> with <var>activeWorker</var>.</p>
                 </ol>
                <li data-md>
                 <p>If <var>globalObject</var> is null, return <var>timingInfo</var>.</p>
               </ol>
               <p class="note" role="note"><span class="marker">Note:</span> This only creates a ServiceWorkerGlobalScope because CORS checks require that. It is not expected that implementations will actually create a ServiceWorkerGlobalScope here.</p>
               <ol>
                <li data-md>
                 <p>If <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type③">type</a> is "<code>opaque</code>", and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check" id="ref-for-cross-origin-resource-policy-check①">cross-origin resource policy check</a> with <var>globalObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①⑦">origin</a>, <var>globalObject</var>, "", and <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response" id="ref-for-concept-internal-response①">internal response</a> returns <b>blocked</b>, then return <var>timingInfo</var>.</p>
                <li data-md>
                 <p>Set <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-final-router-source" id="ref-for-service-worker-timing-info-worker-final-router-source①">worker final router source</a> be set to <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-cache" id="ref-for-dom-routersourceenum-cache①">"cache"</a></code>.</p>
                <li data-md>
                 <p>Set <var>result</var>’s <a data-link-type="dfn" href="#service-worker-timing-info" id="ref-for-service-worker-timing-info②">service worker timing info</a> be set to <var>timingInfo</var>.</p>
                <li data-md>
                 <p>Return <var>response</var>.</p>
               </ol>
             </ol>
            <li data-md>
             <p>Return <var>timingInfo</var>.</p>
           </ol>
          <li data-md>
           <p>Else if <var>source</var> is <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-race-network-and-fetch-handler" id="ref-for-dom-routersourceenum-race-network-and-fetch-handler②">"race-network-and-fetch-handler"</a></code>, and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method⑤">method</a> is `<code>GET</code>` then:</p>
           <ol>
            <li data-md>
             <p>If <var>shouldSoftUpdate</var> is true, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③⑤">in parallel</a> run the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update③">Soft Update</a> algorithm with <var>registration</var>.</p>
            <li data-md>
             <p>Let <var>queue</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue" id="ref-for-queue①">queue</a> of <a data-link-type="dfn" href="#dfn-race-result" id="ref-for-dfn-race-result②">race result</a>.</p>
            <li data-md>
             <p>Let <var>raceFetchController</var> be null.</p>
            <li data-md>
             <p>Let <var>raceResponse</var> be a <a data-link-type="dfn" href="#dfn-race-response" id="ref-for-dfn-race-response①">race response</a> whose <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value">value</a> is "<code>pending</code>".</p>
            <li data-md>
             <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③⑥">in parallel</a>:</p>
             <ol>
              <li data-md>
               <p>If <var>fetchController</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-state" id="ref-for-fetch-controller-state">state</a> is "<code>terminated</code>" or "<code>aborted</code>", then set <var>raceResponse</var> to a <a data-link-type="dfn" href="#dfn-race-response" id="ref-for-dfn-race-response②">race response</a> whose <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value①">value</a> is null, and abort these steps.</p>
              <li data-md>
               <p>Set <var>raceFetchController</var> to the result of calling <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①④">fetch</a> given <var>request</var>, with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response②">processResponse</a> set to the following steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①②">response</a> <var>raceNetworkRequestResponse</var>:</p>
               <ol>
                <li data-md>
                 <p>Run these steps, but <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when" id="ref-for-abort-when">abort when</a> <var>fetchController</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-state" id="ref-for-fetch-controller-state①">state</a> is "<code>terminated</code>" or "<code>aborted</code>".</p>
                 <ol>
                  <li data-md>
                   <p>Set <var>raceResponse</var>’s <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value②">value</a> to <var>raceNetworkRequestResponse</var>.</p>
                  <li data-md>
                   <p>If <var>raceNetworkRequestResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-status" id="ref-for-concept-response-status③">status</a> is <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#ok-status" id="ref-for-ok-status②">ok status</a>, then:</p>
                   <ol>
                    <li data-md>
                     <p>Let <var>raceNetworkResult</var> be a <a data-link-type="dfn" href="#dfn-race-result" id="ref-for-dfn-race-result③">race result</a> whose <a data-link-type="dfn" href="#race-result-routed-response" id="ref-for-race-result-routed-response①">routed response</a> is <var>raceNetworkRequestResponse</var> and <a data-link-type="dfn" href="#race-result-used-route" id="ref-for-race-result-used-route①">used route</a> is <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-network" id="ref-for-dom-routersourceenum-network②">"network"</a></code>.</p>
                    <li data-md>
                     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-enqueue" id="ref-for-queue-enqueue③">Enqueue</a> <var>raceNetworkResult</var> to <var>queue</var>.</p>
                   </ol>
                 </ol>
                <li data-md>
                 <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted" id="ref-for-if-aborted">If aborted</a> and <var>raceFetchController</var> is not null, then:</p>
                 <ol>
                  <li data-md>
                   <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-abort" id="ref-for-fetch-controller-abort②">Abort</a> <var>raceFetchController</var>.</p>
                  <li data-md>
                   <p>Set <var>raceResponse</var> to a <a data-link-type="dfn" href="#dfn-race-response" id="ref-for-dfn-race-response③">race response</a> whose <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value③">value</a> is null.</p>
                 </ol>
               </ol>
             </ol>
            <li data-md>
             <p>Resolve <var>preloadResponse</var> with undefined.</p>
            <li data-md>
             <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③⑦">in parallel</a>:</p>
             <ol>
              <li data-md>
               <p>Let <var>fetchHandlerResponse</var> be the result of <a data-link-type="dfn" href="#create-fetch-event-and-dispatch" id="ref-for-create-fetch-event-and-dispatch">Create Fetch Event and Dispatch</a> with <var>request</var>, <var>registration</var>, <var>useHighResPerformanceTimers</var>, <var>timingInfo</var>, <var>workerRealm</var>, <var>reservedClient</var>, <var>preloadResponse</var>, and <var>raceResponse</var>.</p>
              <li data-md>
               <p>If <var>fetchHandlerResponse</var> is not null and not a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error⑦">network error</a>, and <var>raceFetchController</var> is not null, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-abort" id="ref-for-fetch-controller-abort③">abort</a> <var>raceFetchController</var>.</p>
              <li data-md>
               <p>Let <var>raceFetchHandlerResult</var> be a <a data-link-type="dfn" href="#dfn-race-result" id="ref-for-dfn-race-result④">race result</a> whose <a data-link-type="dfn" href="#race-result-routed-response" id="ref-for-race-result-routed-response②">routed response</a> is <var>fetchHandlerResponse</var> and <a data-link-type="dfn" href="#race-result-used-route" id="ref-for-race-result-used-route②">used route</a> is <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-fetch-event" id="ref-for-dom-routersourceenum-fetch-event①">"fetch-event"</a></code>.</p>
              <li data-md>
               <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-enqueue" id="ref-for-queue-enqueue④">Enqueue</a> <var>raceFetchHandlerResult</var> to <var>queue</var>.</p>
             </ol>
            <li data-md>
             <p>Wait until <var>queue</var> is not empty.</p>
            <li data-md>
             <p>Let <var>result</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#queue-dequeue" id="ref-for-queue-dequeue①">dequeue</a> <var>queue</var>.</p>
            <li data-md>
             <p>Let <var>routedResponse</var> be <var>result</var>’s <a data-link-type="dfn" href="#race-result-routed-response" id="ref-for-race-result-routed-response③">routed response</a>.</p>
            <li data-md>
             <p>If <var>routedResponse</var> is null:</p>
             <ol>
              <li data-md>
               <p>Return <var>timingInfo</var>.</p>
             </ol>
            <li data-md>
             <p>If <var>result</var>’s <a data-link-type="dfn" href="#race-result-used-route" id="ref-for-race-result-used-route③">used route</a> is <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-network" id="ref-for-dom-routersourceenum-network③">"network"</a></code>, then:</p>
             <ol>
              <li data-md>
               <p>Set <var>routedResponse</var>’s <a data-link-type="dfn" href="#service-worker-timing-info" id="ref-for-service-worker-timing-info③">service worker timing info</a> be set to <var>timingInfo</var>.</p>
             </ol>
            <li data-md>
             <p>Set <var>routedResponse</var>’s <a data-link-type="dfn" href="#service-worker-timing-info" id="ref-for-service-worker-timing-info④">service worker timing info</a>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-final-router-source" id="ref-for-service-worker-timing-info-worker-final-router-source②">worker final router source</a> be set to <var>result</var>’s <a data-link-type="dfn" href="#race-result-used-route" id="ref-for-race-result-used-route④">used route</a>.</p>
            <li data-md>
             <p>Return <var>routedResponse</var>.</p>
           </ol>
          <li data-md>
           <p class="assertion">Assert: <var>source</var> is "<code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-fetch-event" id="ref-for-dom-routersourceenum-fetch-event②">fetch-event</a></code>"</p>
         </ol>
       </ol>
      <li data-md>
       <p>Let <var>responseForAutoPreload</var> be null.</p>
      <li data-md>
       <p>If <var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request" id="ref-for-navigation-request①">navigation request</a>, <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method⑥">method</a> is `<code>GET</code>`, <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker③⑨">active worker</a>’s <a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle" id="ref-for-dfn-set-of-event-types-to-handle④">set of event types to handle</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain③">contains</a> <code>fetch</code>, and <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④⓪">active worker</a>’s <a data-link-type="dfn" href="#service-worker-all-fetch-listeners-are-empty-flag" id="ref-for-service-worker-all-fetch-listeners-are-empty-flag②">all fetch listeners are empty flag</a> is not set then:</p>
       <ol>
        <li data-md>
         <p>If <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-navigation-preload-enabled-flag" id="ref-for-service-worker-registration-navigation-preload-enabled-flag③">navigation preload enabled flag</a> is set then:</p>
         <p class="note" role="note"><span class="marker">Note:</span> If the above is true except <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④①">active worker</a>’s <a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle" id="ref-for-dfn-set-of-event-types-to-handle⑤">set of event types to handle</a> <strong>does not</strong> contain <code>fetch</code>, then the user agent may wish to show a console warning, as the developer’s intent isn’t clear.</p>
         <ol>
          <li data-md>
           <p>Let <var>preloadRequest</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-clone" id="ref-for-concept-request-clone">cloning</a> the request <var>request</var>.</p>
          <li data-md>
           <p>Let <var>preloadRequestHeaders</var> be <var>preloadRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list①">header list</a>.</p>
          <li data-md>
           <p>Let <var>preloadResponseObject</var> be a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#response" id="ref-for-response①④">Response</a></code> object associated with a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers②">Headers</a></code> object whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-headers-guard" id="ref-for-concept-headers-guard②">guard</a> is "<code>immutable</code>".</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-append" id="ref-for-concept-header-list-append">Append</a> to <var>preloadRequestHeaders</var> a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header②">header</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-name" id="ref-for-concept-header-name②">name</a> is `<code>Service-Worker-Navigation-Preload</code>` and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-value" id="ref-for-concept-header-value">value</a> is <var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-navigation-preload-header-value" id="ref-for-service-worker-registration-navigation-preload-header-value②">navigation preload header value</a>.</p>
          <li data-md>
           <p>Set <var>preloadRequest</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode③">service-workers mode</a> to "<code>none</code>".</p>
          <li data-md>
           <p>Let <var>preloadFetchController</var> be null.</p>
          <li data-md>
           <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③⑧">in parallel</a>, but <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when" id="ref-for-abort-when①">abort when</a> <var>fetchController</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-state" id="ref-for-fetch-controller-state②">state</a> is "<code>terminated</code>" or "<code>aborted</code>":</p>
           <ol>
            <li data-md>
             <p>Set <var>preloadFetchController</var> to the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①⑤">fetching</a> <var>preloadRequest</var>.</p>
             <p>To <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response③">processResponse</a> for <var>navigationPreloadResponse</var>, run these substeps:</p>
             <ol>
              <li data-md>
               <p>If <var>navigationPreloadResponse</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type" id="ref-for-concept-response-type④">type</a> is "<code>error</code>", reject <var>preloadResponse</var> with a <code>TypeError</code> and terminate these substeps.</p>
              <li data-md>
               <p>Associate <var>preloadResponseObject</var> with <var>navigationPreloadResponse</var>.</p>
              <li data-md>
               <p>Resolve <var>preloadResponse</var> with <var>preloadResponseObject</var>.</p>
             </ol>
           </ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted" id="ref-for-if-aborted①">If aborted</a>, then:</p>
           <ol>
            <li data-md>
             <p>Let <var>deserializedError</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason" id="ref-for-deserialize-a-serialized-abort-reason">deserialize a serialized abort reason</a> given null and <var>workerRealm</var>.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-abort" id="ref-for-fetch-controller-abort④">Abort</a> <var>preloadFetchController</var> with <var>deserializedError</var>.</p>
           </ol>
         </ol>
        <li data-md>
         <p>Else if <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-matched-router-source" id="ref-for-service-worker-timing-info-worker-matched-router-source①">worker matched router source</a> is not "<code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-fetch-event" id="ref-for-dom-routersourceenum-fetch-event③">fetch-event</a></code>", a user agent may run the following substeps:</p>
         <p class="note" role="note"><span class="marker">Note:</span> A user agent may speculatively dispatch a network request in parallel with creating a fetch event in order to minimize the bootstrap cost.</p>
         <ol>
          <li data-md>
           <p class="assertion">Assert: <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-matched-router-source" id="ref-for-service-worker-timing-info-worker-matched-router-source②">worker matched router source</a> is null.</p>
          <li data-md>
           <p>Let <var>autoPreloadFetchController</var> be null.</p>
          <li data-md>
           <p>Set <var>responseForAutoPreload</var> to be a <a data-link-type="dfn" href="#dfn-race-response" id="ref-for-dfn-race-response④">race response</a> whose <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value④">value</a> is "<code>pending</code>".</p>
          <li data-md>
           <p>Run the following substeps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③⑨">in parallel</a>, but <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#abort-when" id="ref-for-abort-when②">abort when</a> <var>fetchController</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-state" id="ref-for-fetch-controller-state③">state</a> is "<code>terminated</code>" or "<code>aborted</code>":</p>
           <ol>
            <li data-md>
             <p>Set <var>autoPreloadFetchController</var> to the result of calling <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①⑥">fetch</a> given <var>request</var>, with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response④">processResponse</a> set to the following steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①③">response</a> <var>autoPreloadRequestResponse</var>:</p>
             <ol>
              <li data-md>
               <p>Set <var>responseForAutoPreload</var>’s <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value⑤">value</a> to <var>autoPreloadRequestResponse</var>.</p>
             </ol>
           </ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#if-aborted" id="ref-for-if-aborted②">If aborted</a> and <var>autoPreloadFetchController</var> is not null, then:</p>
           <ol>
            <li data-md>
             <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-abort" id="ref-for-fetch-controller-abort⑤">Abort</a> <var>autoPreloadFetchController</var>.</p>
            <li data-md>
             <p>Set <var>responseForAutoPreload</var> to a <a data-link-type="dfn" href="#dfn-race-response" id="ref-for-dfn-race-response⑤">race response</a> whose <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value⑥">value</a> is null.</p>
           </ol>
          <li data-md>
           <p>Resolve <var>preloadResponse</var> with undefined.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Else, resolve <var>preloadResponse</var> with undefined.</p>
      <li data-md>
       <p>Let <var>fetchResult</var> be the result of <a data-link-type="dfn" href="#create-fetch-event-and-dispatch" id="ref-for-create-fetch-event-and-dispatch①">Create Fetch Event and Dispatch</a> with <var>request</var>, <var>registration</var>, <var>useHighResPerformanceTimers</var>, <var>timingInfo</var>, <var>workerRealm</var>, <var>reservedClient</var>, <var>preloadResponse</var>, and <var>responseForAutoPreload</var>.</p>
      <li data-md>
       <p>If <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-final-router-source" id="ref-for-service-worker-timing-info-worker-final-router-source③">worker final router source</a> is not an empty string:</p>
       <ol>
        <li data-md>
         <p>Assert <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-final-router-source" id="ref-for-service-worker-timing-info-worker-final-router-source④">worker final router source</a> is <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-network" id="ref-for-dom-routersourceenum-network④">"network"</a></code>.</p>
        <li data-md>
         <p>If <var>fetchResult</var> is null, then return <var>timingInfo</var>.</p>
        <li data-md>
         <p>Else:</p>
         <ol>
          <li data-md>
           <p>Assert <var>fetchResult</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#response-service-worker-timing-info" id="ref-for-response-service-worker-timing-info">service worker timing info</a>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-final-router-source" id="ref-for-service-worker-timing-info-worker-final-router-source⑤">worker final router source</a> is <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-network" id="ref-for-dom-routersourceenum-network⑤">"network"</a></code>.</p>
          <li data-md>
           <p>Set <var>fetchResult</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#response-service-worker-timing-info" id="ref-for-response-service-worker-timing-info①">service worker timing info</a>’s <a data-link-type="dfn" href="#service-worker-timing-info-worker-final-router-source" id="ref-for-service-worker-timing-info-worker-final-router-source⑥">worker final router source</a> to <code class="idl"><a data-link-type="idl" href="#dom-routersourceenum-fetch-event" id="ref-for-dom-routersourceenum-fetch-event④">"fetch-event"</a></code>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Return <var>fetchResult</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Create Fetch Event and Dispatch">
     <h3 class="heading settled" id="create-fetch-event-and-dispatch-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-fetch-event-and-dispatch">Create Fetch Event and Dispatch</dfn></span><a class="self-link" href="#create-fetch-event-and-dispatch-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>request</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑧">request</a></p>
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤⑦">service worker registration</a></p>
      <dd data-md>
       <p><var>useHighResPerformanceTimers</var>, a boolean</p>
      <dd data-md>
       <p><var>timingInfo</var>, a <a data-link-type="dfn" href="#service-worker-timing-info" id="ref-for-service-worker-timing-info⑤">service worker timing info</a></p>
      <dd data-md>
       <p><var>workerRealm</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm⑨">relevant realm</a> of the <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①①">global object</a></p>
      <dd data-md>
       <p><var>reservedClient</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client①">reserved client</a></p>
      <dd data-md>
       <p><var>preloadResponse</var>, a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects③②">promise</a></p>
      <dd data-md>
       <p><var>raceResponse</var>, a <a data-link-type="dfn" href="#dfn-race-response" id="ref-for-dfn-race-response⑥">race response</a> or null</p>
      <dt data-md>Output
      <dd data-md>
       <p>a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①④">response</a> or null</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>response</var> be null.</p>
      <li data-md>
       <p>Let <var>eventCanceled</var> be false.</p>
      <li data-md>
       <p>Let <var>client</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client④">client</a>.</p>
      <li data-md>
       <p>Let <var>activeWorker</var> be <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④②">active worker</a>.</p>
      <li data-md>
       <p>Let <var>eventHandled</var> be null.</p>
      <li data-md>
       <p>Let <var>handleFetchFailed</var> be false.</p>
      <li data-md>
       <p>Let <var>respondWithEntered</var> be false.</p>
      <li data-md>
       <p>Let <var>networkError</var> be a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error⑧">network error</a>.</p>
      <li data-md>
       <p>If <var>raceResponse</var> is not null:</p>
       <ol>
        <li data-md>
         <p>Set <var>networkError</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#response-service-worker-timing-info" id="ref-for-response-service-worker-timing-info②">service worker timing info</a> to <var>timingInfo</var>.</p>
       </ol>
      <li data-md>
       <p>Let <var>shouldSoftUpdate</var> be true if any of the following are true, and false otherwise:</p>
       <ul>
        <li data-md>
         <p><var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#non-subresource-request" id="ref-for-non-subresource-request②">non-subresource request</a>.</p>
        <li data-md>
         <p><var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#subresource-request" id="ref-for-subresource-request②">subresource request</a> and <var>registration</var> is <a data-link-type="dfn" href="#service-worker-registration-stale" id="ref-for-service-worker-registration-stale④">stale</a>.</p>
       </ul>
      <li data-md>
       <p>If the result of running the <a data-link-type="dfn" href="#should-skip-event" id="ref-for-should-skip-event③">Should Skip Event</a> algorithm with "fetch" and <var>activeWorker</var> is true, then:</p>
       <ol>
        <li data-md>
         <p>If <var>shouldSoftUpdate</var> is true, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④⓪">in parallel</a> run the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update④">Soft Update</a> algorithm with <var>registration</var>.</p>
        <li data-md>
         <p>Return null.</p>
       </ol>
      <li data-md>
       <p>If <var>activeWorker</var>’s <a data-link-type="dfn" href="#service-worker-all-fetch-listeners-are-empty-flag" id="ref-for-service-worker-all-fetch-listeners-are-empty-flag③">all fetch listeners are empty flag</a> is set:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④①">In parallel</a>:</p>
         <ol>
          <li data-md>
           <p>If <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①⓪">state</a> is "activating", then wait for <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①①">state</a> to become "activated".</p>
          <li data-md>
           <p>Run the <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker⑦">Run Service Worker</a> algorithm with <var>activeWorker</var>.</p>
          <li data-md>
           <p>If <var>shouldSoftUpdate</var> is true, then run the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update⑤">Soft Update</a> algorithm with <var>registration</var>.</p>
         </ol>
        <li data-md>
         <p>Return null.</p>
       </ol>
      <li data-md>
       <p>If <var>useHighResPerformanceTimers</var> is true, then set <var>useHighResPerformanceTimers</var> to <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①②">global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability" id="ref-for-concept-workerglobalscope-cross-origin-isolated-capability①">cross-origin isolated capability</a>.</p>
      <li data-md>
       <p>Let <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-start-time" id="ref-for-service-worker-timing-info-start-time">start time</a> be the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-coarsened-shared-current-time" id="ref-for-dfn-coarsened-shared-current-time②">coarsened shared current time</a> given <var>useHighResPerformanceTimers</var>.</p>
      <li data-md>
       <p>If <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①②">state</a> is "<code>activating</code>", wait for <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①③">state</a> to become "<code>activated</code>".</p>
      <li data-md>
       <p>If the result of running the <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker⑧">Run Service Worker</a> algorithm with <var>activeWorker</var> is <em>failure</em>, then set <var>handleFetchFailed</var> to true.</p>
      <li data-md>
       <p>Else:</p>
       <ol>
        <li data-md>
         <p>Set <var>workerRealm</var> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①⓪">relevant realm</a> of the <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①③">global object</a>.</p>
        <li data-md>
         <p>Set <var>eventHandled</var> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise②⓪">a new promise</a> in <var>workerRealm</var>.</p>
        <li data-md>
         <p>If <var>raceResponse</var> is not null, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">set</a> <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①④">global object</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-race-response-map" id="ref-for-serviceworkerglobalscope-race-response-map">race response map</a>[<var>request</var>] to <var>raceResponse</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③④">Queue a task</a> <var>task</var> to run the following substeps:</p>
         <ol>
          <li data-md>
           <p>Let <var>e</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create" id="ref-for-concept-event-create④">creating an event</a> with <code class="idl"><a data-link-type="idl" href="#fetchevent" id="ref-for-fetchevent④">FetchEvent</a></code>.</p>
          <li data-md>
           <p>Let <var>abortController</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">new</a> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#abortcontroller" id="ref-for-abortcontroller">AbortController</a></code> object with <var>workerRealm</var>.</p>
          <li data-md>
           <p>Let <var>requestObject</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-create" id="ref-for-request-create">creating</a> a <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#request" id="ref-for-request①④">Request</a></code> object, given <var>request</var>, a new <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#headers" id="ref-for-headers③">Headers</a></code> object’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-headers-guard" id="ref-for-concept-headers-guard③">guard</a> which is "<code>immutable</code>", <var>abortController</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal" id="ref-for-abortcontroller-signal">signal</a>, and <var>workerRealm</var>.</p>
          <li data-md>
           <p>Initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type②">type</a></code> attribute to <code class="idl"><a class="idl-code" data-link-type="event" href="#service-worker-global-scope-fetch-event" id="ref-for-service-worker-global-scope-fetch-event⑦">fetch</a></code>.</p>
          <li data-md>
           <p>Initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-cancelable" id="ref-for-dom-event-cancelable">cancelable</a></code> attribute to true.</p>
          <li data-md>
           <p>Initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fetchevent-request" id="ref-for-dom-fetchevent-request②">request</a></code> attribute to <var>requestObject</var>.</p>
          <li data-md>
           <p>Initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fetchevent-preloadresponse" id="ref-for-dom-fetchevent-preloadresponse②">preloadResponse</a></code> to <var>preloadResponse</var>.</p>
          <li data-md>
           <p>Initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fetchevent-clientid" id="ref-for-dom-fetchevent-clientid②">clientId</a></code> attribute to <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" id="ref-for-concept-environment-id③">id</a>.</p>
          <li data-md>
           <p>If <var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#non-subresource-request" id="ref-for-non-subresource-request③">non-subresource request</a> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination⑤">destination</a> is not <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#dom-requestdestination-report" id="ref-for-dom-requestdestination-report①">"report"</a></code>, initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fetchevent-resultingclientid" id="ref-for-dom-fetchevent-resultingclientid②">resultingClientId</a></code> attribute to <var>reservedClient</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id" id="ref-for-concept-environment-id④">id</a>, and to the empty string otherwise.</p>
          <li data-md>
           <p>If <var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request" id="ref-for-navigation-request②">navigation request</a>, initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fetchevent-replacesclientid" id="ref-for-dom-fetchevent-replacesclientid②">replacesClientId</a></code> attribute to <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-replaces-client-id" id="ref-for-concept-request-replaces-client-id">replaces client id</a>, and to the empty string otherwise.</p>
          <li data-md>
           <p>Initialize <var>e</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fetchevent-handled" id="ref-for-dom-fetchevent-handled②">handled</a></code> to <var>eventHandled</var>.</p>
          <li data-md>
           <p>Let <var>timingInfo</var>’s <a data-link-type="dfn" href="#service-worker-timing-info-fetch-event-dispatch-time" id="ref-for-service-worker-timing-info-fetch-event-dispatch-time">fetch event dispatch time</a> to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-coarsened-shared-current-time" id="ref-for-dfn-coarsened-shared-current-time③">coarsened shared current time</a> given <var>useHighResPerformanceTimers</var>.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch⑥">Dispatch</a> <var>e</var> at <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①⑤">global object</a>.</p>
          <li data-md>
           <p>Invoke <a data-link-type="dfn" href="#update-service-worker-extended-events-set" id="ref-for-update-service-worker-extended-events-set①">Update Service Worker Extended Events Set</a> with <var>activeWorker</var> and <var>e</var>.</p>
          <li data-md>
           <p>If <var>e</var>’s <a data-link-type="dfn" href="#fetchevent-respond-with-entered-flag" id="ref-for-fetchevent-respond-with-entered-flag②">respond-with entered flag</a> is set, set <var>respondWithEntered</var> to true.</p>
          <li data-md>
           <p>If <var>e</var>’s <a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag" id="ref-for-fetchevent-wait-to-respond-flag③">wait to respond flag</a> is set, then:</p>
           <ol>
            <li data-md>
             <p>Wait until <var>e</var>’s <a data-link-type="dfn" href="#fetchevent-wait-to-respond-flag" id="ref-for-fetchevent-wait-to-respond-flag④">wait to respond flag</a> is unset.</p>
            <li data-md>
             <p>If <var>e</var>’s <a data-link-type="dfn" href="#fetchevent-respond-with-error-flag" id="ref-for-fetchevent-respond-with-error-flag③">respond-with error flag</a> is set, set <var>handleFetchFailed</var> to true.</p>
            <li data-md>
             <p>Else, set <var>response</var> to <var>e</var>’s <a data-link-type="dfn" href="#fetchevent-potential-response" id="ref-for-fetchevent-potential-response①">potential response</a>.</p>
           </ol>
          <li data-md>
           <p>If <var>response</var> is null, <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body">body</a> is not null, and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body①">body</a>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-source" id="ref-for-concept-body-source">source</a> is null, then:</p>
           <ol>
            <li data-md>
             <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body②">body</a> is <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#body-unusable" id="ref-for-body-unusable">unusable</a>, set <var>handleFetchFailed</var> to true.</p>
            <li data-md>
             <p>Else, <a data-link-type="dfn" href="https://streams.spec.whatwg.org/#readablestream-cancel" id="ref-for-readablestream-cancel">cancel</a> <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body③">body</a> with undefined.</p>
           </ol>
          <li data-md>
           <p>If <var>response</var> is not null, then set <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#response-service-worker-timing-info" id="ref-for-response-service-worker-timing-info③">service worker timing info</a> to <var>timingInfo</var>.</p>
          <li data-md>
           <p>If <var>e</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#canceled-flag" id="ref-for-canceled-flag">canceled flag</a> is set, set <var>eventCanceled</var> to true.</p>
          <li data-md>
           <p>If <var>fetchController</var> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-state" id="ref-for-fetch-controller-state④">state</a> is "<code>terminated</code>" or "<code>aborted</code>", then:</p>
           <ol>
            <li data-md>
             <p>Let <var>deserializedError</var> be the result of <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason" id="ref-for-deserialize-a-serialized-abort-reason①">deserialize a serialized abort reason</a> given <var>fetchController</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-controller-serialized-abort-reason" id="ref-for-fetch-controller-serialized-abort-reason">serialized abort reason</a> and <var>workerRealm</var>.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③⑤">Queue a task</a> to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#abortcontroller-signal-abort" id="ref-for-abortcontroller-signal-abort">signal abort</a> on <var>abortController</var> with <var>deserializedError</var>.</p>
           </ol>
         </ol>
         <p>If <var>task</var> is discarded, set <var>handleFetchFailed</var> to true.</p>
         <p>The <var>task</var> <em>must</em> use <var>activeWorker</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①⑤">event loop</a> and the <a data-link-type="dfn" href="#dfn-handle-fetch-task-source" id="ref-for-dfn-handle-fetch-task-source③">handle fetch task source</a>.</p>
       </ol>
      <li data-md>
       <p>Wait for <var>task</var> to have executed or for <var>handleFetchFailed</var> to be true.</p>
      <li data-md>
       <p>If <var>shouldSoftUpdate</var> is true, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④②">in parallel</a> run the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update⑥">Soft Update</a> algorithm with <var>registration</var>.</p>
      <li data-md>
       <p>If <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①⑥">global object</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-race-response-map" id="ref-for-serviceworkerglobalscope-race-response-map①">race response map</a>[<var>request</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨">exists</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove⑤">remove</a> <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①⑦">global object</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-race-response-map" id="ref-for-serviceworkerglobalscope-race-response-map②">race response map</a>[<var>request</var>].</p>
      <li data-md>
       <p>If <var>respondWithEntered</var> is false, then:</p>
       <ol>
        <li data-md>
         <p>If <var>eventCanceled</var> is true, then:</p>
         <ol>
          <li data-md>
           <p>If <var>eventHandled</var> is not null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject③">reject</a> <var>eventHandled</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#networkerror" id="ref-for-networkerror">NetworkError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⓪">DOMException</a></code> in <var>workerRealm</var>.</p>
          <li data-md>
           <p>Return <var>networkError</var>.</p>
         </ol>
        <li data-md>
         <p>If <var>eventHandled</var> is not null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">resolve</a> <var>eventHandled</var>.</p>
        <li data-md>
         <p>If <var>raceResponse</var> is not null, and <var>raceResponse</var>’s <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value⑦">value</a> is not null, then:</p>
         <ol>
          <li data-md>
           <p>Wait until <var>raceResponse</var>’s <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value⑧">value</a> is not "<code>pending</code>".</p>
          <li data-md>
           <p>If <var>raceResponse</var>’s <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value⑨">value</a> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①⑤">response</a>, return <var>raceResponse</var>’s <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value①⓪">value</a>.</p>
         </ol>
        <li data-md>
         <p>Return null.</p>
       </ol>
      <li data-md>
       <p>If <var>handleFetchFailed</var> is true, then:</p>
       <ol>
        <li data-md>
         <p>If <var>eventHandled</var> is not null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#reject" id="ref-for-reject④">reject</a> <var>eventHandled</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#networkerror" id="ref-for-networkerror①">NetworkError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②①">DOMException</a></code> in <var>workerRealm</var>.</p>
        <li data-md>
         <p>Return <var>networkError</var>.</p>
       </ol>
      <li data-md>
       <p>If <var>eventHandled</var> is not null, then <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">resolve</a> <var>eventHandled</var>.</p>
      <li data-md>
       <p>Return <var>response</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Parse URL Pattern">
     <h3 class="heading settled" id="parse-urlpattern-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="parse-url-pattern">Parse URL Pattern</dfn></span><a class="self-link" href="#parse-urlpattern-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>rawPattern</var>, a <code class="idl"><a data-link-type="idl" href="https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible" id="ref-for-typedefdef-urlpatterncompatible①">URLPatternCompatible</a></code></p>
      <dd data-md>
       <p><var>serviceWorker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪②">service worker</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>A <a data-link-type="dfn" href="https://urlpattern.spec.whatwg.org/#url-pattern" id="ref-for-url-pattern">URL pattern</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>baseURL</var> be <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url①⓪">script url</a>.</p>
      <li data-md>
       <p>Return the result of <a data-link-type="dfn" href="https://urlpattern.spec.whatwg.org/#build-a-url-pattern-from-a-web-idl-value" id="ref-for-build-a-url-pattern-from-a-web-idl-value">building a URL pattern from a Web IDL value</a> <var>rawPattern</var> given <var>baseURL</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Verify Router Condition">
     <h3 class="heading settled" id="verify-router-rule-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="verify-router-condition">Verify Router Condition</dfn></span><a class="self-link" href="#verify-router-rule-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>condition</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition③">RouterCondition</a></code></p>
      <dd data-md>
       <p><var>serviceWorker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪③">service worker</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>a boolean</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>hasCondition</var> be false.</p>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-urlpattern" id="ref-for-dom-routercondition-urlpattern">urlPattern</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⓪">exists</a>, then:</p>
       <ol>
        <li data-md>
         <p>Let <var>rawPattern</var> be <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-urlpattern" id="ref-for-dom-routercondition-urlpattern①">urlPattern</a></code>"].</p>
        <li data-md>
         <p>Let <var>pattern</var> be the result of running the <a data-link-type="dfn" href="#parse-url-pattern" id="ref-for-parse-url-pattern">Parse URL Pattern</a> algorithm passing <var>rawPattern</var> and <var>serviceWorker</var>. If this throws an exception, catch it and return false.</p>
        <li data-md>
         <p>If <var>pattern</var> <a data-link-type="dfn" href="https://urlpattern.spec.whatwg.org/#url-pattern-has-regexp-groups" id="ref-for-url-pattern-has-regexp-groups">has regexp groups</a>, then return false.</p>
         <p class="note" role="note"><span class="marker">Note:</span> Since running a user-defined regular expression has a security concern, it is prohibited.</p>
        <li data-md>
         <p>Set <var>hasCondition</var> to true.</p>
       </ol>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmethod" id="ref-for-dom-routercondition-requestmethod">requestMethod</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①①">exists</a>:</p>
       <ol>
        <li data-md>
         <p>Let <var>method</var> be <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmethod" id="ref-for-dom-routercondition-requestmethod①">requestMethod</a></code>"].</p>
        <li data-md>
         <p>If <var>method</var> is not a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-method" id="ref-for-concept-method">method</a>, then return false.</p>
        <li data-md>
         <p>If <var>method</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#forbidden-method" id="ref-for-forbidden-method">forbidden method</a>, then return false.</p>
        <li data-md>
         <p>Set <var>hasCondition</var> to true.</p>
       </ol>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmode" id="ref-for-dom-routercondition-requestmode">requestMode</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①②">exists</a>, set <var>hasCondition</var> to true.</p>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestdestination" id="ref-for-dom-routercondition-requestdestination">requestDestination</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①③">exists</a>, set <var>hasCondition</var> to true.</p>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-runningstatus" id="ref-for-dom-routercondition-runningstatus">runningStatus</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①④">exists</a>, set <var>hasCondition</var> to true.</p>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or">_or</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑤">exists</a>, then:</p>
       <ol>
        <li data-md>
         <p>If <var>hasCondition</var> is true, return false.</p>
         <p class="note" role="note"><span class="marker">Note:</span> For ease of understanding the router rule, the "or" condition is mutually exclusive with other conditions.</p>
        <li data-md>
         <p>Let <var>orConditions</var> be <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or①">_or</a></code>"].</p>
        <li data-md>
         <p>For each <var>orCondition</var> of <var>orConditions</var>:</p>
         <ol>
          <li data-md>
           <p>If running the <a data-link-type="dfn" href="#verify-router-condition" id="ref-for-verify-router-condition①">Verify Router Condition</a> algorithm with <var>orCondition</var> and <var>serviceWorker</var> returns false, return false.</p>
         </ol>
        <li data-md>
         <p>Set <var>hasCondition</var> to true.</p>
       </ol>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not">not</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑥">exists</a>, then:</p>
       <ol>
        <li data-md>
         <p>If <var>hasCondition</var> is true, return false.</p>
         <p class="note" role="note"><span class="marker">Note:</span> For ease of understanding the router rule, the "not" condition is mutually exclusive with other conditions.</p>
        <li data-md>
         <p>If running the <a data-link-type="dfn" href="#verify-router-condition" id="ref-for-verify-router-condition②">Verify Router Condition</a> algorithm with <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not①">not</a></code>"] and <var>serviceWorker</var> returns false, return false.</p>
        <li data-md>
         <p>Set <var>hasCondition</var> to true.</p>
       </ol>
      <li data-md>
       <p>Return <var>hasCondition</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Match Router Condition">
     <h3 class="heading settled" id="match-router-condition-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="match-router-condition">Match Router Condition</dfn></span><a class="self-link" href="#match-router-condition-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>condition</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition④">RouterCondition</a></code></p>
      <dd data-md>
       <p><var>serviceWorker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪④">service worker</a></p>
      <dd data-md>
       <p><var>request</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request⑨">request</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>a boolean</p>
     </dl>
     <p class="note" role="note"><span class="marker">Note:</span> if there are multiple conditions (e.g. <code>urlPattern</code>, <code>runningStatus</code>, and <code>requestMethod</code> are set), all conditions need to match for true to be returned.</p>
     <ol>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or②">or</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑦">exists</a>, then:</p>
       <ol>
        <li data-md>
         <p>Let <var>orConditions</var> be <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or③">or</a></code>"].</p>
        <li data-md>
         <p>For each <var>orCondition</var> of <var>orConditions</var>:</p>
         <ol>
          <li data-md>
           <p>If running the <a data-link-type="dfn" href="#match-router-condition" id="ref-for-match-router-condition">Match Router Condition</a> algorithm with <var>orCondition</var>, <var>serviceWorker</var> and <var>request</var> returns true, then return true.</p>
         </ol>
        <li data-md>
         <p>Return false.</p>
       </ol>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not②">not</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑧">exists</a>, then:</p>
       <ol>
        <li data-md>
         <p>If running the <a data-link-type="dfn" href="#match-router-condition" id="ref-for-match-router-condition①">Match Router Condition</a> algorithm with <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not③">not</a></code>"], <var>serviceWorker</var> and <var>request</var> returns true, then return false.</p>
        <li data-md>
         <p>Return true.</p>
       </ol>
      <li data-md>
       <p>Else:</p>
       <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#verify-router-condition" id="ref-for-verify-router-condition③">Verify Router Condition</a> algorithm guarantees that <code class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or④">or</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not④">not</a></code>, and other conditions are mutually exclusive.</p>
       <ol>
        <li data-md>
         <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-urlpattern" id="ref-for-dom-routercondition-urlpattern②">urlPattern</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①⑨">exists</a>, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>rawPattern</var> be <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-urlpattern" id="ref-for-dom-routercondition-urlpattern③">urlPattern</a></code>"].</p>
          <li data-md>
           <p>Let <var>pattern</var> be the result of running the <a data-link-type="dfn" href="#parse-url-pattern" id="ref-for-parse-url-pattern①">Parse URL Pattern</a> algorithm passing <var>rawPattern</var> and <var>serviceWorker</var>.</p>
          <li data-md>
           <p>If running <a data-link-type="dfn" href="https://urlpattern.spec.whatwg.org/#url-pattern-match" id="ref-for-url-pattern-match">match</a> with <var>pattern</var> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①⓪">URL</a> returns null, return false.</p>
         </ol>
        <li data-md>
         <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmethod" id="ref-for-dom-routercondition-requestmethod②">requestMethod</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⓪">exists</a>, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>method</var> be <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmethod" id="ref-for-dom-routercondition-requestmethod③">requestMethod</a></code>"].</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-method-normalize" id="ref-for-concept-method-normalize">Normalize</a> <var>method</var>.</p>
          <li data-md>
           <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method⑦">method</a> is not <var>method</var>, return false.</p>
         </ol>
        <li data-md>
         <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmode" id="ref-for-dom-routercondition-requestmode①">requestMode</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②①">exists</a>, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>mode</var> be <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestmode" id="ref-for-dom-routercondition-requestmode②">requestMode</a></code>"].</p>
          <li data-md>
           <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode">mode</a> is not <var>mode</var>, return false.</p>
         </ol>
        <li data-md>
         <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestdestination" id="ref-for-dom-routercondition-requestdestination①">requestDestination</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②②">exists</a>, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>destination</var> be <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-requestdestination" id="ref-for-dom-routercondition-requestdestination②">requestDestination</a></code>"].</p>
          <li data-md>
           <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination⑥">destination</a> is not <var>destination</var>, return false.</p>
         </ol>
        <li data-md>
         <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-runningstatus" id="ref-for-dom-routercondition-runningstatus①">runningStatus</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②③">exists</a>, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>runningStatus</var> be <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-runningstatus" id="ref-for-dom-routercondition-runningstatus②">runningStatus</a></code>"].</p>
          <li data-md>
           <p>If <var>runningStatus</var> is <code class="idl"><a data-link-type="idl" href="#dom-runningstatus-running" id="ref-for-dom-runningstatus-running">"running"</a></code>, and <var>serviceWorker</var> is not <a data-link-type="dfn" href="#service-worker-running" id="ref-for-service-worker-running④">running</a>, return false.</p>
          <li data-md>
           <p>If <var>runningStatus</var> is <code class="idl"><a data-link-type="idl" href="#dom-runningstatus-not-running" id="ref-for-dom-runningstatus-not-running">"not-running"</a></code>, and <var>serviceWorker</var> is <a data-link-type="dfn" href="#service-worker-running" id="ref-for-service-worker-running⑤">running</a>, return false.</p>
         </ol>
        <li data-md>
         <p>Return true.</p>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Check Router Registration Limit">
     <h3 class="heading settled" id="check-router-registration-limit-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="check-router-registration-limit">Check Router Registration Limit</dfn></span><a class="self-link" href="#check-router-registration-limit-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>routerRules</var>, a <a data-link-type="dfn" href="#service-worker-list-of-router-rules" id="ref-for-service-worker-list-of-router-rules③">list of router rules</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>a boolean</p>
     </dl>
     <p class="note" role="note"><span class="marker">Note:</span> Router conditions can be complex and nested using <code class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or⑤">_or</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not⑤">not</a></code>. To prevent excessive processing, this algorithm introduces two limits. First, the total number of conditions, counting all nested conditions, cannot exceed 1024. Second, the nesting depth is limited to 10 levels to avoid exponential computation.</p>
     <ol>
      <li data-md>
       <p>Let <var>result</var> be a <a data-link-type="dfn" href="#dfn-count-router-condition-result" id="ref-for-dfn-count-router-condition-result">count router condition result</a>.</p>
      <li data-md>
       <p>Set <var>result</var>’s <a data-link-type="dfn" href="#dfn-count-router-condition-result-condition-count" id="ref-for-dfn-count-router-condition-result-condition-count">condition count</a> to 1024.</p>
      <li data-md>
       <p>Set <var>result</var>’s <a data-link-type="dfn" href="#dfn-dfn-count-router-condition-result-quota-exceeded" id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded">quota exceeded</a> to false.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑦">For each</a> <var>rule</var> of <var>routerRules</var>:</p>
       <ol>
        <li data-md>
         <p>Set <var>result</var> to be the result of running <a data-link-type="dfn" href="#count-router-inner-conditions" id="ref-for-count-router-inner-conditions">Count Router Inner Conditions</a> with <var>rule</var>["<code class="idl"><a data-link-type="idl" href="#dom-routerrule-condition" id="ref-for-dom-routerrule-condition①">condition</a></code>"], <var>result</var>, and 10.</p>
        <li data-md>
         <p>If <var>result</var>’s <a data-link-type="dfn" href="#dfn-dfn-count-router-condition-result-quota-exceeded" id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded①">quota exceeded</a> is true, return false.</p>
       </ol>
      <li data-md>
       <p>Return true.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Count Router Inner Conditions">
     <h3 class="heading settled" id="count-router-inner-conditions-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="count-router-inner-conditions">Count Router Inner Conditions</dfn></span><a class="self-link" href="#count-router-inner-conditions-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>condition</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-routercondition" id="ref-for-dictdef-routercondition⑤">RouterCondition</a></code></p>
      <dd data-md>
       <p><var>result</var>, a <a data-link-type="dfn" href="#dfn-count-router-condition-result" id="ref-for-dfn-count-router-condition-result①">count router condition result</a></p>
      <dd data-md>
       <p><var>depth</var>, a number</p>
      <dt data-md>Output
      <dd data-md>
       <p><var>result</var>, a <a data-link-type="dfn" href="#dfn-count-router-condition-result" id="ref-for-dfn-count-router-condition-result②">count router condition result</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Decrement <var>result</var>’s <a data-link-type="dfn" href="#dfn-count-router-condition-result-condition-count" id="ref-for-dfn-count-router-condition-result-condition-count①">condition count</a> by one.</p>
      <li data-md>
       <p>If <var>result</var>’s <a data-link-type="dfn" href="#dfn-count-router-condition-result-condition-count" id="ref-for-dfn-count-router-condition-result-condition-count②">condition count</a> is zero, or <var>depth</var> is zero, then:</p>
       <ol>
        <li data-md>
         <p>Set <var>result</var>’s <a data-link-type="dfn" href="#dfn-dfn-count-router-condition-result-quota-exceeded" id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded②">quota exceeded</a> to be true.</p>
        <li data-md>
         <p>Return <var>result</var>.</p>
       </ol>
      <li data-md>
       <p>If <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or⑥">_or</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②④">exists</a>, then:</p>
       <ol>
        <li data-md>
         <p>Decrement <var>depth</var> by one.</p>
        <li data-md>
         <p>For each <var>orCondition</var> of <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-or" id="ref-for-dom-routercondition-or⑦">_or</a></code>"]:</p>
         <ol>
          <li data-md>
           <p>Set <var>result</var> to be the result of running <a data-link-type="dfn" href="#count-router-inner-conditions" id="ref-for-count-router-inner-conditions①">Count Router Inner Conditions</a> with <var>orCondition</var>, <var>result</var>, and <var>depth</var>.</p>
          <li data-md>
           <p>If <var>result</var>’s <a data-link-type="dfn" href="#dfn-dfn-count-router-condition-result-quota-exceeded" id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded③">quota exceeded</a> is true, return <var>result</var>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Else if <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not⑥">not</a></code>"] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑤">exists</a>, then:</p>
       <ol>
        <li data-md>
         <p>Decrement <var>depth</var> by one.</p>
        <li data-md>
         <p>Set <var>result</var> to be the result of running <a data-link-type="dfn" href="#count-router-inner-conditions" id="ref-for-count-router-inner-conditions②">Count Router Inner Conditions</a> with <var>condition</var>["<code class="idl"><a data-link-type="idl" href="#dom-routercondition-not" id="ref-for-dom-routercondition-not⑦">not</a></code>"], <var>result</var>, and <var>depth</var>.</p>
        <li data-md>
         <p>If <var>result</var>’s <a data-link-type="dfn" href="#dfn-dfn-count-router-condition-result-quota-exceeded" id="ref-for-dfn-dfn-count-router-condition-result-quota-exceeded④">quota exceeded</a> is true, return <var>result</var>.</p>
       </ol>
      <li data-md>
       <p>Return <var>result</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Get Router Source">
     <h3 class="heading settled" id="get-router-source-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-router-source">Get Router Source</dfn></span><a class="self-link" href="#get-router-source-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>serviceWorker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪⑤">service worker</a></p>
      <dd data-md>
       <p><var>request</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①⓪">request</a></p>
      <dt data-md>Output
      <dd data-md>
       <p><code class="idl"><a data-link-type="idl" href="#typedefdef-routersource" id="ref-for-typedefdef-routersource①">RouterSource</a></code> or null</p>
     </dl>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑧">For each</a> <var>rule</var> of <var>serviceWorker</var>’s <a data-link-type="dfn" href="#service-worker-list-of-router-rules" id="ref-for-service-worker-list-of-router-rules④">list of router rules</a>:</p>
       <ol>
        <li data-md>
         <p>If running the <a data-link-type="dfn" href="#match-router-condition" id="ref-for-match-router-condition②">Match Router Condition</a> algorithm with <var>rule</var>["<code class="idl"><a data-link-type="idl" href="#dom-routerrule-condition" id="ref-for-dom-routerrule-condition②">condition</a></code>"], <var>serviceWorker</var> and <var>request</var> returns true, then return <var>rule</var>["<code class="idl"><a data-link-type="idl" href="#dom-routerrule-source" id="ref-for-dom-routerrule-source①">source</a></code>"].</p>
       </ol>
      <li data-md>
       <p>Return null.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Should Skip Event">
     <h3 class="heading settled" id="should-skip-event-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="should-skip-event">Should Skip Event</dfn></span><a class="self-link" href="#should-skip-event-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>eventName</var>, a string</p>
      <dd data-md>
       <p><var>serviceWorker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪⑥">service worker</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>a boolean</p>
     </dl>
     <p class="note" role="note"><span class="marker">Note:</span> To avoid unnecessary delays, this specification permits skipping event dispatch when no event listeners for the event have been deterministically added in the service worker’s global during the very first script execution.</p>
     <ol>
      <li data-md>
       <p>If <var>serviceWorker</var>’s <a data-link-type="dfn" href="#dfn-set-of-event-types-to-handle" id="ref-for-dfn-set-of-event-types-to-handle⑥">set of event types to handle</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain④">contain</a> <var>eventName</var>, then the user agent <em>may</em> return true.</p>
      <li data-md>
       <p>Return false.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Fire Functional Event">
     <h3 class="heading settled" id="fire-functional-event-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-export data-lt="Fire Functional Event|Fire a functional event" id="fire-functional-event">Fire Functional Event</dfn></span><a class="self-link" href="#fire-functional-event-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>eventName</var>, a string</p>
      <dd data-md>
       <p><var>eventConstructor</var>, an event constructor that extends <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①⑦">ExtendableEvent</a></code></p>
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤⑧">service worker registration</a></p>
      <dd data-md>
       <p><var>initialization</var>, optional property initialization for <var>event</var>, constructed from <var>eventConstructor</var></p>
      <dd data-md>
       <p><var>postDispatchSteps</var>, optional steps to run on the <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④③">active worker</a>’s event loop, with <var>dispatchedEvent</var> set to the instance of <var>eventConstructor</var> that was <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch⑦">dispatched</a>.</p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p class="assertion">Assert: <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④④">active worker</a> is not null.</p>
      <li data-md>
       <p>Let <var>activeWorker</var> be <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④⑤">active worker</a>.</p>
      <li data-md>
       <p>If the result of running <a data-link-type="dfn" href="#should-skip-event" id="ref-for-should-skip-event④">Should Skip Event</a> with <var>eventName</var> and <var>activeWorker</var> is true, then:</p>
       <ol>
        <li data-md>
         <p>If <var>registration</var> is <a data-link-type="dfn" href="#service-worker-registration-stale" id="ref-for-service-worker-registration-stale⑤">stale</a>, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④③">in parallel</a> run the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update⑦">Soft Update</a> algorithm with <var>registration</var>.</p>
        <li data-md>
         <p>Return.</p>
       </ol>
      <li data-md>
       <p>If <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①④">state</a> is "<code>activating</code>", wait for <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①⑤">state</a> to become "<code>activated</code>".</p>
      <li data-md>
       <p>If the result of running the <a data-link-type="dfn" href="#run-service-worker" id="ref-for-run-service-worker⑨">Run Service Worker</a> algorithm with <var>activeWorker</var> is <em>failure</em>, then:</p>
       <ol>
        <li data-md>
         <p>If <var>registration</var> is <a data-link-type="dfn" href="#service-worker-registration-stale" id="ref-for-service-worker-registration-stale⑥">stale</a>, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④④">in parallel</a> run the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update⑧">Soft Update</a> algorithm with <var>registration</var>.</p>
        <li data-md>
         <p>Return.</p>
       </ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③⑥">Queue a task</a> <var>task</var> to run these substeps:</p>
       <ol>
        <li data-md>
         <p>Let <var>event</var> be the result of <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-create" id="ref-for-concept-event-create⑤">creating an event</a> with <var>eventConstructor</var> and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm①①">relevant realm</a> of <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①⑧">global object</a>.</p>
        <li data-md>
         <p>If <var>initialization</var> is not null, then initialize <var>event</var> with <var>initialization</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch⑧">Dispatch</a> <var>event</var> on <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object①⑨">global object</a>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#update-service-worker-extended-events-set" id="ref-for-update-service-worker-extended-events-set②">Update Service Worker Extended Events Set</a> with <var>activeWorker</var> and <var>event</var>.</p>
        <li data-md>
         <p>If <var>postDispatchSteps</var> is not null, then run <var>postDispatchSteps</var> passing <var>event</var> as <var>dispatchedEvent</var>.</p>
       </ol>
       <p>The <var>task</var> <em>must</em> use <var>activeWorker</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①⑥">event loop</a> and the <a data-link-type="dfn" href="#dfn-handle-functional-event-task-source" id="ref-for-dfn-handle-functional-event-task-source③">handle functional event task source</a>.</p>
      <li data-md>
       <p>Wait for <var>task</var> to have executed or been discarded.</p>
      <li data-md>
       <p>If <var>registration</var> is <a data-link-type="dfn" href="#service-worker-registration-stale" id="ref-for-service-worker-registration-stale⑦">stale</a>, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④⑤">in parallel</a> run the <a data-link-type="dfn" href="#soft-update" id="ref-for-soft-update⑨">Soft Update</a> algorithm with <var>registration</var>.</p>
     </ol>
     <div class="example" id="example-cfaebd87">
      <a class="self-link" href="#example-cfaebd87"></a>
        To fire an "<code>amazingthing</code>" event (which is of type <code>AmazingThingEvent</code>) on a particular <var>serviceWorkerRegistration</var>, and initialize the event object’s properties, the prose would be:


      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#fire-functional-event" id="ref-for-fire-functional-event①">Fire Functional Event</a> "<code>amazingthing</code>" using <code>AmazingThingEvent</code> on <var>serviceWorkerRegistration</var> with the following properties:</p>
        <dl>
         <dt data-md>propertyName
         <dd data-md>
          <p>value</p>
         <dt data-md>anotherPropertyName
         <dd data-md>
          <p>anotherValue</p>
        </dl>
        <p>Then run the following steps with <var>dispatchedEvent</var>:</p>
        <ol>
         <li data-md>
          <p>Do whatever you need to with <var>dispatchedEvent</var> on the service worker’s event loop.</p>
        </ol>
      </ol>
      <p>Note that the initialization steps and post-dispatch steps are optional. If they aren’t needed, the prose would be:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#fire-functional-event" id="ref-for-fire-functional-event②">Fire Functional Event</a> "<code>whatever</code>" using <code class="idl"><a data-link-type="idl" href="#extendableevent" id="ref-for-extendableevent①⑧">ExtendableEvent</a></code> on <var>serviceWorkerRegistration</var>.</p>
      </ol>
     </div>
    </section>
    <section class="algorithm" data-algorithm="Handle Service Worker Client Unload">
     <h3 class="heading settled" id="on-client-unload-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="handle-service-worker-client-unload">Handle Service Worker Client Unload</dfn></span><a class="self-link" href="#on-client-unload-algorithm"></a></h3>
     <p>The user agent <em>must</em> run these steps as part of when a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④⑤">service worker client</a> unloads via <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-lifecycle.html#unloading-document-cleanup-steps" id="ref-for-unloading-document-cleanup-steps">unloading document cleanup steps</a> or <a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker⑥">termination</a>.</p>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>client</var>, a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④⑥">service worker client</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p>Run the following steps atomically.</p>
      <li data-md>
       <p>Let <var>registration</var> be the <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑤⑨">service worker registration</a> <a data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use⑤">used</a> by <var>client</var>.</p>
      <li data-md>
       <p>If <var>registration</var> is null, abort these steps.</p>
      <li data-md>
       <p>If any other <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④⑦">service worker client</a> is <a data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use⑥">using</a> <var>registration</var>, abort these steps.</p>
      <li data-md>
       <p>If <var>registration</var> is <a data-link-type="dfn" href="#dfn-service-worker-registration-unregistered" id="ref-for-dfn-service-worker-registration-unregistered③">unregistered</a>, invoke <a data-link-type="dfn" href="#try-clear-registration" id="ref-for-try-clear-registration①">Try Clear Registration</a> with <var>registration</var>.</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#try-activate" id="ref-for-try-activate④">Try Activate</a> with <var>registration</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Handle User Agent Shutdown">
     <h3 class="heading settled" id="on-user-agent-shutdown-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="handle-user-agent-shutdown">Handle User Agent Shutdown</dfn></span><a class="self-link" href="#on-user-agent-shutdown-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p>None</p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①⑨">For each</a> <var>registration</var> of <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map⑦">registration map</a>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values④">values</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①④">installing worker</a> is not null, then:</p>
         <ol>
          <li data-md>
           <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①③">waiting worker</a> is null and <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④⑥">active worker</a> is null, invoke <a data-link-type="dfn" href="#clear-registration" id="ref-for-clear-registration">Clear Registration</a> with <var>registration</var> and continue to the next iteration of the loop.</p>
          <li data-md>
           <p>Else, set <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①⑤">installing worker</a> to null.</p>
         </ol>
        <li data-md>
         <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①④">waiting worker</a> is not null, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④⑥">in parallel</a>:</p>
         <ol>
          <li data-md>
           <p>Invoke <a data-link-type="dfn" href="#activate" id="ref-for-activate⑥">Activate</a> with <var>registration</var>.</p>
         </ol>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Update Service Worker Extended Events Set">
     <h3 class="heading settled" id="update-service-worker-extended-events-set-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-service-worker-extended-events-set">Update Service Worker Extended Events Set</dfn></span><a class="self-link" href="#update-service-worker-extended-events-set-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>worker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪⑦">service worker</a></p>
      <dd data-md>
       <p><var>event</var>, an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event⑦">event</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p class="assertion">Assert: <var>event</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#dispatch-flag" id="ref-for-dispatch-flag②">dispatch flag</a> is unset.</p>
      <li data-md>
       <p>For each <var>item</var> of <var>worker</var>’s <a data-link-type="dfn" href="#dfn-set-of-extended-events" id="ref-for-dfn-set-of-extended-events①">set of extended events</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>item</var> is not <a data-link-type="dfn" href="#extendableevent-active" id="ref-for-extendableevent-active③">active</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①">remove</a> <var>item</var> from <var>worker</var>’s <a data-link-type="dfn" href="#dfn-set-of-extended-events" id="ref-for-dfn-set-of-extended-events②">set of extended events</a>.</p>
       </ol>
      <li data-md>
       <p>If <var>event</var> is <a data-link-type="dfn" href="#extendableevent-active" id="ref-for-extendableevent-active④">active</a>, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append③">append</a> <var>event</var> to <var>worker</var>’s <a data-link-type="dfn" href="#dfn-set-of-extended-events" id="ref-for-dfn-set-of-extended-events③">set of extended events</a>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Unregister">
     <h3 class="heading settled" id="unregister-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="unregister">Unregister</dfn></span><a class="self-link" href="#unregister-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>job</var>, a <a data-link-type="dfn" href="#dfn-job" id="ref-for-dfn-job②⑦">job</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>If the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①⑧">origin</a> of <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url⑧">scope url</a> is not <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client" id="ref-for-dfn-job-client②⓪">client</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①⑨">origin</a>, then:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#reject-job-promise" id="ref-for-reject-job-promise①⓪">Reject Job Promise</a> with <var>job</var> and "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑦">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②②">DOMException</a></code>.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job①①">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>Let <var>registration</var> be the result of running <a data-link-type="dfn" href="#get-registration" id="ref-for-get-registration②">Get Registration</a> given <var>job</var>’s <a data-link-type="dfn" href="#job-storage-key" id="ref-for-job-storage-key④">storage key</a> and <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url⑨">scope url</a>.</p>
      <li data-md>
       <p>If <var>registration</var> is null, then:</p>
       <ol>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#resolve-job-promise" id="ref-for-resolve-job-promise③">Resolve Job Promise</a> with <var>job</var> and false.</p>
        <li data-md>
         <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job①②">Finish Job</a> with <var>job</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove⑥">Remove</a> <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map⑧">registration map</a>[(<var>registration</var>’s <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key①④">storage key</a>, <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-scope-url" id="ref-for-dfn-job-scope-url①⓪">scope url</a>)].</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#resolve-job-promise" id="ref-for-resolve-job-promise④">Resolve Job Promise</a> with <var>job</var> and true.</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#try-clear-registration" id="ref-for-try-clear-registration②">Try Clear Registration</a> with <var>registration</var>.</p>
       <p class="note" role="note"><span class="marker">Note:</span> If <a data-link-type="dfn" href="#try-clear-registration" id="ref-for-try-clear-registration③">Try Clear Registration</a> does not trigger <a data-link-type="dfn" href="#clear-registration" id="ref-for-clear-registration①">Clear Registration</a> here, <a data-link-type="dfn" href="#clear-registration" id="ref-for-clear-registration②">Clear Registration</a> is tried again when the last client <a data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use⑦">using</a> the registration is <a data-link-type="dfn" href="#handle-service-worker-client-unload" id="ref-for-handle-service-worker-client-unload②">unloaded</a> or the <a data-link-type="dfn" href="#extendableevent-extend-lifetime-promises" id="ref-for-extendableevent-extend-lifetime-promises⑧">extend lifetime promises</a> for the registration’s service workers settle.</p>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#finish-job" id="ref-for-finish-job①③">Finish Job</a> with <var>job</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Set Registration">
     <h3 class="heading settled" id="set-registration-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="set-registration">Set Registration</dfn></span><a class="self-link" href="#set-registration-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>storage key</var>, a <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key⑦">storage key</a></p>
      <dd data-md>
       <p><var>scope</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①③">URL</a></p>
      <dd data-md>
       <p><var>updateViaCache</var>, an <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache⑧">update via cache mode</a></p>
      <dt data-md>Output
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑥⓪">service worker registration</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Run the following steps atomically.</p>
      <li data-md>
       <p>Let <var>scopeString</var> be <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①③">serialized</a> <var>scope</var> with the <em>exclude fragment flag</em> set.</p>
      <li data-md>
       <p>Let <var>registration</var> be a new <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑥①">service worker registration</a> whose <a data-link-type="dfn" href="#service-worker-registration-storage-key" id="ref-for-service-worker-registration-storage-key①⑤">storage key</a> is set to <var>storage key</var>, <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⑧">scope url</a> is set to <var>scope</var>, and <a data-link-type="dfn" href="#dfn-update-via-cache" id="ref-for-dfn-update-via-cache⑨">update via cache mode</a> is set to <var>updateViaCache</var>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">Set</a> <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map⑨">registration map</a>[(<var>storage key</var>, <var>scopeString</var>)] to <var>registration</var>.</p>
      <li data-md>
       <p>Return <var>registration</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Clear Registration">
     <h3 class="heading settled" id="clear-registration-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="clear-registration">Clear Registration</dfn></span><a class="self-link" href="#clear-registration-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑥②">service worker registration</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p>Run the following steps atomically.</p>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①⑥">installing worker</a> is not null, then:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker⑦">Terminate</a> <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①⑦">installing worker</a>.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state⑧">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①⑧">installing worker</a> and "<code>redundant</code>" as the arguments.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-registration-state" id="ref-for-update-registration-state⑥">Update Registration State</a> algorithm passing <var>registration</var>, "<code>installing</code>" and null as the arguments.</p>
       </ol>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⑤">waiting worker</a> is not null, then:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker⑧">Terminate</a> <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⑥">waiting worker</a>.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state⑨">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⑦">waiting worker</a> and "<code>redundant</code>" as the arguments.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-registration-state" id="ref-for-update-registration-state⑦">Update Registration State</a> algorithm passing <var>registration</var>, "<code>waiting</code>" and null as the arguments.</p>
       </ol>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④⑦">active worker</a> is not null, then:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="#terminate-service-worker" id="ref-for-terminate-service-worker⑨">Terminate</a> <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④⑧">active worker</a>.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-worker-state" id="ref-for-update-worker-state①⓪">Update Worker State</a> algorithm passing <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker④⑨">active worker</a> and "<code>redundant</code>" as the arguments.</p>
        <li data-md>
         <p>Run the <a data-link-type="dfn" href="#update-registration-state" id="ref-for-update-registration-state⑧">Update Registration State</a> algorithm passing <var>registration</var>, "<code>active</code>" and null as the arguments.</p>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Try Clear Registration">
     <h3 class="heading settled" id="try-clear-registration-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="try-clear-registration">Try Clear Registration</dfn></span><a class="self-link" href="#try-clear-registration-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑥③">service worker registration</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p>Invoke <a data-link-type="dfn" href="#clear-registration" id="ref-for-clear-registration③">Clear Registration</a> with <var>registration</var> if no <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④⑧">service worker client</a> is <a data-link-type="dfn" href="#dfn-use" id="ref-for-dfn-use⑧">using</a> <var>registration</var> and all of the following conditions are true:</p>
       <ul>
        <li data-md>
         <p><var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker①⑨">installing worker</a> is null or the result of running <a data-link-type="dfn" href="#service-worker-has-no-pending-events" id="ref-for-service-worker-has-no-pending-events②">Service Worker Has No Pending Events</a> with <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker②⓪">installing worker</a> is true.</p>
        <li data-md>
         <p><var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⑧">waiting worker</a> is null or the result of running <a data-link-type="dfn" href="#service-worker-has-no-pending-events" id="ref-for-service-worker-has-no-pending-events③">Service Worker Has No Pending Events</a> with <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker①⑨">waiting worker</a> is true.</p>
        <li data-md>
         <p><var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤⓪">active worker</a> is null or the result of running <a data-link-type="dfn" href="#service-worker-has-no-pending-events" id="ref-for-service-worker-has-no-pending-events④">Service Worker Has No Pending Events</a> with <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤①">active worker</a> is true.</p>
       </ul>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Update Registration State">
     <h3 class="heading settled" id="update-registration-state-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-registration-state">Update Registration State</dfn></span><a class="self-link" href="#update-registration-state-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑥④">service worker registration</a></p>
      <dd data-md>
       <p><var>target</var>, a string (one of "<code>installing</code>", "<code>waiting</code>", and "<code>active</code>")</p>
      <dd data-md>
       <p><var>source</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪⑧">service worker</a> or null</p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>registrationObjects</var> be an array containing all the <code class="idl"><a data-link-type="idl" href="#serviceworkerregistration" id="ref-for-serviceworkerregistration①⑥">ServiceWorkerRegistration</a></code> objects associated with <var>registration</var>.</p>
      <li data-md>
       <p>If <var>target</var> is "<code>installing</code>", then:</p>
       <ol>
        <li data-md>
         <p>Set <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker②①">installing worker</a> to <var>source</var>.</p>
        <li data-md>
         <p>For each <var>registrationObject</var> in <var>registrationObjects</var>:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③⑦">Queue a task</a> to set the <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-installing" id="ref-for-dom-serviceworkerregistration-installing④">installing</a></code> attribute of <var>registrationObject</var> to null if <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker②②">installing worker</a> is null, or the result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object⑦">getting the service worker object</a> that represents <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker②③">installing worker</a> in <var>registrationObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②⑨">relevant settings object</a>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Else if <var>target</var> is "<code>waiting</code>", then:</p>
       <ol>
        <li data-md>
         <p>Set <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker②⓪">waiting worker</a> to <var>source</var>.</p>
        <li data-md>
         <p>For each <var>registrationObject</var> in <var>registrationObjects</var>:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③⑧">Queue a task</a> to set the <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-waiting" id="ref-for-dom-serviceworkerregistration-waiting④">waiting</a></code> attribute of <var>registrationObject</var> to null if <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker②①">waiting worker</a> is null, or the result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object⑧">getting the service worker object</a> that represents <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker②②">waiting worker</a> in <var>registrationObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③⓪">relevant settings object</a>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Else if <var>target</var> is "<code>active</code>", then:</p>
       <ol>
        <li data-md>
         <p>Set <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤②">active worker</a> to <var>source</var>.</p>
        <li data-md>
         <p>For each <var>registrationObject</var> in <var>registrationObjects</var>:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task③⑨">Queue a task</a> to set the <code class="idl"><a data-link-type="idl" href="#dom-serviceworkerregistration-active" id="ref-for-dom-serviceworkerregistration-active④">active</a></code> attribute of <var>registrationObject</var> to null if <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤③">active worker</a> is null, or the result of <a data-link-type="dfn" href="#get-the-service-worker-object" id="ref-for-get-the-service-worker-object⑨">getting the service worker object</a> that represents <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤④">active worker</a> in <var>registrationObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③①">relevant settings object</a>.</p>
         </ol>
       </ol>
       <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task⑨">task</a> <em>must</em> use <var>registrationObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③②">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①⑧">responsible event loop</a> and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②④">DOM manipulation task source</a>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Update Worker State">
     <h3 class="heading settled" id="update-state-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="update-worker-state">Update Worker State</dfn></span><a class="self-link" href="#update-state-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>worker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①⓪⑨">service worker</a></p>
      <dd data-md>
       <p><var>state</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①⓪">service worker</a> <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①⑥">state</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p class="assertion">Assert: <var>state</var> is not "<code>parsed</code>".</p>
       <p class="note" role="note"><span class="marker">Note:</span> "<code>parsed</code>" is the initial state. A <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①①">service worker</a> is never updated to this state.</p>
      <li data-md>
       <p>Set <var>worker</var>’s <a data-link-type="dfn" href="#dfn-state" id="ref-for-dfn-state①⑦">state</a> to <var>state</var>.</p>
      <li data-md>
       <p>Let <var>settingsObjects</var> be all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②③">environment settings objects</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin②⓪">origin</a> is <var>worker</var>’s <a data-link-type="dfn" href="#dfn-script-url" id="ref-for-dfn-script-url①①">script url</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑨">origin</a>.</p>
      <li data-md>
       <p>For each <var>settingsObject</var> of <var>settingsObjects</var>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④⓪">queue a task</a> on <var>settingsObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop①⑨">responsible event loop</a> in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②⑤">DOM manipulation task source</a> to run the following steps:</p>
       <ol>
        <li data-md>
         <p>Let <var>objectMap</var> be <var>settingsObject</var>’s <a data-link-type="dfn" href="#environment-settings-object-service-worker-object-map" id="ref-for-environment-settings-object-service-worker-object-map①">service worker object map</a>.</p>
        <li data-md>
         <p>If <var>objectMap</var>[<var>worker</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑥">exist</a>, then abort these steps.</p>
        <li data-md>
         <p>Let <var>workerObj</var> be <var>objectMap</var>[<var>worker</var>].</p>
        <li data-md>
         <p>Set <var>workerObj</var>’s <code class="idl"><a data-link-type="idl" href="#dom-serviceworker-state" id="ref-for-dom-serviceworker-state④">state</a></code> to <var>state</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire②">Fire an event</a> named <code class="idl"><a class="idl-code" data-link-type="event" href="#eventdef-serviceworker-statechange" id="ref-for-eventdef-serviceworker-statechange①">statechange</a></code> at <var>workerObj</var>.</p>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Notify Controller Change">
     <h3 class="heading settled" id="notify-controller-change-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="notify-controller-change">Notify Controller Change</dfn></span><a class="self-link" href="#notify-controller-change-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>client</var>, a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client④⑨">service worker client</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>None</p>
     </dl>
     <ol>
      <li data-md>
       <p class="assertion">Assert: <var>client</var> is not null.</p>
      <li data-md>
       <p>If <var>client</var> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②④">environment settings object</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④①">queue a task</a> to <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-fire" id="ref-for-concept-event-fire③">fire an event</a> named <code>controllerchange</code> at the <code class="idl"><a data-link-type="idl" href="#serviceworkercontainer" id="ref-for-serviceworkercontainer①⑥">ServiceWorkerContainer</a></code> object that <var>client</var> is <a data-link-type="dfn" href="#serviceworkercontainer-service-worker-client" id="ref-for-serviceworkercontainer-service-worker-client⑨">associated</a> with.</p>
     </ol>
     <p>The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" id="ref-for-concept-task①⓪">task</a> <em>must</em> use <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop②⓪">responsible event loop</a> and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②⑥">DOM manipulation task source</a>.</p>
    </section>
    <section class="algorithm" data-algorithm="Match Service Worker Registration">
     <h3 class="heading settled" id="scope-match-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="match-service-worker-registration">Match Service Worker Registration</dfn></span><a class="self-link" href="#scope-match-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>storage key</var>, a <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key⑧">storage key</a></p>
      <dd data-md>
       <p><var>clientURL</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①④">URL</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑥⑤">service worker registration</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Run the following steps atomically.</p>
      <li data-md>
       <p>Let <var>clientURLString</var> be <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①④">serialized</a> <var>clientURL</var>.</p>
      <li data-md>
       <p>Let <var>matchingScopeString</var> be the empty string.</p>
      <li data-md>
       <p>Let <var>scopeStringSet</var> be an empty list.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⓪">For each</a> (<var>entry storage key</var>, <var>entry scope</var>) of <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map①⓪">registration map</a>’s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑤">keys</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>storage key</var> <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal⑤">equals</a> <var>entry storage key</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑧">append</a> <var>entry scope</var> to the end of <var>scopeStringSet</var>.</p>
       </ol>
      <li data-md>
       <p>Set <var>matchingScopeString</var> to the longest value in <var>scopeStringSet</var> which the value of <var>clientURLString</var> starts with, if it exists.</p>
       <p class="note" role="note"><span class="marker">Note:</span> The URL string matching in this step is prefix-based rather than path-structural. E.g. a client URL string with "https://example.com/prefix-of/resource.html" will match a registration for a scope with "https://example.com/prefix". The URL string comparison is safe for the same-origin security as HTTP(S) URLs are always <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⑤">serialized</a> with a trailing slash at the end of the origin part of the URLs.</p>
      <li data-md>
       <p>Let <var>matchingScope</var> be null.</p>
      <li data-md>
       <p>If <var>matchingScopeString</var> is not the empty string, then:</p>
       <ol>
        <li data-md>
         <p>Set <var>matchingScope</var> to the result of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser⑧">parsing</a> <var>matchingScopeString</var>.</p>
        <li data-md>
         <p class="assertion">Assert: <var>matchingScope</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①⓪">origin</a> and <var>clientURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①①">origin</a> are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑥">same origin</a>.</p>
       </ol>
      <li data-md>
       <p>Return the result of running <a data-link-type="dfn" href="#get-registration" id="ref-for-get-registration③">Get Registration</a> given <var>storage key</var> and <var>matchingScope</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Get Registration">
     <h3 class="heading settled" id="get-registration-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-registration">Get Registration</dfn></span><a class="self-link" href="#get-registration-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>storage key</var>, a <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key" id="ref-for-storage-key⑨">storage key</a></p>
      <dd data-md>
       <p><var>scope</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⑤">URL</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>A <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑥⑥">service worker registration</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Run the following steps atomically.</p>
      <li data-md>
       <p>Let <var>scopeString</var> be the empty string.</p>
      <li data-md>
       <p>If <var>scope</var> is not null, set <var>scopeString</var> to <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer" id="ref-for-concept-url-serializer①⑥">serialized</a> <var>scope</var> with the <em>exclude fragment flag</em> set.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate⑦">For each</a> (<var>entry storage key</var>, <var>entry scope</var>) → <var>registration</var> of <a data-link-type="dfn" href="#dfn-scope-to-registration-map" id="ref-for-dfn-scope-to-registration-map①①">registration map</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>storage key</var> <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#storage-key-equal" id="ref-for-storage-key-equal⑥">equals</a> <var>entry storage key</var> and <var>scopeString</var> matches <var>entry scope</var>, then return <var>registration</var>.</p>
       </ol>
      <li data-md>
       <p>Return null.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Get Newest Worker">
     <h3 class="heading settled" id="get-newest-worker-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-newest-worker">Get Newest Worker</dfn></span><a class="self-link" href="#get-newest-worker-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>registration</var>, a <a data-link-type="dfn" href="#dfn-service-worker-registration" id="ref-for-dfn-service-worker-registration⑥⑦">service worker registration</a></p>
      <dt data-md>Output
      <dd data-md>
       <p><var>newestWorker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①②">service worker</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Run the following steps atomically.</p>
      <li data-md>
       <p>Let <var>newestWorker</var> be null.</p>
      <li data-md>
       <p>If <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker②④">installing worker</a> is not null, set <var>newestWorker</var> to <var>registration</var>’s <a data-link-type="dfn" href="#dfn-installing-worker" id="ref-for-dfn-installing-worker②⑤">installing worker</a>.</p>
      <li data-md>
       <p>Else if <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker②③">waiting worker</a> is not null, set <var>newestWorker</var> to <var>registration</var>’s <a data-link-type="dfn" href="#dfn-waiting-worker" id="ref-for-dfn-waiting-worker②④">waiting worker</a>.</p>
      <li data-md>
       <p>Else if <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤⑤">active worker</a> is not null, set <var>newestWorker</var> to <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤⑥">active worker</a>.</p>
      <li data-md>
       <p>Return <var>newestWorker</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Service Worker Has No Pending Events">
     <h3 class="heading settled" id="service-worker-has-no-pending-events-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="service-worker-has-no-pending-events">Service Worker Has No Pending Events</dfn></span><a class="self-link" href="#service-worker-has-no-pending-events-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>worker</var>, a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①③">service worker</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>True or false, a boolean</p>
     </dl>
     <ol>
      <li data-md>
       <p>For each <var>event</var> of <var>worker</var>’s <a data-link-type="dfn" href="#dfn-set-of-extended-events" id="ref-for-dfn-set-of-extended-events④">set of extended events</a>:</p>
       <ol>
        <li data-md>
         <p>If <var>event</var> is <a data-link-type="dfn" href="#extendableevent-active" id="ref-for-extendableevent-active⑤">active</a>, return false.</p>
       </ol>
      <li data-md>
       <p>Return true.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Create Client">
     <h3 class="heading settled" id="create-client-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-client">Create Client</dfn></span><a class="self-link" href="#create-client-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>client</var>, a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑤⓪">service worker client</a></p>
      <dt data-md>Output
      <dd data-md>
       <p><var>clientObject</var>, a <code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client①①">Client</a></code> object</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>clientObject</var> be a new <code class="idl"><a data-link-type="idl" href="#client" id="ref-for-client①②">Client</a></code> object.</p>
      <li data-md>
       <p>Set <var>clientObject</var>’s <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client①③">service worker client</a> to <var>client</var>.</p>
      <li data-md>
       <p>Return <var>clientObject</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Create Window Client">
     <h3 class="heading settled" id="create-windowclient-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-window-client">Create Window Client</dfn></span><a class="self-link" href="#create-windowclient-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>client</var>, a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑤①">service worker client</a></p>
      <dd data-md>
       <p><var>frameType</var>, a string</p>
      <dd data-md>
       <p><var>visibilityState</var>, a string</p>
      <dd data-md>
       <p><var>focusState</var>, a boolean</p>
      <dd data-md>
       <p><var>ancestorOriginsList</var>, a list</p>
      <dt data-md>Output
      <dd data-md>
       <p><var>windowClient</var>, a <code class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient①⓪">WindowClient</a></code> object</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>windowClient</var> be a new <code class="idl"><a data-link-type="idl" href="#windowclient" id="ref-for-windowclient①①">WindowClient</a></code> object.</p>
      <li data-md>
       <p>Set <var>windowClient</var>’s <a data-link-type="dfn" href="#dfn-service-worker-client-service-worker-client" id="ref-for-dfn-service-worker-client-service-worker-client①④">service worker client</a> to <var>client</var>.</p>
      <li data-md>
       <p>Set <var>windowClient</var>’s <a data-link-type="dfn" href="#dfn-service-worker-client-frame-type" id="ref-for-dfn-service-worker-client-frame-type①">frame type</a> to <var>frameType</var>.</p>
      <li data-md>
       <p>Set <var>windowClient</var>’s <a data-link-type="dfn" href="#dfn-service-worker-client-visibilitystate" id="ref-for-dfn-service-worker-client-visibilitystate①">visibility state</a> to <var>visibilityState</var>.</p>
      <li data-md>
       <p>Set <var>windowClient</var>’s <a data-link-type="dfn" href="#dfn-service-worker-client-focusstate" id="ref-for-dfn-service-worker-client-focusstate②">focus state</a> to <var>focusState</var>.</p>
      <li data-md>
       <p>Set <var>windowClient</var>’s <a data-link-type="dfn" href="#windowclient-ancestor-origins-array" id="ref-for-windowclient-ancestor-origins-array①">ancestor origins array</a> to a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-frozen-array-type" id="ref-for-dfn-frozen-array-type④">frozen array</a> created from <var>ancestorOriginsList</var>.</p>
      <li data-md>
       <p>Return <var>windowClient</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Get Frame Type">
     <h3 class="heading settled" id="get-frametype-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-frame-type">Get Frame Type</dfn></span><a class="self-link" href="#get-frametype-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>navigable</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable">navigable</a></p>
      <dt data-md>Output
      <dd data-md>
       <p><var>frameType</var>, a string</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent">parent</a> is not null, then return "<code>nested</code>".</p>
      <li data-md>
       <p>If <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc">active browsing context</a> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#auxiliary-browsing-context" id="ref-for-auxiliary-browsing-context">auxiliary browsing context</a>, then return "<code>auxiliary</code>".</p>
      <li data-md>
       <p>Return "<code>top-level</code>".</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Resolve Get Client Promise">
     <h3 class="heading settled" id="resolve-get-client-promise-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resolve-get-client-promise">Resolve Get Client Promise</dfn></span><a class="self-link" href="#resolve-get-client-promise-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>client</var>, a <a data-link-type="dfn" href="#dfn-service-worker-client" id="ref-for-dfn-service-worker-client⑤②">service worker client</a></p>
      <dd data-md>
       <p><var>promise</var>, a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects③③">promise</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>none</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>client</var> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②⑤">environment settings object</a>, then:</p>
       <ol>
        <li data-md>
         <p>If <var>client</var> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#secure-context" id="ref-for-secure-context⑤">secure context</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④②">queue a task</a> to reject <var>promise</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑧">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②③">DOMException</a></code>, on <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③③">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop②①">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②⑦">DOM manipulation task source</a>, and abort these steps.</p>
       </ol>
      <li data-md>
       <p>Else:</p>
       <ol>
        <li data-md>
         <p>If <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url" id="ref-for-concept-environment-creation-url⑨">creation URL</a> is not a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-url" id="ref-for-potentially-trustworthy-url①">potentially trustworthy URL</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④③">queue a task</a> to reject <var>promise</var> with a "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#securityerror" id="ref-for-securityerror⑨">SecurityError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②④">DOMException</a></code>, on <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③④">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop②②">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②⑧">DOM manipulation task source</a>, and abort these steps.</p>
       </ol>
      <li data-md>
       <p>If <var>client</var> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②⑥">environment settings object</a> and is not a <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client①③">window client</a>, then:</p>
       <ol>
        <li data-md>
         <p>Let <var>clientObject</var> be the result of running <a data-link-type="dfn" href="#create-client" id="ref-for-create-client①">Create Client</a> algorithm with <var>client</var> as the argument.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④④">Queue a task</a> to resolve <var>promise</var> with <var>clientObject</var>, on <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③⑤">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop②③">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②⑨">DOM manipulation task source</a>, and abort these steps.</p>
       </ol>
      <li data-md>
       <p>Else:</p>
       <ol>
        <li data-md>
         <p>Let <var>browsingContext</var> be null.</p>
        <li data-md>
         <p>If <var>client</var> is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object" id="ref-for-environment-settings-object②⑦">environment settings object</a>, set <var>browsingContext</var> to <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global" id="ref-for-concept-settings-object-global①①">global object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context⑦">browsing context</a>.</p>
        <li data-md>
         <p>Else, set <var>browsingContext</var> to <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context" id="ref-for-concept-environment-target-browsing-context②">target browsing context</a>.</p>
        <li data-md>
         <p>Let <var>navigable</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①">navigable</a> with a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc①">active browsing context</a> of <var>browsingContext</var>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④⑤">Queue a task</a> to run the following steps on <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop①⑦">event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source" id="ref-for-user-interaction-task-source④">user interaction task source</a>:</p>
         <ol>
          <li data-md>
           <p>Let <var>frameType</var> be the result of running <a data-link-type="dfn" href="#get-frame-type" id="ref-for-get-frame-type④">Get Frame Type</a> with <var>navigable</var>.</p>
          <li data-md>
           <p>Let <var>visibilityState</var> be <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①④">active document</a>’s <code class="idl"><a data-link-type="idl" data-refhint-key="d7e375d3" href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility" id="ref-for-page-visibility⑥">visibilityState</a></code> attribute value.</p>
          <li data-md>
           <p>Let <var>focusState</var> be the result of running the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" id="ref-for-has-focus-steps④">has focus steps</a> with <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①⑤">active document</a> as the argument.</p>
          <li data-md>
           <p>Let <var>ancestorOriginsList</var> be the empty list.</p>
          <li data-md>
           <p>If <var>client</var> is a <a data-link-type="dfn" href="#dfn-window-client" id="ref-for-dfn-window-client①④">window client</a>, set <var>ancestorOriginsList</var> to <var>browsingContext</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①⑥">active document</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑨">relevant global object</a>’s <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#location" id="ref-for-location④">Location</a></code> object’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-location-ancestor-origins-list" id="ref-for-concept-location-ancestor-origins-list④">ancestor origins list</a>’s associated list.</p>
          <li data-md>
           <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task④⑥">Queue a task</a> to run the following steps on <var>promise</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③⑥">relevant settings object</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop" id="ref-for-responsible-event-loop②④">responsible event loop</a> using the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source③⓪">DOM manipulation task source</a>:</p>
           <ol>
            <li data-md>
             <p>If <var>client</var>’s <a data-link-type="dfn" href="#service-worker-client-discarded-flag" id="ref-for-service-worker-client-discarded-flag⑤">discarded flag</a> is set, resolve <var>promise</var> with undefined and abort these steps.</p>
            <li data-md>
             <p>Let <var>windowClient</var> be the result of running <a data-link-type="dfn" href="#create-window-client" id="ref-for-create-window-client④">Create Window Client</a> with <var>client</var>, <var>frameType</var>, <var>visibilityState</var>, <var>focusState</var>, and <var>ancestorOriginsList</var>.</p>
            <li data-md>
             <p>Resolve <var>promise</var> with <var>windowClient</var>.</p>
           </ol>
         </ol>
       </ol>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Query Cache">
     <h3 class="heading settled" id="query-cache-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="query-cache">Query Cache</dfn></span><a class="self-link" href="#query-cache-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>requestQuery</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①①">request</a></p>
      <dd data-md>
       <p><var>options</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions⑦">CacheQueryOptions</a></code> object, optional</p>
      <dd data-md>
       <p><var>targetStorage</var>, a <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list⑥">request response list</a>, optional</p>
      <dt data-md>Output
      <dd data-md>
       <p><var>resultList</var>, a <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list⑦">request response list</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>resultList</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②④">list</a>.</p>
      <li data-md>
       <p>Let <var>storage</var> be null.</p>
      <li data-md>
       <p>If the optional argument <var>targetStorage</var> is omitted, set <var>storage</var> to the <a data-link-type="dfn" href="#dfn-relevant-request-response-list" id="ref-for-dfn-relevant-request-response-list②">relevant request response list</a>.</p>
      <li data-md>
       <p>Else, set <var>storage</var> to <var>targetStorage</var>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②①">For each</a> <var>requestResponse</var> of <var>storage</var>:</p>
       <ol>
        <li data-md>
         <p>Let <var>cachedRequest</var> be <var>requestResponse</var>’s request.</p>
        <li data-md>
         <p>Let <var>cachedResponse</var> be <var>requestResponse</var>’s response.</p>
        <li data-md>
         <p>If <a data-link-type="dfn" href="#request-matches-cached-item" id="ref-for-request-matches-cached-item">Request Matches Cached Item</a> with <var>requestQuery</var>, <var>cachedRequest</var>, <var>cachedResponse</var>, and <var>options</var> returns true, then:</p>
         <ol>
          <li data-md>
           <p>Let <var>requestCopy</var> be a copy of <var>cachedRequest</var>.</p>
          <li data-md>
           <p>Let <var>responseCopy</var> be a copy of <var>cachedResponse</var>.</p>
          <li data-md>
           <p>Add <var>requestCopy</var>/<var>responseCopy</var> to <var>resultList</var>.</p>
         </ol>
       </ol>
      <li data-md>
       <p>Return <var>resultList</var>.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Request Matches Cached Item">
     <h3 class="heading settled" id="request-matches-cached-item-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="request-matches-cached-item">Request Matches Cached Item</dfn></span><a class="self-link" href="#request-matches-cached-item-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>requestQuery</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①②">request</a></p>
      <dd data-md>
       <p><var>request</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①③">request</a></p>
      <dd data-md>
       <p><var>response</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①⑥">response</a> or null, optional, defaulting to null</p>
      <dd data-md>
       <p><var>options</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-cachequeryoptions" id="ref-for-dictdef-cachequeryoptions⑧">CacheQueryOptions</a></code> object, optional</p>
      <dt data-md>Output
      <dd data-md>
       <p>a boolean</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-cachequeryoptions-ignoremethod" id="ref-for-dom-cachequeryoptions-ignoremethod">ignoreMethod</a></code>"] is false and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method⑧">method</a> is not `<code>GET</code>`, return false.</p>
      <li data-md>
       <p>Let <var>queryURL</var> be <var>requestQuery</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①①">url</a>.</p>
      <li data-md>
       <p>Let <var>cachedURL</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①②">url</a>.</p>
      <li data-md>
       <p>If <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-cachequeryoptions-ignoresearch" id="ref-for-dom-cachequeryoptions-ignoresearch">ignoreSearch</a></code>"] is true, then:</p>
       <ol>
        <li data-md>
         <p>Set <var>cachedURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query">query</a> to the empty string.</p>
        <li data-md>
         <p>Set <var>queryURL</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query" id="ref-for-concept-url-query①">query</a> to the empty string.</p>
       </ol>
      <li data-md>
       <p>If <var>queryURL</var> does not <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-equals" id="ref-for-concept-url-equals②">equal</a> <var>cachedURL</var> with the <em>exclude fragment flag</em> set, then return false.</p>
      <li data-md>
       <p>If <var>response</var> is null, <var>options</var>["<code class="idl"><a data-link-type="idl" href="#dom-cachequeryoptions-ignorevary" id="ref-for-dom-cachequeryoptions-ignorevary">ignoreVary</a></code>"] is true, or <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list⑤">header list</a> does not <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#header-list-contains" id="ref-for-header-list-contains">contain</a> `<code>Vary</code>`, then return true.</p>
      <li data-md>
       <p>Let <var>fieldValues</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑤">list</a> containing the elements corresponding to the <a data-link-type="dfn" href="https://datatracker.ietf.org/doc/html/rfc7230#section-3.2" id="ref-for-section-3.2②">field-values</a> of the <a data-link-type="dfn" href="https://datatracker.ietf.org/doc/html/rfc7231#section-7.1.4" id="ref-for-section-7.1.4②">Vary</a> header for the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-value" id="ref-for-concept-header-value①">value</a> of the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header③">header</a> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-name" id="ref-for-concept-header-name③">name</a> `<code>Vary</code>`.</p>
      <li data-md>
       <p>For each <var>fieldValue</var> in <var>fieldValues</var>:</p>
       <ol>
        <li data-md>
         <p>If <var>fieldValue</var> matches "<code>*</code>", or the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-combine" id="ref-for-concept-header-list-combine">combined value</a> given <var>fieldValue</var> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list②">header list</a> does not match the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-combine" id="ref-for-concept-header-list-combine①">combined value</a> given <var>fieldValue</var> and <var>requestQuery</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list③">header list</a>, then return false.</p>
       </ol>
      <li data-md>
       <p>Return true.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Batch Cache Operations">
     <h3 class="heading settled" id="batch-cache-operations-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="batch-cache-operations">Batch Cache Operations</dfn></span><a class="self-link" href="#batch-cache-operations-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>operations</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑥">list</a> of <a data-link-type="dfn" href="#dfn-cache-batch-operation" id="ref-for-dfn-cache-batch-operation③">cache batch operation</a> objects</p>
      <dt data-md>Output
      <dd data-md>
       <p><var>resultList</var>, a <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list⑧">request response list</a></p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>cache</var> be the <a data-link-type="dfn" href="#dfn-relevant-request-response-list" id="ref-for-dfn-relevant-request-response-list③">relevant request response list</a>.</p>
      <li data-md>
       <p>Let <var>backupCache</var> be a new <a data-link-type="dfn" href="#dfn-request-response-list" id="ref-for-dfn-request-response-list⑨">request response list</a> that is a copy of <var>cache</var>.</p>
      <li data-md>
       <p>Let <var>addedItems</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑦">list</a>.</p>
      <li data-md>
       <p>Try running the following substeps atomically:</p>
       <ol>
        <li data-md>
         <p>Let <var>resultList</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑧">list</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②②">For each</a> <var>operation</var> in <var>operations</var>:</p>
         <ol>
          <li data-md>
           <p>If <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-type" id="ref-for-dfn-cache-batch-operation-type③">type</a> matches neither "<code>delete</code>" nor "<code>put</code>", <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①④">throw</a> a <code>TypeError</code>.</p>
          <li data-md>
           <p>If <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-type" id="ref-for-dfn-cache-batch-operation-type④">type</a> matches "<code>delete</code>" and <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-response" id="ref-for-dfn-cache-batch-operation-response②">response</a> is not null, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑤">throw</a> a <code>TypeError</code>.</p>
          <li data-md>
           <p>If the result of running <a data-link-type="dfn" href="#query-cache" id="ref-for-query-cache③">Query Cache</a> with <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request③">request</a>, <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-options" id="ref-for-dfn-cache-batch-operation-options①">options</a>, and <var>addedItems</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty④">is not empty</a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑥">throw</a> an "<code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#invalidstateerror" id="ref-for-invalidstateerror①⓪">InvalidStateError</a></code>" <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②⑤">DOMException</a></code>.</p>
          <li data-md>
           <p>Let <var>requestResponses</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②⑨">list</a>.</p>
          <li data-md>
           <p>If <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-type" id="ref-for-dfn-cache-batch-operation-type⑤">type</a> matches "<code>delete</code>", then:</p>
           <ol>
            <li data-md>
             <p>Set <var>requestResponses</var> to the result of running <a data-link-type="dfn" href="#query-cache" id="ref-for-query-cache④">Query Cache</a> with <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request④">request</a> and <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-options" id="ref-for-dfn-cache-batch-operation-options②">options</a>.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②③">For each</a> <var>requestResponse</var> in <var>requestResponses</var>:</p>
             <ol>
              <li data-md>
               <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove②">Remove</a> the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①①">item</a> whose value matches <var>requestResponse</var> from <var>cache</var>.</p>
             </ol>
           </ol>
          <li data-md>
           <p>Else if <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-type" id="ref-for-dfn-cache-batch-operation-type⑥">type</a> matches "<code>put</code>", then:</p>
           <ol>
            <li data-md>
             <p>If <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-response" id="ref-for-dfn-cache-batch-operation-response③">response</a> is null, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑦">throw</a> a <code>TypeError</code>.</p>
            <li data-md>
             <p>Let <var>r</var> be <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request⑤">request</a>’s associated <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-request" id="ref-for-concept-request-request①⓪">request</a>.</p>
            <li data-md>
             <p>If <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①③">url</a>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme⑤">scheme</a> is not one of "<code>http</code>" and "<code>https</code>", <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑧">throw</a> a <code>TypeError</code>.</p>
            <li data-md>
             <p>If <var>r</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method⑨">method</a> is not `<code>GET</code>`, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①⑨">throw</a> a <code>TypeError</code>.</p>
            <li data-md>
             <p>If <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-options" id="ref-for-dfn-cache-batch-operation-options③">options</a> is not null, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②⓪">throw</a> a <code>TypeError</code>.</p>
            <li data-md>
             <p>Set <var>requestResponses</var> to the result of running <a data-link-type="dfn" href="#query-cache" id="ref-for-query-cache⑤">Query Cache</a> with <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request⑥">request</a>.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②④">For each</a> <var>requestResponse</var> of <var>requestResponses</var>:</p>
             <ol>
              <li data-md>
               <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove③">Remove</a> the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①②">item</a> whose value matches <var>requestResponse</var> from <var>cache</var>.</p>
             </ol>
            <li data-md>
             <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append⑨">Append</a> <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request⑦">request</a>/<var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-response" id="ref-for-dfn-cache-batch-operation-response④">response</a> to <var>cache</var>.</p>
            <li data-md>
             <p>If the cache write operation in the previous two steps failed due to exceeding the granted quota limit, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#quotaexceedederror" id="ref-for-quotaexceedederror①">QuotaExceededError</a></code>.</p>
            <li data-md>
             <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①⓪">Append</a> <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request⑧">request</a>/<var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-response" id="ref-for-dfn-cache-batch-operation-response⑤">response</a> to <var>addedItems</var>.</p>
           </ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①①">Append</a> <var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-request" id="ref-for-dfn-cache-batch-operation-request⑨">request</a>/<var>operation</var>’s <a data-link-type="dfn" href="#dfn-cache-batch-operation-response" id="ref-for-dfn-cache-batch-operation-response⑥">response</a> to <var>resultList</var>.</p>
         </ol>
        <li data-md>
         <p>Return <var>resultList</var>.</p>
       </ol>
      <li data-md>
       <p>And then, if an exception was <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②②">thrown</a>, then:</p>
       <ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove④">Remove</a> all the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item①③">items</a> from the <a data-link-type="dfn" href="#dfn-relevant-request-response-list" id="ref-for-dfn-relevant-request-response-list④">relevant request response list</a>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑤">For each</a> <var>requestResponse</var> of <var>backupCache</var>:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①②">Append</a> <var>requestResponse</var> to the <a data-link-type="dfn" href="#dfn-relevant-request-response-list" id="ref-for-dfn-relevant-request-response-list⑤">relevant request response list</a>.</p>
         </ol>
        <li data-md>
         <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②③">Throw</a> the exception.</p>
       </ol>
       <p class="note" role="note"><span class="marker">Note:</span> When an exception is <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②④">thrown</a>, the implementation does undo (roll back) any changes made to the cache storage during the batch operation job.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Is Async Module">
     <h3 class="heading settled" id="is-async-module-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="is-async-module">Is Async Module</dfn></span><a class="self-link" href="#is-async-module-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>record</var>, a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-abstract-module-records" id="ref-for-sec-abstract-module-records">Module Record</a></p>
      <dd data-md>
       <p><var>moduleMap</var>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#module-map" id="ref-for-module-map">module map</a></p>
      <dd data-md>
       <p><var>base</var>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⑥">URL</a></p>
      <dd data-md>
       <p><var>seen</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set⑦">set</a> of <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⑦">URLs</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>a boolean</p>
     </dl>
     <ol>
      <li data-md>
       <p>If <var>record</var> is not a <a data-link-type="dfn" href="https://tc39.es/ecma262/#sec-cyclic-module-records" id="ref-for-sec-cyclic-module-records">Cyclic Module Record</a>, then:</p>
       <ol>
        <li data-md>
         <p>Return false.</p>
       </ol>
      <li data-md>
       <p>If <var>record</var>.[[Async]] is true, then:</p>
       <ol>
        <li data-md>
         <p>Return true.</p>
       </ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②⑥">For each</a> string <var>requested</var> of <var>record</var>.[[RequestedModules]]:</p>
       <ol>
        <li data-md>
         <p>Let <var>url</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier" id="ref-for-resolve-a-module-specifier">resolving a module specifier</a> given <var>base</var> and <var>requested</var>.</p>
        <li data-md>
         <p class="assertion">Assert: <var>url</var> is never failure, because <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier" id="ref-for-resolve-a-module-specifier①">resolving a module specifier</a> must have been previously successful with these same two arguments.</p>
        <li data-md>
         <p>If <var>seen</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain⑤">contain</a> <var>url</var>, then:</p>
         <ol>
          <li data-md>
           <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append④">Append</a> <var>url</var> to <var>seen</var>.</p>
          <li data-md>
           <p>If <var>moduleMap</var>[<var>url</var>] does not have a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record" id="ref-for-concept-script-record①">record</a>, then:</p>
           <ol>
            <li data-md>
             <p>Return false.</p>
           </ol>
          <li data-md>
           <p>If <a data-link-type="dfn" href="#is-async-module" id="ref-for-is-async-module①">Is Async Module</a> for <var>moduleMap</var>[<var>url</var>]'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record" id="ref-for-concept-script-record②">record</a>, <var>moduleMap</var>, <var>base</var>, and <var>seen</var> is true, then:</p>
           <ol>
            <li data-md>
             <p>Return true.</p>
           </ol>
         </ol>
       </ol>
      <li data-md>
       <p>Return false.</p>
     </ol>
    </section>
    <section class="algorithm" data-algorithm="Lookup Race Response">
     <h3 class="heading settled" id="lookup-race-response-algorithm"><span class="content"><dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="lookup-race-response">Lookup Race Response</dfn></span><a class="self-link" href="#lookup-race-response-algorithm"></a></h3>
     <dl>
      <dt data-md>Input
      <dd data-md>
       <p><var>request</var>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①④">request</a></p>
      <dt data-md>Output
      <dd data-md>
       <p>a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①⑦">response</a> or null</p>
     </dl>
     <ol>
      <li data-md>
       <p>Let <var>registration</var> be null.</p>
      <li data-md>
       <p>If <var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#non-subresource-request" id="ref-for-non-subresource-request④">non-subresource request</a>, then:</p>
       <ol>
        <li data-md>
         <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client②">reserved client</a> is null, return null.</p>
        <li data-md>
         <p>Let <var>storage key</var> be the result of running <a data-link-type="dfn" href="https://storage.spec.whatwg.org/#obtain-a-storage-key" id="ref-for-obtain-a-storage-key①①">obtain a storage key</a> given <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-reserved-client" id="ref-for-concept-request-reserved-client③">reserved client</a>.</p>
        <li data-md>
         <p>Set <var>registration</var> to the result of running <a data-link-type="dfn" href="#match-service-worker-registration" id="ref-for-match-service-worker-registration⑧">Match Service Worker Registration</a> given <var>storage key</var> and <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url①④">url</a>.</p>
       </ol>
      <li data-md>
       <p>Else if <var>request</var> is a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#subresource-request" id="ref-for-subresource-request③">subresource request</a>, then:</p>
       <ol>
        <li data-md>
         <p>Let <var>client</var> be <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client⑤">client</a>.</p>
        <li data-md>
         <p>If <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker③⓪">active service worker</a> is null, return null.</p>
        <li data-md>
         <p>Set <var>registration</var> to <var>client</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker" id="ref-for-concept-environment-active-service-worker③①">active service worker</a>’s <a data-link-type="dfn" href="#dfn-containing-service-worker-registration" id="ref-for-dfn-containing-service-worker-registration②⓪">containing service worker registration</a>.</p>
       </ol>
      <li data-md>
       <p>Otherwise, return null.</p>
      <li data-md>
       <p>Let <var>activeWorker</var> be <var>registration</var>’s <a data-link-type="dfn" href="#dfn-active-worker" id="ref-for-dfn-active-worker⑤⑦">active worker</a>.</p>
      <li data-md>
       <p>Let <var>map</var> be <var>activeWorker</var>’s <a data-link-type="dfn" href="#dfn-service-worker-global-object" id="ref-for-dfn-service-worker-global-object②⓪">global object</a>’s <a data-link-type="dfn" href="#serviceworkerglobalscope-race-response-map" id="ref-for-serviceworkerglobalscope-race-response-map③">race response map</a>.</p>
      <li data-md>
       <p>If <var>map</var>[<var>request</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②⑦">exists</a>, then:</p>
       <ol>
        <li data-md>
         <p>Let <var>entry</var> be <var>map</var>[<var>request</var>].</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove⑦">Remove</a> <var>map</var>[<var>request</var>].</p>
        <li data-md>
         <p>Wait until <var>entry</var>’s <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value①①">value</a> is not "<code>pending</code>"</p>
        <li data-md>
         <p>If <var>entry</var>’s <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value①②">value</a> is <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①⑧">response</a>, return <var>entry</var>’s <a data-link-type="dfn" href="#race-response-value" id="ref-for-race-response-value①③">value</a>.</p>
       </ol>
      <li data-md>
       <p>Return null.</p>
     </ol>
    </section>
   </section>
   <section>
    <h2 class="heading settled" id="extended-http-headers"><span class="content">Appendix B: Extended HTTP headers</span><a class="self-link" href="#extended-http-headers"></a></h2>
    <section>
     <h3 class="heading settled" id="service-worker-script-request"><span class="content">Service Worker Script Request</span><a class="self-link" href="#service-worker-script-request"></a></h3>
     <p>An HTTP request to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①⑦">fetch</a> a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①④">service worker</a>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource⑧">script resource</a> will include the following <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header④">header</a>:</p>
     <dl>
      <dt data-md>`<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="service-worker"><code>Service-Worker</code></dfn>`
      <dd data-md>
       <p>Indicates this request is a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①⑤">service worker</a>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource⑨">script resource</a> request.</p>
       <p class="note" role="note"><span class="marker">Note:</span> This header helps administrators log the requests and detect threats.</p>
     </dl>
    </section>
    <section>
     <h3 class="heading settled" id="service-worker-script-response"><span class="content">Service Worker Script Response</span><a class="self-link" href="#service-worker-script-response"></a></h3>
     <p>An HTTP response to a <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①⑥">service worker</a>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource①⓪">script resource</a> request can include the following <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header⑤">header</a>:</p>
     <dl>
      <dt data-md>`<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="service-worker-allowed"><code>Service-Worker-Allowed</code></dfn>`
      <dd data-md>
       <p>Indicates the user agent will override the path restriction, which limits the maximum allowed <a data-link-type="dfn" href="#dfn-scope-url" id="ref-for-dfn-scope-url①⑨">scope url</a> that the script can <a data-link-type="dfn" href="#dfn-control" id="ref-for-dfn-control③">control</a>, to the given value.</p>
       <p class="note" role="note"><span class="marker">Note:</span> The value is a URL. If a relative URL is given, it is parsed against the script’s URL.</p>
     </dl>
     <div class="example" id="example-3c0435b3">
      <a class="self-link" href="#example-3c0435b3"></a>
      Default scope:

      
<pre class="highlight"><c- c1>// Maximum allowed scope defaults to the path the script sits in</c->
<c- c1>// "/js/" in this example</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/js/sw.js"</c-><c- p>).</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- u>"Install succeeded with the default scope '/js/'."</c-><c- p>);</c->
<c- p>});</c->
</pre>
     </div>
     <div class="example" id="example-7c01199a">
      <a class="self-link" href="#example-7c01199a"></a>
      Upper path without Service-Worker-Allowed header:

      
<pre class="highlight"><c- c1>// Set the scope to an upper path of the script location</c->
<c- c1>// Response has no Service-Worker-Allowed header</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/js/sw.js"</c-><c- p>,</c-> <c- p>{</c-> scope<c- o>:</c-> <c- u>"/"</c-> <c- p>}).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- u>"Install failed due to the path restriction violation."</c-><c- p>);</c->
<c- p>});</c->
</pre>
     </div>
     <div class="example" id="example-4ac10046">
      <a class="self-link" href="#example-4ac10046"></a>
      Upper path with Service-Worker-Allowed header:

      
<pre class="highlight"><c- c1>// Set the scope to an upper path of the script location</c->
<c- c1>// Response included "Service-Worker-Allowed : /"</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/js/sw.js"</c-><c- p>,</c-> <c- p>{</c-> scope<c- o>:</c-> <c- u>"/"</c-> <c- p>}).</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->log<c- p>(</c-><c- u>"Install succeeded as the max allowed scope was overriden to '/'."</c-><c- p>);</c->
<c- p>});</c->
</pre>
     </div>
     <div class="example" id="example-e39a8279">
      <a class="self-link" href="#example-e39a8279"></a>
      A path restriction voliation even with Service-Worker-Allowed header:

      
<pre class="highlight"><c- c1>// Set the scope to an upper path of the script location</c->
<c- c1>// Response included "Service-Worker-Allowed : /foo"</c->
navigator<c- p>.</c->serviceWorker<c- p>.</c->register<c- p>(</c-><c- u>"/foo/bar/sw.js"</c-><c- p>,</c-> <c- p>{</c-> scope<c- o>:</c-> <c- u>"/"</c-> <c- p>}).</c-><c- k>catch</c-><c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
  console<c- p>.</c->error<c- p>(</c-><c- u>"Install failed as the scope is still out of the overriden maximum allowed scope."</c-><c- p>);</c->
<c- p>});</c->
</pre>
     </div>
    </section>
    <section>
     <h3 class="heading settled" id="syntax"><span class="content">Syntax</span><a class="self-link" href="#syntax"></a></h3>
     <p><a data-link-type="biblio" href="#biblio-rfc5234" title="Augmented BNF for Syntax Specifications: ABNF">ABNF</a> for the values of the headers used by the <a data-link-type="dfn" href="#dfn-service-worker" id="ref-for-dfn-service-worker①①⑦">service worker</a>’s <a data-link-type="dfn" href="#dfn-script-resource" id="ref-for-dfn-script-resource①①">script resource</a> requests and responses:</p>
<pre>Service-Worker = %x73.63.72.69.70.74 ; "script", case-sensitive
</pre>
     <p class="note" role="note"><span class="marker">Note:</span> The validation of the Service-Worker-Allowed header’s values is done by URL parsing algorithm (in Update algorithm) instead of using ABNF.</p>
    </section>
   </section>
   <section>
    <h2 class="heading settled" data-level="8" id="acknowledgements"><span class="secno">8. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
    <p>Deep thanks go to Andrew Betts for organizing and hosting a small workshop of like-minded individuals including: Jake Archibald, Jackson Gabbard, Tobie Langel, Robin Berjon, Patrick Lauke, Christian Heilmann. From the clarity of the day’s discussions and the use-cases outlined there, much has become possible. Further thanks to Andrew for raising consciousness about the offline problem. His organization of EdgeConf and inclusion of Offline as a persistent topic there has created many opportunities and connections that have enabled this work to progress.</p>
    <p>Anne van Kesteren has generously lent his encyclopedic knowledge of Web Platform arcana and standards development experience throughout the development of the service worker. This specification would be incomplete without his previous work in describing the real-world behavior of URLs, HTTP Fetch, Promises, and DOM. Similarly, this specification would not be possible without Ian Hickson’s rigorous Web Worker spec. Much thanks to him.</p>
    <p>In no particular order, deep gratitude for design guidance and discussion goes to: Jungkee Song, Alec Flett, David Barrett-Kahn, Aaron Boodman, Michael Nordman, Tom Ashworth, Kinuko Yasuda, Darin Fisher, Jonas Sicking, Jesús Leganés Combarro, Mark Christian, Dave Hermann, Yehuda Katz, François Remy, Ilya Grigorik, Will Chan, Domenic Denicola, Nikhil Marathe, Yves Lafon, Adam Barth, Greg Simon, Devdatta Akhawe, Dominic Cooney, Jeffrey Yasskin, Joshua Bell, Boris Zbarsky, Matt Falkenhagen, Tobie Langel, Gavin Peters, Ben Kelly, Hiroki Nakagawa, Jake Archibald, Josh Soref, Jinho Bang, Yutaka Hirano, Michael(tm) Smith, isonmad, Ali Alabbas, Philip Jägenstedt, Mike Pennisi, and Eric Willigers.</p>
    <p>Jason Weber, Chris Wilson, Paul Kinlan, Ehsan Akhgari, and Daniel Austin have provided valuable, well-timed feedback on requirements and the standardization process.</p>
    <p>The authors would also like to thank Dimitri Glazkov for his scripts and formatting tools which have been essential in the production of this specification. The authors are also grateful for his considerable guidance.</p>
    <p>Thanks also to Vivian Cromwell, Greg Simon, Alex Komoroske, Wonsuk Lee, and Seojin Kim for their considerable professional support.</p>
   </section>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification.

    </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a>

    </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this:

    </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a>
        
    <p>This is an example of an informative example.
    </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this:

    </p>
   <p class="note" role="note">Note, this is an informative note.</p>
   <section>
    <h3 class="no-ref no-num heading settled" id="w3c-conformant-algorithms"><span class="content">Conformant Algorithms</span><a class="self-link" href="#w3c-conformant-algorithms"></a></h3>
    <p>Requirements phrased in the imperative as part of algorithms
    (such as "strip any leading space characters"
    or "return false and abort these steps")
    are to be interpreted with the meaning of the key word
    ("must", "should", "may", etc)
    used in introducing the algorithm.

    </p>
    <p>Conformance requirements phrased as algorithms or specific steps
    can be implemented in any manner,
    so long as the end result is equivalent.
    In particular, the algorithms defined in this specification
    are intended to be easy to understand
    and are not intended to be performant.
    Implementers are encouraged to optimize.
</p>
   </section>
  </div>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#activate">Activate</a><span>, in § Unnumbered section</span>
   <li><a href="#service-worker-global-scope-activate-event">activate</a><span>, in § 4.8</span>
   <li><a href="#dom-serviceworkerstate-activated">"activated"</a><span>, in § 3.1</span>
   <li><a href="#dom-serviceworkerstate-activating">"activating"</a><span>, in § 3.1</span>
   <li>
    active
    <ul>
     <li><a href="#dom-serviceworkerregistration-active">attribute for ServiceWorkerRegistration</a><span>, in § 3.2.4</span>
     <li><a href="#extendableevent-active">dfn for ExtendableEvent</a><span>, in § 4.4</span>
    </ul>
   <li><a href="#dfn-active-worker">active worker</a><span>, in § 2.3</span>
   <li><a href="#dom-cache-addall">addAll(requests)</a><span>, in § 5.4.4</span>
   <li><a href="#extendableevent-add-lifetime-promise">add lifetime promise</a><span>, in § 4.4</span>
   <li><a href="#dom-cache-add">add(request)</a><span>, in § 5.4.3</span>
   <li><a href="#dom-installevent-addroutes">addRoutes(rules)</a><span>, in § 4.5.1</span>
   <li>
    "all"
    <ul>
     <li><a href="#dom-clienttype-all">enum-value for ClientType</a><span>, in § 4.3</span>
     <li><a href="#dom-serviceworkerupdateviacache-all">enum-value for ServiceWorkerUpdateViaCache</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#all-fetch-listeners-are-empty">All Fetch Listeners Are Empty</a><span>, in § Unnumbered section</span>
   <li><a href="#service-worker-all-fetch-listeners-are-empty-flag">all fetch listeners are empty flag</a><span>, in § 2.1</span>
   <li><a href="#dom-windowclient-ancestororigins">ancestorOrigins</a><span>, in § 4.2.9</span>
   <li><a href="#windowclient-ancestor-origins-array">ancestor origins array</a><span>, in § 4.2</span>
   <li><a href="#dom-frametype-auxiliary">"auxiliary"</a><span>, in § 4.2</span>
   <li><a href="#dfn-bad-import-script-response">bad import script response</a><span>, in § Unnumbered section</span>
   <li><a href="#batch-cache-operations">Batch Cache Operations</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-service-worker-client-browsing-context">browsing context</a><span>, in § 4.2</span>
   <li><a href="#dom-routersourceenum-cache">"cache"</a><span>, in § 4.5</span>
   <li><a href="#cache">Cache</a><span>, in § 5.4</span>
   <li><a href="#dfn-cache-batch-operation">cache batch operation</a><span>, in § 5.4</span>
   <li>
    cacheName
    <ul>
     <li><a href="#dom-multicachequeryoptions-cachename">dict-member for MultiCacheQueryOptions</a><span>, in § 5.5</span>
     <li><a href="#dom-routersourcedict-cachename">dict-member for RouterSourceDict</a><span>, in § 4.5</span>
    </ul>
   <li><a href="#dictdef-cachequeryoptions">CacheQueryOptions</a><span>, in § 5.4</span>
   <li><a href="#global-caches-attribute">caches</a><span>, in § 5.3.1</span>
   <li><a href="#cachestorage">CacheStorage</a><span>, in § 5.5</span>
   <li><a href="#check-router-registration-limit">Check Router Registration Limit</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-clients-claim">claim()</a><span>, in § 4.3.4</span>
   <li><a href="#dfn-classic-scripts-imported-flag">classic scripts imported flag</a><span>, in § 2.1</span>
   <li><a href="#clear-registration">Clear Registration</a><span>, in § Unnumbered section</span>
   <li><a href="#client">Client</a><span>, in § 4.2</span>
   <li><a href="#dfn-job-client">client</a><span>, in § Unnumbered section</span>
   <li>
    clientId
    <ul>
     <li><a href="#dom-fetchevent-clientid">attribute for FetchEvent</a><span>, in § 4.6.3</span>
     <li><a href="#dom-fetcheventinit-clientid">dict-member for FetchEventInit</a><span>, in § 4.6</span>
    </ul>
   <li><a href="#dfn-client-message-queue">client message queue</a><span>, in § 3.4</span>
   <li><a href="#dictdef-clientqueryoptions">ClientQueryOptions</a><span>, in § 4.3</span>
   <li><a href="#clients">Clients</a><span>, in § 4.3</span>
   <li><a href="#dom-serviceworkerglobalscope-clients">clients</a><span>, in § 4.1.1</span>
   <li><a href="#enumdef-clienttype">ClientType</a><span>, in § 4.3</span>
   <li><a href="#dom-routerrule-condition">condition</a><span>, in § 4.5</span>
   <li><a href="#dfn-count-router-condition-result-condition-count">condition count</a><span>, in § 4.5</span>
   <li>
    constructor(type)
    <ul>
     <li><a href="#dom-extendableevent-extendableevent">constructor for ExtendableEvent</a><span>, in § 4.4</span>
     <li><a href="#dom-extendablemessageevent-extendablemessageevent">constructor for ExtendableMessageEvent</a><span>, in § 4.7</span>
     <li><a href="#dom-installevent-installevent">constructor for InstallEvent</a><span>, in § 4.5</span>
    </ul>
   <li>
    constructor(type, eventInitDict)
    <ul>
     <li><a href="#dom-extendableevent-extendableevent">constructor for ExtendableEvent</a><span>, in § 4.4</span>
     <li><a href="#dom-extendablemessageevent-extendablemessageevent">constructor for ExtendableMessageEvent</a><span>, in § 4.7</span>
     <li><a href="#dom-fetchevent-fetchevent">constructor for FetchEvent</a><span>, in § 4.6</span>
     <li><a href="#dom-installevent-installevent">constructor for InstallEvent</a><span>, in § 4.5</span>
    </ul>
   <li><a href="#dfn-containing-job-queue">containing job queue</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-containing-service-worker-registration">containing service worker registration</a><span>, in § 2.1</span>
   <li><a href="#dfn-control">controlled</a><span>, in § 2.5</span>
   <li><a href="#dom-serviceworkercontainer-controller">controller</a><span>, in § 3.4.1</span>
   <li><a href="#service-worker-container-controllerchange-event">controllerchange</a><span>, in § 3.5</span>
   <li><a href="#dfn-control">controlling</a><span>, in § 2.5</span>
   <li><a href="#dfn-control">controls</a><span>, in § 2.5</span>
   <li><a href="#dfn-count-router-condition-result">count router condition result</a><span>, in § 4.5</span>
   <li><a href="#count-router-inner-conditions">Count Router Inner Conditions</a><span>, in § Unnumbered section</span>
   <li><a href="#create-client">Create Client</a><span>, in § Unnumbered section</span>
   <li><a href="#create-fetch-event-and-dispatch">Create Fetch Event and Dispatch</a><span>, in § Unnumbered section</span>
   <li><a href="#create-job">Create Job</a><span>, in § Unnumbered section</span>
   <li><a href="#create-window-client">Create Window Client</a><span>, in § Unnumbered section</span>
   <li>
    data
    <ul>
     <li><a href="#dom-extendablemessageevent-data">attribute for ExtendableMessageEvent</a><span>, in § 4.7.1</span>
     <li><a href="#dom-extendablemessageeventinit-data">dict-member for ExtendableMessageEventInit</a><span>, in § 4.7</span>
    </ul>
   <li><a href="#dfn-dedicatedworker-client">dedicated worker client</a><span>, in § 2.4</span>
   <li><a href="#dom-cachestorage-delete">delete(cacheName)</a><span>, in § 5.5.4</span>
   <li><a href="#dom-cache-delete">delete(request)</a><span>, in § 5.4.6</span>
   <li><a href="#dom-cache-delete">delete(request, options)</a><span>, in § 5.4.6</span>
   <li><a href="#dom-navigationpreloadmanager-disable">disable()</a><span>, in § 3.6.2</span>
   <li><a href="#service-worker-client-discarded-flag">discarded flag</a><span>, in § 2.4</span>
   <li><a href="#dom-navigationpreloadmanager-enable">enable()</a><span>, in § 3.6.1</span>
   <li><a href="#dom-navigationpreloadstate-enabled">enabled</a><span>, in § 3.6</span>
   <li><a href="#dfn-job-equivalent">equivalent</a><span>, in § Unnumbered section</span>
   <li><a href="#extendableevent">ExtendableEvent</a><span>, in § 4.4</span>
   <li><a href="#dictdef-extendableeventinit">ExtendableEventInit</a><span>, in § 4.4</span>
   <li><a href="#dom-extendableevent-extendableevent">ExtendableEvent(type)</a><span>, in § 4.4</span>
   <li><a href="#dom-extendableevent-extendableevent">ExtendableEvent(type, eventInitDict)</a><span>, in § 4.4</span>
   <li><a href="#extendablemessageevent">ExtendableMessageEvent</a><span>, in § 4.7</span>
   <li><a href="#dictdef-extendablemessageeventinit">ExtendableMessageEventInit</a><span>, in § 4.7</span>
   <li><a href="#dom-extendablemessageevent-extendablemessageevent">ExtendableMessageEvent(type)</a><span>, in § 4.7</span>
   <li><a href="#dom-extendablemessageevent-extendablemessageevent">ExtendableMessageEvent(type, eventInitDict)</a><span>, in § 4.7</span>
   <li><a href="#extendableevent-extend-lifetime-promises">extend lifetime promises</a><span>, in § 4.4</span>
   <li><a href="#service-worker-global-scope-fetch-event">fetch</a><span>, in § 4.8</span>
   <li><a href="#dom-routersourceenum-fetch-event">"fetch-event"</a><span>, in § 4.5</span>
   <li><a href="#fetchevent">FetchEvent</a><span>, in § 4.6</span>
   <li><a href="#service-worker-timing-info-fetch-event-dispatch-time">fetch event dispatch time</a><span>, in § 2.2</span>
   <li><a href="#dictdef-fetcheventinit">FetchEventInit</a><span>, in § 4.6</span>
   <li><a href="#dom-fetchevent-fetchevent">FetchEvent(type, eventInitDict)</a><span>, in § 4.6</span>
   <li><a href="#finish-job">Finish Job</a><span>, in § Unnumbered section</span>
   <li><a href="#fire-functional-event">Fire a functional event</a><span>, in § Unnumbered section</span>
   <li><a href="#fire-functional-event">Fire Functional Event</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-windowclient-focus">focus()</a><span>, in § 4.2.10</span>
   <li><a href="#dom-windowclient-focused">focused</a><span>, in § 4.2.8</span>
   <li><a href="#dfn-service-worker-client-focusstate">focus state</a><span>, in § 4.2</span>
   <li><a href="#dfn-job-force-bypass-cache-flag">force bypass cache flag</a><span>, in § Unnumbered section</span>
   <li><a href="#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag">force bypass cache for import scripts flag</a><span>, in § 4.1</span>
   <li><a href="#dfn-service-worker-client-frame-type">frame type</a><span>, in § 4.2</span>
   <li><a href="#enumdef-frametype">FrameType</a><span>, in § 4.2</span>
   <li><a href="#dom-client-frametype">frameType</a><span>, in § 4.2.2</span>
   <li><a href="#dfn-functional-events">Functional events</a><span>, in § 2.1.2</span>
   <li><a href="#get-frame-type">Get Frame Type</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-clients-get">get(id)</a><span>, in § 4.3.1</span>
   <li><a href="#get-newest-worker">Get Newest Worker</a><span>, in § Unnumbered section</span>
   <li><a href="#get-registration">Get Registration</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-serviceworkercontainer-getregistration">getRegistration()</a><span>, in § 3.4.4</span>
   <li><a href="#dom-serviceworkercontainer-getregistration">getRegistration(clientURL)</a><span>, in § 3.4.4</span>
   <li><a href="#dom-serviceworkercontainer-getregistrations">getRegistrations()</a><span>, in § 3.4.5</span>
   <li><a href="#get-router-source">Get Router Source</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-navigationpreloadmanager-getstate">getState()</a><span>, in § 3.6.4</span>
   <li><a href="#get-the-service-worker-object">get the service worker object</a><span>, in § 3.1.1</span>
   <li><a href="#get-the-service-worker-registration-object">get the service worker registration object</a><span>, in § 3.2.1</span>
   <li><a href="#get-the-service-worker-object">getting the service worker object</a><span>, in § 3.1.1</span>
   <li><a href="#get-the-service-worker-registration-object">getting the service worker registration object</a><span>, in § 3.2.1</span>
   <li>
    global object
    <ul>
     <li><a href="#cachestorage-global-object">dfn for CacheStorage</a><span>, in § 5.5</span>
     <li><a href="#dfn-service-worker-global-object">dfn for service worker</a><span>, in § 2.1</span>
    </ul>
   <li>
    handled
    <ul>
     <li><a href="#dom-fetchevent-handled">attribute for FetchEvent</a><span>, in § 4.6.6</span>
     <li><a href="#dom-fetcheventinit-handled">dict-member for FetchEventInit</a><span>, in § 4.6</span>
    </ul>
   <li><a href="#handle-fetch">Handle Fetch</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-handle-fetch-task-source">handle fetch task source</a><span>, in § 2.6</span>
   <li><a href="#dfn-handle-functional-event-task-source">handle functional event task source</a><span>, in § 2.6</span>
   <li><a href="#handle-service-worker-client-unload">Handle Service Worker Client Unload</a><span>, in § Unnumbered section</span>
   <li><a href="#handle-user-agent-shutdown">Handle User Agent Shutdown</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-cachestorage-has">has(cacheName)</a><span>, in § 5.5.2</span>
   <li><a href="#dfn-has-ever-been-evaluated-flag">has ever been evaluated flag</a><span>, in § 2.1</span>
   <li><a href="#dom-navigationpreloadstate-headervalue">headerValue</a><span>, in § 3.6</span>
   <li><a href="#dom-client-id">id</a><span>, in § 4.2.3</span>
   <li><a href="#dom-cachequeryoptions-ignoremethod">ignoreMethod</a><span>, in § 5.4</span>
   <li><a href="#dom-cachequeryoptions-ignoresearch">ignoreSearch</a><span>, in § 5.4</span>
   <li><a href="#dom-cachequeryoptions-ignorevary">ignoreVary</a><span>, in § 5.4</span>
   <li><a href="#dom-serviceworkerupdateviacache-imports">"imports"</a><span>, in § 3.2</span>
   <li><a href="#importscripts-method">importScripts(urls)</a><span>, in § 6.3.2</span>
   <li><a href="#dom-clientqueryoptions-includeuncontrolled">includeUncontrolled</a><span>, in § 4.3</span>
   <li><a href="#install">Install</a><span>, in § Unnumbered section</span>
   <li><a href="#service-worker-global-scope-install-event">install</a><span>, in § 4.8</span>
   <li><a href="#dom-serviceworkerstate-installed">"installed"</a><span>, in § 3.1</span>
   <li><a href="#installevent">InstallEvent</a><span>, in § 4.5</span>
   <li><a href="#dom-installevent-installevent">InstallEvent(type)</a><span>, in § 4.5</span>
   <li><a href="#dom-installevent-installevent">InstallEvent(type, eventInitDict)</a><span>, in § 4.5</span>
   <li><a href="#dom-serviceworkerstate-installing">"installing"</a><span>, in § 3.1</span>
   <li><a href="#dom-serviceworkerregistration-installing">installing</a><span>, in § 3.2.2</span>
   <li><a href="#dfn-installing-worker">installing worker</a><span>, in § 2.3</span>
   <li><a href="#is-async-module">Is Async Module</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-job">job</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-job-promise">job promise</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-job-queue">job queue</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-job-type">job type</a><span>, in § Unnumbered section</span>
   <li>
    keys()
    <ul>
     <li><a href="#dom-cache-keys">method for Cache</a><span>, in § 5.4.7</span>
     <li><a href="#dom-cachestorage-keys">method for CacheStorage</a><span>, in § 5.5.5</span>
    </ul>
   <li><a href="#dom-cache-keys">keys(request)</a><span>, in § 5.4.7</span>
   <li><a href="#dom-cache-keys">keys(request, options)</a><span>, in § 5.4.7</span>
   <li>
    lastEventId
    <ul>
     <li><a href="#dom-extendablemessageevent-lasteventid">attribute for ExtendableMessageEvent</a><span>, in § 4.7.3</span>
     <li><a href="#dom-extendablemessageeventinit-lasteventid">dict-member for ExtendableMessageEventInit</a><span>, in § 4.7</span>
    </ul>
   <li><a href="#dfn-last-update-check-time">last update check time</a><span>, in § 2.3</span>
   <li><a href="#dfn-lifecycle-events">Lifecycle events</a><span>, in § 2.1.2</span>
   <li><a href="#dfn-job-list-of-equivalent-jobs">list of equivalent jobs</a><span>, in § Unnumbered section</span>
   <li><a href="#service-worker-list-of-router-rules">list of router rules</a><span>, in § 2.1</span>
   <li><a href="#lookup-race-response">Lookup Race Response</a><span>, in § Unnumbered section</span>
   <li>
    matchAll()
    <ul>
     <li><a href="#dom-cache-matchall">method for Cache</a><span>, in § 5.4.2</span>
     <li><a href="#dom-clients-matchall">method for Clients</a><span>, in § 4.3.2</span>
    </ul>
   <li><a href="#dom-clients-matchall">matchAll(options)</a><span>, in § 4.3.2</span>
   <li><a href="#dom-cache-matchall">matchAll(request)</a><span>, in § 5.4.2</span>
   <li><a href="#dom-cache-matchall">matchAll(request, options)</a><span>, in § 5.4.2</span>
   <li>
    match(request)
    <ul>
     <li><a href="#dom-cache-match">method for Cache</a><span>, in § 5.4.1</span>
     <li><a href="#dom-cachestorage-match">method for CacheStorage</a><span>, in § 5.5.1</span>
    </ul>
   <li>
    match(request, options)
    <ul>
     <li><a href="#dom-cache-match">method for Cache</a><span>, in § 5.4.1</span>
     <li><a href="#dom-cachestorage-match">method for CacheStorage</a><span>, in § 5.5.1</span>
    </ul>
   <li><a href="#match-router-condition">Match Router Condition</a><span>, in § Unnumbered section</span>
   <li><a href="#match-service-worker-registration">Match Service Worker Registration</a><span>, in § Unnumbered section</span>
   <li>
    message
    <ul>
     <li><a href="#service-worker-container-message-event">event for ServiceWorkerContainer</a><span>, in § 3.5</span>
     <li><a href="#eventdef-serviceworkerglobalscope-message">event for ServiceWorkerGlobalScope</a><span>, in § 4.8</span>
    </ul>
   <li>
    messageerror
    <ul>
     <li><a href="#service-worker-container-messageerror-event">event for ServiceWorkerContainer</a><span>, in § 3.5</span>
     <li><a href="#eventdef-serviceworkerglobalscope-messageerror">event for ServiceWorkerGlobalScope</a><span>, in § 4.8</span>
    </ul>
   <li><a href="#dictdef-multicachequeryoptions">MultiCacheQueryOptions</a><span>, in § 5.5</span>
   <li><a href="#dfn-name-to-cache-map">name to cache map</a><span>, in § 5.1</span>
   <li><a href="#dom-windowclient-navigate">navigate(url)</a><span>, in § 4.2.11</span>
   <li><a href="#dom-serviceworkerregistration-navigationpreload">navigationPreload</a><span>, in § 3.2.5</span>
   <li><a href="#service-worker-registration-navigation-preload-enabled-flag">navigation preload enabled flag</a><span>, in § 2.3</span>
   <li><a href="#service-worker-registration-navigation-preload-header-value">navigation preload header value</a><span>, in § 2.3</span>
   <li>
    NavigationPreloadManager
    <ul>
     <li><a href="#navigationpreloadmanager">(interface)</a><span>, in § 3.6</span>
     <li><a href="#service-worker-registration-navigationpreloadmanager">dfn for service worker registration</a><span>, in § 2.3</span>
    </ul>
   <li><a href="#dictdef-navigationpreloadstate">NavigationPreloadState</a><span>, in § 3.6</span>
   <li><a href="#dom-frametype-nested">"nested"</a><span>, in § 4.2</span>
   <li><a href="#dom-routersourceenum-network">"network"</a><span>, in § 4.5</span>
   <li>
    "none"
    <ul>
     <li><a href="#dom-frametype-none">enum-value for FrameType</a><span>, in § 4.2</span>
     <li><a href="#dom-serviceworkerupdateviacache-none">enum-value for ServiceWorkerUpdateViaCache</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#dom-routercondition-not">not</a><span>, in § 4.5</span>
   <li><a href="#notify-controller-change">Notify Controller Change</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-runningstatus-not-running">"not-running"</a><span>, in § 4.5</span>
   <li><a href="#dom-serviceworkerglobalscope-onactivate">onactivate</a><span>, in § 4.1.5</span>
   <li><a href="#dom-serviceworkercontainer-oncontrollerchange">oncontrollerchange</a><span>, in § 3.4.7</span>
   <li><a href="#dom-serviceworkerglobalscope-onfetch">onfetch</a><span>, in § 4.1.5</span>
   <li><a href="#dom-serviceworkerglobalscope-oninstall">oninstall</a><span>, in § 4.1.5</span>
   <li>
    onmessage
    <ul>
     <li><a href="#dom-serviceworkercontainer-onmessage">attribute for ServiceWorkerContainer</a><span>, in § 3.4.7</span>
     <li><a href="#dom-serviceworkerglobalscope-onmessage">attribute for ServiceWorkerGlobalScope</a><span>, in § 4.1.5</span>
    </ul>
   <li>
    onmessageerror
    <ul>
     <li><a href="#dom-serviceworkercontainer-onmessageerror">attribute for ServiceWorkerContainer</a><span>, in § 3.4.7</span>
     <li><a href="#dom-serviceworkerglobalscope-onmessageerror">attribute for ServiceWorkerGlobalScope</a><span>, in § 4.1.5</span>
    </ul>
   <li><a href="#dom-serviceworker-onstatechange">onstatechange</a><span>, in § 3.1.6</span>
   <li><a href="#dom-serviceworkerregistration-onupdatefound">onupdatefound</a><span>, in § 3.2.10</span>
   <li><a href="#dom-cachestorage-open">open(cacheName)</a><span>, in § 5.5.3</span>
   <li><a href="#dom-clients-openwindow">openWindow(url)</a><span>, in § 4.3.3</span>
   <li><a href="#dfn-cache-batch-operation-options">options</a><span>, in § 5.4</span>
   <li><a href="#dom-routercondition-or">or</a><span>, in § 4.5</span>
   <li>
    origin
    <ul>
     <li><a href="#dom-extendablemessageevent-origin">attribute for ExtendableMessageEvent</a><span>, in § 4.7.2</span>
     <li><a href="#service-worker-client-origin">dfn for service worker client</a><span>, in § 2.4</span>
     <li><a href="#dom-extendablemessageeventinit-origin">dict-member for ExtendableMessageEventInit</a><span>, in § 4.7</span>
    </ul>
   <li><a href="#dom-serviceworkerstate-parsed">"parsed"</a><span>, in § 3.1</span>
   <li><a href="#parse-url-pattern">Parse URL Pattern</a><span>, in § Unnumbered section</span>
   <li><a href="#extendableevent-pending-promises-count">pending promises count</a><span>, in § 4.4</span>
   <li><a href="#dfn-policy-container">policy container</a><span>, in § 2.1</span>
   <li>
    ports
    <ul>
     <li><a href="#dom-extendablemessageevent-ports">attribute for ExtendableMessageEvent</a><span>, in § 4.7.5</span>
     <li><a href="#dom-extendablemessageeventinit-ports">dict-member for ExtendableMessageEventInit</a><span>, in § 4.7</span>
    </ul>
   <li>
    postMessage(message)
    <ul>
     <li><a href="#dom-client-postmessage-message-options">method for Client</a><span>, in § 4.2.6</span>
     <li><a href="#dom-serviceworker-postmessage-message-options">method for ServiceWorker</a><span>, in § 3.1.5</span>
    </ul>
   <li>
    postMessage(message, options)
    <ul>
     <li><a href="#dom-client-postmessage-message-options">method for Client</a><span>, in § 4.2.6</span>
     <li><a href="#dom-serviceworker-postmessage-message-options">method for ServiceWorker</a><span>, in § 3.1.5</span>
    </ul>
   <li>
    postMessage(message, transfer)
    <ul>
     <li><a href="#dom-client-postmessage">method for Client</a><span>, in § 4.2.5</span>
     <li><a href="#dom-serviceworker-postmessage">method for ServiceWorker</a><span>, in § 3.1.4</span>
    </ul>
   <li><a href="#fetchevent-potential-response">potential response</a><span>, in § 4.6</span>
   <li>
    preloadResponse
    <ul>
     <li><a href="#dom-fetchevent-preloadresponse">attribute for FetchEvent</a><span>, in § 4.6.2</span>
     <li><a href="#dom-fetcheventinit-preloadresponse">dict-member for FetchEventInit</a><span>, in § 4.6</span>
    </ul>
   <li><a href="#dom-cache-put">put(request, response)</a><span>, in § 5.4.5</span>
   <li><a href="#query-cache">Query Cache</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-dfn-count-router-condition-result-quota-exceeded">quota exceeded</a><span>, in § 4.5</span>
   <li><a href="#dom-routersourceenum-race-network-and-fetch-handler">"race-network-and-fetch-handler"</a><span>, in § 4.5</span>
   <li><a href="#dfn-race-response">race response</a><span>, in § 4.1</span>
   <li><a href="#serviceworkerglobalscope-race-response-map">race response map</a><span>, in § 4.1</span>
   <li><a href="#dfn-race-result">race result</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-serviceworkercontainer-ready">ready</a><span>, in § 3.4.2</span>
   <li><a href="#serviceworkercontainer-ready-promise">ready promise</a><span>, in § 3.4</span>
   <li><a href="#dom-serviceworkerstate-redundant">"redundant"</a><span>, in § 3.1</span>
   <li><a href="#job-referrer">referrer</a><span>, in § Unnumbered section</span>
   <li><a href="#register">Register</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-serviceworkercontainer-register">register(scriptURL)</a><span>, in § 3.4.3</span>
   <li><a href="#dom-serviceworkercontainer-register">register(scriptURL, options)</a><span>, in § 3.4.3</span>
   <li>
    registration
    <ul>
     <li><a href="#dom-serviceworkerglobalscope-registration">attribute for ServiceWorkerGlobalScope</a><span>, in § 4.1.2</span>
     <li><a href="#dfn-containing-service-worker-registration">dfn for service worker</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#dfn-scope-to-registration-map">registration map</a><span>, in § Unnumbered section</span>
   <li><a href="#dictdef-registrationoptions">RegistrationOptions</a><span>, in § 3.4</span>
   <li><a href="#reject-job-promise">Reject Job Promise</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-relevant-name-to-cache-map">relevant name to cache map</a><span>, in § 5.1</span>
   <li><a href="#dfn-relevant-request-response-list">relevant request response list</a><span>, in § 5.1</span>
   <li>
    replacesClientId
    <ul>
     <li><a href="#dom-fetchevent-replacesclientid">attribute for FetchEvent</a><span>, in § 4.6.5</span>
     <li><a href="#dom-fetcheventinit-replacesclientid">dict-member for FetchEventInit</a><span>, in § 4.6</span>
    </ul>
   <li>
    request
    <ul>
     <li><a href="#dom-fetchevent-request">attribute for FetchEvent</a><span>, in § 4.6.1</span>
     <li><a href="#dfn-cache-batch-operation-request">dfn for cache batch operation</a><span>, in § 5.4</span>
     <li><a href="#dom-fetcheventinit-request">dict-member for FetchEventInit</a><span>, in § 4.6</span>
    </ul>
   <li><a href="#dom-routercondition-requestdestination">requestDestination</a><span>, in § 4.5</span>
   <li><a href="#request-matches-cached-item">Request Matches Cached Item</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-routercondition-requestmethod">requestMethod</a><span>, in § 4.5</span>
   <li><a href="#dom-routercondition-requestmode">requestMode</a><span>, in § 4.5</span>
   <li><a href="#dfn-request-response-list">request response list</a><span>, in § 5.1</span>
   <li><a href="#resolve-get-client-promise">Resolve Get Client Promise</a><span>, in § Unnumbered section</span>
   <li><a href="#resolve-job-promise">Resolve Job Promise</a><span>, in § Unnumbered section</span>
   <li><a href="#fetchevent-respond-with-entered-flag">respond-with entered flag</a><span>, in § 4.6</span>
   <li><a href="#fetchevent-respond-with-error-flag">respond-with error flag</a><span>, in § 4.6</span>
   <li><a href="#dom-fetchevent-respondwith">respondWith(r)</a><span>, in § 4.6.7</span>
   <li><a href="#dfn-cache-batch-operation-response">response</a><span>, in § 5.4</span>
   <li>
    resultingClientId
    <ul>
     <li><a href="#dom-fetchevent-resultingclientid">attribute for FetchEvent</a><span>, in § 4.6.4</span>
     <li><a href="#dom-fetcheventinit-resultingclientid">dict-member for FetchEventInit</a><span>, in § 4.6</span>
    </ul>
   <li><a href="#race-result-routed-response">routed response</a><span>, in § Unnumbered section</span>
   <li><a href="#dictdef-routercondition">RouterCondition</a><span>, in § 4.5</span>
   <li><a href="#dictdef-routerrule">RouterRule</a><span>, in § 4.5</span>
   <li><a href="#typedefdef-routersource">RouterSource</a><span>, in § 4.5</span>
   <li><a href="#dictdef-routersourcedict">RouterSourceDict</a><span>, in § 4.5</span>
   <li><a href="#enumdef-routersourceenum">RouterSourceEnum</a><span>, in § 4.5</span>
   <li><a href="#run-job">Run Job</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-runningstatus-running">"running"</a><span>, in § 4.5</span>
   <li><a href="#service-worker-running">running</a><span>, in § 2.1</span>
   <li><a href="#enumdef-runningstatus">RunningStatus</a><span>, in § 4.5</span>
   <li><a href="#dom-routercondition-runningstatus">runningStatus</a><span>, in § 4.5</span>
   <li><a href="#run-service-worker">Run Service Worker</a><span>, in § Unnumbered section</span>
   <li><a href="#schedule-job">Schedule Job</a><span>, in § Unnumbered section</span>
   <li>
    scope
    <ul>
     <li><a href="#dom-serviceworkerregistration-scope">attribute for ServiceWorkerRegistration</a><span>, in § 3.2.6</span>
     <li><a href="#dom-registrationoptions-scope">dict-member for RegistrationOptions</a><span>, in § 3.4</span>
    </ul>
   <li><a href="#dfn-scope-to-job-queue-map">scope to job queue map</a><span>, in § Unnumbered section</span>
   <li>
    scope url
    <ul>
     <li><a href="#dfn-job-scope-url">dfn for job</a><span>, in § Unnumbered section</span>
     <li><a href="#dfn-scope-url">dfn for service worker registration</a><span>, in § 2.3</span>
    </ul>
   <li><a href="#dfn-script-resource">script resource</a><span>, in § 2.1</span>
   <li><a href="#dfn-script-resource-map">script resource map</a><span>, in § 2.1</span>
   <li>
    script url
    <ul>
     <li><a href="#dfn-job-script-url">dfn for job</a><span>, in § Unnumbered section</span>
     <li><a href="#dfn-script-url">dfn for service worker</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#dom-serviceworker-scripturl">scriptURL</a><span>, in § 3.1.2</span>
   <li>
    service worker
    <ul>
     <li><a href="#dfn-service-worker">dfn for </a><span>, in § 2.1</span>
     <li><a href="#serviceworkerglobalscope-service-worker">dfn for ServiceWorkerGlobalScope</a><span>, in § 4.1</span>
    </ul>
   <li><a href="#service-worker">Service-Worker</a><span>, in § Unnumbered section</span>
   <li><a href="#serviceworker">ServiceWorker</a><span>, in § 3.1</span>
   <li>
    serviceWorker
    <ul>
     <li><a href="#navigator-service-worker-attribute">attribute for Navigator, WorkerNavigator</a><span>, in § 3.3</span>
     <li><a href="#dom-serviceworkerglobalscope-serviceworker">attribute for ServiceWorkerGlobalScope</a><span>, in § 4.1.3</span>
    </ul>
   <li><a href="#service-worker-allowed">Service-Worker-Allowed</a><span>, in § Unnumbered section</span>
   <li>
    service worker client
    <ul>
     <li><a href="#dfn-service-worker-client">dfn for </a><span>, in § 2.4</span>
     <li><a href="#dfn-service-worker-client-service-worker-client">dfn for Client</a><span>, in § 4.2</span>
     <li><a href="#serviceworkercontainer-service-worker-client">dfn for ServiceWorkerContainer</a><span>, in § 3.4</span>
    </ul>
   <li><a href="#serviceworkercontainer">ServiceWorkerContainer</a><span>, in § 3.4</span>
   <li><a href="#dfn-service-worker-events">service worker events</a><span>, in § 2.1.2</span>
   <li><a href="#serviceworkerglobalscope">ServiceWorkerGlobalScope</a><span>, in § 4.1</span>
   <li><a href="#service-worker-has-no-pending-events">Service Worker Has No Pending Events</a><span>, in § Unnumbered section</span>
   <li><a href="#environment-settings-object-service-worker-object-map">service worker object map</a><span>, in § 3.1.1</span>
   <li><a href="#service-worker-service-worker-queue">[[service worker queue]]</a><span>, in § 2.1</span>
   <li>
    service worker registration
    <ul>
     <li><a href="#dfn-service-worker-registration">dfn for </a><span>, in § 2.3</span>
     <li><a href="#serviceworkerregistration-service-worker-registration">dfn for ServiceWorkerRegistration</a><span>, in § 3.2</span>
    </ul>
   <li><a href="#serviceworkerregistration">ServiceWorkerRegistration</a><span>, in § 3.2</span>
   <li><a href="#environment-settings-object-service-worker-registration-object-map">service worker registration object map</a><span>, in § 3.2.1</span>
   <li><a href="#enumdef-serviceworkerstate">ServiceWorkerState</a><span>, in § 3.1</span>
   <li><a href="#service-worker-timing-info">service worker timing info</a><span>, in § 2.2</span>
   <li><a href="#enumdef-serviceworkerupdateviacache">ServiceWorkerUpdateViaCache</a><span>, in § 3.2</span>
   <li><a href="#dom-navigationpreloadmanager-setheadervalue">setHeaderValue(value)</a><span>, in § 3.6.3</span>
   <li><a href="#dfn-set-of-event-types-to-handle">set of event types to handle</a><span>, in § 2.1</span>
   <li><a href="#dfn-set-of-extended-events">set of extended events</a><span>, in § 2.1</span>
   <li><a href="#dfn-set-of-used-scripts">set of used scripts</a><span>, in § 2.1</span>
   <li><a href="#set-registration">Set Registration</a><span>, in § Unnumbered section</span>
   <li><a href="#setup-serviceworkerglobalscope">Setup ServiceWorkerGlobalScope</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-clienttype-sharedworker">"sharedworker"</a><span>, in § 4.3</span>
   <li><a href="#dfn-sharedworker-client">shared worker client</a><span>, in § 2.4</span>
   <li><a href="#should-skip-event">Should Skip Event</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-serviceworkerglobalscope-skipwaiting">skipWaiting()</a><span>, in § 4.1.4</span>
   <li><a href="#dfn-skip-waiting-flag">skip waiting flag</a><span>, in § 2.1</span>
   <li><a href="#soft-update">Soft Update</a><span>, in § Unnumbered section</span>
   <li>
    source
    <ul>
     <li><a href="#dom-extendablemessageevent-source">attribute for ExtendableMessageEvent</a><span>, in § 4.7.4</span>
     <li><a href="#dom-extendablemessageeventinit-source">dict-member for ExtendableMessageEventInit</a><span>, in § 4.7</span>
     <li><a href="#dom-routerrule-source">dict-member for RouterRule</a><span>, in § 4.5</span>
    </ul>
   <li><a href="#service-worker-registration-stale">stale</a><span>, in § 2.3</span>
   <li><a href="#dom-serviceworkercontainer-startmessages">startMessages()</a><span>, in § 3.4.6</span>
   <li><a href="#start-register">Start Register</a><span>, in § Unnumbered section</span>
   <li><a href="#service-worker-start-status">start status</a><span>, in § 2.1</span>
   <li><a href="#service-worker-timing-info-start-time">start time</a><span>, in § 2.2</span>
   <li>
    state
    <ul>
     <li><a href="#dom-serviceworker-state">attribute for ServiceWorker</a><span>, in § 3.1.3</span>
     <li><a href="#dfn-state">dfn for service worker</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#eventdef-serviceworker-statechange">statechange</a><span>, in § 3.5</span>
   <li>
    storage key
    <ul>
     <li><a href="#job-storage-key">dfn for job</a><span>, in § Unnumbered section</span>
     <li><a href="#service-worker-registration-storage-key">dfn for service worker registration</a><span>, in § 2.3</span>
    </ul>
   <li><a href="#dfn-service-worker-registration-task-queue">task queues</a><span>, in § 2.3</span>
   <li><a href="#terminate-service-worker">Terminate Service Worker</a><span>, in § Unnumbered section</span>
   <li><a href="#extendableevent-timed-out-flag">timed out flag</a><span>, in § 4.4</span>
   <li><a href="#dom-frametype-top-level">"top-level"</a><span>, in § 4.2</span>
   <li><a href="#try-activate">Try Activate</a><span>, in § Unnumbered section</span>
   <li><a href="#try-clear-registration">Try Clear Registration</a><span>, in § Unnumbered section</span>
   <li>
    type
    <ul>
     <li><a href="#dom-client-type">attribute for Client</a><span>, in § 4.2.4</span>
     <li><a href="#dfn-cache-batch-operation-type">dfn for cache batch operation</a><span>, in § 5.4</span>
     <li><a href="#dfn-type">dfn for service worker</a><span>, in § 2.1</span>
     <li><a href="#dom-clientqueryoptions-type">dict-member for ClientQueryOptions</a><span>, in § 4.3</span>
     <li><a href="#dom-registrationoptions-type">dict-member for RegistrationOptions</a><span>, in § 3.4</span>
    </ul>
   <li><a href="#unregister">Unregister</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-serviceworkerregistration-unregister">unregister()</a><span>, in § 3.2.9</span>
   <li><a href="#dfn-service-worker-registration-unregistered">unregistered</a><span>, in § 2.3</span>
   <li><a href="#update">Update</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-serviceworkerregistration-update">update()</a><span>, in § 3.2.8</span>
   <li><a href="#service-worker-registration-updatefound-event">updatefound</a><span>, in § 3.5</span>
   <li><a href="#update-registration-state">Update Registration State</a><span>, in § Unnumbered section</span>
   <li><a href="#update-service-worker-extended-events-set">Update Service Worker Extended Events Set</a><span>, in § Unnumbered section</span>
   <li>
    updateViaCache
    <ul>
     <li><a href="#dom-serviceworkerregistration-updateviacache">attribute for ServiceWorkerRegistration</a><span>, in § 3.2.7</span>
     <li><a href="#dom-registrationoptions-updateviacache">dict-member for RegistrationOptions</a><span>, in § 3.4</span>
    </ul>
   <li>
    update via cache mode
    <ul>
     <li><a href="#dfn-job-update-via-cache-mode">dfn for job</a><span>, in § Unnumbered section</span>
     <li><a href="#dfn-update-via-cache">dfn for service worker registration</a><span>, in § 2.3</span>
    </ul>
   <li><a href="#update-worker-state">Update Worker State</a><span>, in § Unnumbered section</span>
   <li><a href="#dom-client-url">url</a><span>, in § 4.2.1</span>
   <li><a href="#dom-routercondition-urlpattern">urlPattern</a><span>, in § 4.5</span>
   <li><a href="#dfn-use">used</a><span>, in § 2.5</span>
   <li><a href="#race-result-used-route">used route</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-use">uses</a><span>, in § 2.5</span>
   <li><a href="#dfn-use">using</a><span>, in § 2.5</span>
   <li><a href="#race-response-value">value</a><span>, in § 4.1</span>
   <li><a href="#verify-router-condition">Verify Router Condition</a><span>, in § Unnumbered section</span>
   <li><a href="#dfn-service-worker-client-visibilitystate">visibility state</a><span>, in § 4.2</span>
   <li><a href="#dom-windowclient-visibilitystate">visibilityState</a><span>, in § 4.2.7</span>
   <li><a href="#dom-serviceworkerregistration-waiting">waiting</a><span>, in § 3.2.3</span>
   <li><a href="#dfn-waiting-worker">waiting worker</a><span>, in § 2.3</span>
   <li><a href="#fetchevent-wait-to-respond-flag">wait to respond flag</a><span>, in § 4.6</span>
   <li><a href="#dom-extendableevent-waituntil">waitUntil(f)</a><span>, in § 4.4.1</span>
   <li><a href="#dom-clienttype-window">"window"</a><span>, in § 4.3</span>
   <li><a href="#dfn-window-client">window client</a><span>, in § 2.4</span>
   <li><a href="#windowclient">WindowClient</a><span>, in § 4.2</span>
   <li><a href="#dom-clienttype-worker">"worker"</a><span>, in § 4.3</span>
   <li><a href="#service-worker-timing-info-worker-cache-lookup-start">worker cache lookup start</a><span>, in § 2.2</span>
   <li><a href="#dfn-worker-client">worker client</a><span>, in § 2.4</span>
   <li><a href="#service-worker-timing-info-worker-final-router-source">worker final router source</a><span>, in § 2.2</span>
   <li><a href="#service-worker-timing-info-worker-matched-router-source">worker matched router source</a><span>, in § 2.2</span>
   <li><a href="#service-worker-timing-info-worker-router-evaluation-start">worker router evaluation start</a><span>, in § 2.2</span>
   <li><a href="#dfn-job-worker-type">worker type</a><span>, in § Unnumbered section</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CSP-NEXT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="57c34878">enforced</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSP3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d8beb430">Run CSP initialization for a global object</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2e66eaf1">AbortController</span>
     <li><span class="dfn-paneled" id="129bdae8">Event</span>
     <li><span class="dfn-paneled" id="44a7708c">EventInit</span>
     <li><span class="dfn-paneled" id="2bc0cdf4">EventTarget</span>
     <li><span class="dfn-paneled" id="622d9f0e">callback</span>
     <li><span class="dfn-paneled" id="8c407366">cancelable</span>
     <li><span class="dfn-paneled" id="2e9f6464">canceled flag</span>
     <li><span class="dfn-paneled" id="8abfc3b6">creating an event</span>
     <li><span class="dfn-paneled" id="1372f92a">dispatch</span>
     <li><span class="dfn-paneled" id="092f2e0b">dispatch flag</span>
     <li><span class="dfn-paneled" id="a973e0fe">document</span>
     <li><span class="dfn-paneled" id="26b82890">event</span>
     <li><span class="dfn-paneled" id="06950d36">event listener</span>
     <li><span class="dfn-paneled" id="5fd23811">fire an event</span>
     <li><span class="dfn-paneled" id="d9482602">handleEvent(event)</span>
     <li><span class="dfn-paneled" id="838900a7">isTrusted</span>
     <li><span class="dfn-paneled" id="719b834e">legacy-obtain service worker fetch event listener callbacks</span>
     <li><span class="dfn-paneled" id="0fe84b59">signal</span>
     <li><span class="dfn-paneled" id="2296404c">signal abort</span>
     <li><span class="dfn-paneled" id="38340ce0">stop immediate propagation flag</span>
     <li><span class="dfn-paneled" id="c89908b4">stop propagation flag</span>
     <li><span class="dfn-paneled" id="9d09d04c">type</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6d9d1769">IsCallable</span>
     <li><span class="dfn-paneled" id="e2f31f82">NormalCompletion</span>
     <li><span class="dfn-paneled" id="9c149c85">ThrowCompletion</span>
     <li><span class="dfn-paneled" id="61266bdb">abrupt completion</span>
     <li><span class="dfn-paneled" id="6a99d63f">agent</span>
     <li><span class="dfn-paneled" id="3f64b971">Assert</span>
     <li><span class="dfn-paneled" id="1fcfa830">Completion</span>
     <li><span class="dfn-paneled" id="06b06c91">Cyclic Module Record</span>
     <li><span class="dfn-paneled" id="8236ea30">declaration</span>
     <li><span class="dfn-paneled" id="1260f199">DetachArrayBuffer</span>
     <li><span class="dfn-paneled" id="25a47df4">function body</span>
     <li><span class="dfn-paneled" id="9b7e9c92">map objects</span>
     <li><span class="dfn-paneled" id="4cc3979a">Module Record</span>
     <li><span class="dfn-paneled" id="799ab505">promise</span>
     <li><span class="dfn-paneled" id="b8231553">statement</span>
     <li><span class="dfn-paneled" id="4ad913ae">surrounding agent</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c56329c9">"report"</span>
     <li><span class="dfn-paneled" id="e806d5a8">Headers</span>
     <li><span class="dfn-paneled" id="f9da6f1f">Request</span>
     <li><span class="dfn-paneled" id="b4c5b3f7">RequestDestination</span>
     <li><span class="dfn-paneled" id="8ba500d2">RequestInfo</span>
     <li><span class="dfn-paneled" id="4cf7cda3">RequestMode</span>
     <li><span class="dfn-paneled" id="08a12aad">Response</span>
     <li><span class="dfn-paneled" id="49a5521a">abort</span>
     <li><span class="dfn-paneled" id="3eff7ece">aborted flag</span>
     <li><span class="dfn-paneled" id="a6a8ec88">append</span>
     <li><span class="dfn-paneled" id="b5d1f9d3">basic filtered response</span>
     <li><span class="dfn-paneled" id="644cb530">body</span>
     <li><span class="dfn-paneled" id="8e9945a0">body <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="81a76425">body <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="80f5eafb">body info</span>
     <li><span class="dfn-paneled" id="688f9669">cache mode</span>
     <li><span class="dfn-paneled" id="e6defb69">cache state</span>
     <li><span class="dfn-paneled" id="857d5516">client</span>
     <li><span class="dfn-paneled" id="8e720892">clone <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="555b1be1">clone <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="0a52a8b4">combine</span>
     <li><span class="dfn-paneled" id="d5434eef">contains</span>
     <li><span class="dfn-paneled" id="dacc9b46">CORS filtered response</span>
     <li><span class="dfn-paneled" id="399a9307">creating</span>
     <li><span class="dfn-paneled" id="2aaa937f">cross-origin resource policy check</span>
     <li><span class="dfn-paneled" id="7aab3a36">decoded size</span>
     <li><span class="dfn-paneled" id="5843bd02">deserialize a serialized abort reason</span>
     <li><span class="dfn-paneled" id="3ae34c95">destination</span>
     <li><span class="dfn-paneled" id="a0fdc68e">encoded size</span>
     <li><span class="dfn-paneled" id="3743dd5f">extract a MIME type</span>
     <li><span class="dfn-paneled" id="3be1d4ac">extracting header list values</span>
     <li><span class="dfn-paneled" id="a33db89a">fetch</span>
     <li><span class="dfn-paneled" id="6bb42fbb">fetch controller</span>
     <li><span class="dfn-paneled" id="00f91d3b">fetch(input, init)</span>
     <li><span class="dfn-paneled" id="de82addd">filtered response</span>
     <li><span class="dfn-paneled" id="f7bf85cd">forbidden method</span>
     <li><span class="dfn-paneled" id="99d701c5">guard</span>
     <li><span class="dfn-paneled" id="c9e7c11a">header</span>
     <li><span class="dfn-paneled" id="6ee0eab1">header list <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="f7b00a8b">header list <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="2aaa2f42">HTTP fetch</span>
     <li><span class="dfn-paneled" id="fa4ea124">initiator</span>
     <li><span class="dfn-paneled" id="9a95489b">internal response</span>
     <li><span class="dfn-paneled" id="1a4f3e89">method</span>
     <li><span class="dfn-paneled" id="50b05fad">method <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="cb98f71f">mode</span>
     <li><span class="dfn-paneled" id="4b84a0bc">name</span>
     <li><span class="dfn-paneled" id="2889d1ec">navigation request</span>
     <li><span class="dfn-paneled" id="eb1b1af3">network error</span>
     <li><span class="dfn-paneled" id="5a391458">non-subresource request</span>
     <li><span class="dfn-paneled" id="2c16705a">normalize</span>
     <li><span class="dfn-paneled" id="a27468c5">ok status</span>
     <li><span class="dfn-paneled" id="d3d229b5">opaque filtered response</span>
     <li><span class="dfn-paneled" id="f78d5b5c">origin</span>
     <li><span class="dfn-paneled" id="ee1a333c">parser metadata</span>
     <li><span class="dfn-paneled" id="bd2fe71e">processResponse</span>
     <li><span class="dfn-paneled" id="a2d0ae2a">processResponseEndOfBody</span>
     <li><span class="dfn-paneled" id="64b62ea0">redirect mode</span>
     <li><span class="dfn-paneled" id="36caebd4">replaces client id</span>
     <li><span class="dfn-paneled" id="55213b5b">request</span>
     <li><span class="dfn-paneled" id="162d2b51">request <small>(for Request)</small></span>
     <li><span class="dfn-paneled" id="abe352cd">reserved client</span>
     <li><span class="dfn-paneled" id="ee7bba09">response</span>
     <li><span class="dfn-paneled" id="e3201629">response <small>(for Response)</small></span>
     <li><span class="dfn-paneled" id="c8e62d82">serialized abort reason</span>
     <li><span class="dfn-paneled" id="7b34ea98">service worker timing info</span>
     <li><span class="dfn-paneled" id="6d1db60d">service-workers mode</span>
     <li><span class="dfn-paneled" id="449b55f1">source</span>
     <li><span class="dfn-paneled" id="cdc0b059">state</span>
     <li><span class="dfn-paneled" id="a1d47575">status</span>
     <li><span class="dfn-paneled" id="db8aa4d8">stream</span>
     <li><span class="dfn-paneled" id="839611db">subresource request</span>
     <li><span class="dfn-paneled" id="cdea6030">type</span>
     <li><span class="dfn-paneled" id="c1030cbe">unusable</span>
     <li><span class="dfn-paneled" id="dc1cd39b">URL</span>
     <li><span class="dfn-paneled" id="44d0e8a7">use-URL-credentials flag</span>
     <li><span class="dfn-paneled" id="8a608b90">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FileAPI]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="59f47681">blob URL</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="0e9f636b">DOMHighResTimeStamp</span>
     <li><span class="dfn-paneled" id="80bf04ff">coarsen time</span>
     <li><span class="dfn-paneled" id="27402d04">coarsened shared current time</span>
     <li><span class="dfn-paneled" id="9a31d086">unsafe shared current time</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a8ce2b70">AbstractWorker</span>
     <li><span class="dfn-paneled" id="7bcff2a1">DOMContentLoaded</span>
     <li><span class="dfn-paneled" id="b8308563">DedicatedWorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="cc549724">Location</span>
     <li><span class="dfn-paneled" id="3e8c0e5f">MessageEvent</span>
     <li><span class="dfn-paneled" id="df16744f">MessagePort</span>
     <li><span class="dfn-paneled" id="be0c27b2">Navigator</span>
     <li><span class="dfn-paneled" id="165b73c9">SharedWorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="e7cb09fb">StructuredDeserializeWithTransfer</span>
     <li><span class="dfn-paneled" id="b56b31a9">StructuredSerializeOptions</span>
     <li><span class="dfn-paneled" id="9da834a1">StructuredSerializeWithTransfer</span>
     <li><span class="dfn-paneled" id="d86d4046">VisibilityState</span>
     <li><span class="dfn-paneled" id="5d7209e9">Window</span>
     <li><span class="dfn-paneled" id="5f6d392d">WindowOrWorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="bfc1c271">Worker</span>
     <li><span class="dfn-paneled" id="83c59a3a">WorkerGlobalScope</span>
     <li><span class="dfn-paneled" id="e9ac3051">WorkerLocation</span>
     <li><span class="dfn-paneled" id="a4785085">WorkerNavigator</span>
     <li><span class="dfn-paneled" id="c262266a">WorkerType</span>
     <li><span class="dfn-paneled" id="f7e0ea10">abort a running script</span>
     <li><span class="dfn-paneled" id="55a6b830">active browsing context</span>
     <li><span class="dfn-paneled" id="35972864">active document</span>
     <li><span class="dfn-paneled" id="0ba26d3b">active service worker</span>
     <li><span class="dfn-paneled" id="9186a208">ancestor origins list</span>
     <li><span class="dfn-paneled" id="1b5b1c0c">API base URL</span>
     <li><span class="dfn-paneled" id="3349d69f">associated Document</span>
     <li><span class="dfn-paneled" id="58ebefde">auxiliary browsing context</span>
     <li><span class="dfn-paneled" id="3b0ee7a3">base URL</span>
     <li><span class="dfn-paneled" id="0d0390b4">browsing context</span>
     <li><span class="dfn-paneled" id="caa8344c">classic script</span>
     <li><span class="dfn-paneled" id="93268483">closing</span>
     <li><span class="dfn-paneled" id="15c0e5cb">create a new realm</span>
     <li><span class="dfn-paneled" id="cfb6031b">creating a policy container from a fetch response</span>
     <li><span class="dfn-paneled" id="fa5ee9c5">creation URL</span>
     <li><span class="dfn-paneled" id="061c440e">cross-origin isolated capability</span>
     <li><span class="dfn-paneled" id="ce3d2bbb">current global object</span>
     <li><span class="dfn-paneled" id="3700794f">data</span>
     <li><span class="dfn-paneled" id="e10e7eb7">DOM manipulation task source</span>
     <li><span class="dfn-paneled" id="24cf98a1">environment</span>
     <li><span class="dfn-paneled" id="78a97411">environment discarding steps</span>
     <li><span class="dfn-paneled" id="3e12e042">environment settings object</span>
     <li><span class="dfn-paneled" id="6a5a59a0">event handler</span>
     <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
     <li><span class="dfn-paneled" id="03675365">event handler IDL attribute</span>
     <li><span class="dfn-paneled" id="b0cc35b0">event handler map</span>
     <li><span class="dfn-paneled" id="c6d19e56">event loop</span>
     <li><span class="dfn-paneled" id="b78d6a64">event loop <small>(for agent)</small></span>
     <li><span class="dfn-paneled" id="2285c18a">exceptionsEnabled</span>
     <li><span class="dfn-paneled" id="f5265332">execution ready flag</span>
     <li><span class="dfn-paneled" id="f0fdbfa4">fetch a classic worker script</span>
     <li><span class="dfn-paneled" id="a9a61cfb">fetch a classic worker-imported script</span>
     <li><span class="dfn-paneled" id="99030cf4">fetch a module worker script graph</span>
     <li><span class="dfn-paneled" id="fe07e8b2">focusing steps</span>
     <li><span class="dfn-paneled" id="0e3ba9f8">fully active</span>
     <li><span class="dfn-paneled" id="4b6086d7">global object</span>
     <li><span class="dfn-paneled" id="8a30477b">global object <small>(for environment settings object)</small></span>
     <li><span class="dfn-paneled" id="069ffbbf">has cross-site ancestor</span>
     <li><span class="dfn-paneled" id="7c421916">has focus steps</span>
     <li><span class="dfn-paneled" id="37b5f0f9">historyHandling</span>
     <li><span class="dfn-paneled" id="73a186aa">id</span>
     <li><span class="dfn-paneled" id="87fcd40c">iframe</span>
     <li><span class="dfn-paneled" id="34b679c0">import scripts into worker global scope</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="d7af7adc">incumbent settings object</span>
     <li><span class="dfn-paneled" id="af5cef2c">isTopLevel</span>
     <li><span class="dfn-paneled" id="84fb0b9d">listener</span>
     <li><span class="dfn-paneled" id="e34ca041">map of active timers</span>
     <li><span class="dfn-paneled" id="38381ead">message</span>
     <li><span class="dfn-paneled" id="c79e5abb">module map</span>
     <li><span class="dfn-paneled" id="9b3743cd">module map <small>(for WorkerGlobalScope)</small></span>
     <li><span class="dfn-paneled" id="78457614">module map <small>(for environment settings object)</small></span>
     <li><span class="dfn-paneled" id="a1005ed9">module script</span>
     <li><span class="dfn-paneled" id="9c19b7fc">navigable</span>
     <li><span class="dfn-paneled" id="2594e562">navigate</span>
     <li><span class="dfn-paneled" id="69ec9122">obtain a service worker agent</span>
     <li><span class="dfn-paneled" id="b01b1359">opaque origin</span>
     <li><span class="dfn-paneled" id="086e3aff">origin</span>
     <li><span class="dfn-paneled" id="e0eefdd9">origin <small>(for MessageEvent)</small></span>
     <li><span class="dfn-paneled" id="43ac8374">origin <small>(for environment settings object)</small></span>
     <li><span class="dfn-paneled" id="dc248371">owner set</span>
     <li><span class="dfn-paneled" id="7de33c29">parallel queue</span>
     <li><span class="dfn-paneled" id="1bba3db7">parent</span>
     <li><span class="dfn-paneled" id="b2e9303e">perform the fetch hook</span>
     <li><span class="dfn-paneled" id="b33787b2">policy container</span>
     <li><span class="dfn-paneled" id="432147ee">policy container <small>(for WorkerGlobalScope)</small></span>
     <li><span class="dfn-paneled" id="bd1db03d">policy container <small>(for environment settings object)</small></span>
     <li><span class="dfn-paneled" id="7b162b57">ports</span>
     <li><span class="dfn-paneled" id="53079ce3">queue a microtask</span>
     <li><span class="dfn-paneled" id="9a517a7d">queue a task</span>
     <li><span class="dfn-paneled" id="d1ee46ce">realm <small>(for environment settings object)</small></span>
     <li><span class="dfn-paneled" id="b75a7d23">realm <small>(for global object)</small></span>
     <li><span class="dfn-paneled" id="ce15d5dc">realm execution context</span>
     <li><span class="dfn-paneled" id="6594df5c">record</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
     <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
     <li><span class="dfn-paneled" id="0ef5a390">resolve a module specifier</span>
     <li><span class="dfn-paneled" id="e3288657">responsible event loop</span>
     <li><span class="dfn-paneled" id="bb8bd6d1">run a classic script</span>
     <li><span class="dfn-paneled" id="78aa7d8d">run a module script</span>
     <li><span class="dfn-paneled" id="ea6f3f13">run a worker</span>
     <li><span class="dfn-paneled" id="7393da89">same origin</span>
     <li><span class="dfn-paneled" id="5c35dd47">sandbox</span>
     <li><span class="dfn-paneled" id="dd6462cb">script</span>
     <li><span class="dfn-paneled" id="65181da8">secure context</span>
     <li><span class="dfn-paneled" id="dae0bfde">serialization of an origin</span>
     <li><span class="dfn-paneled" id="a0d0a7c7">source</span>
     <li><span class="dfn-paneled" id="085ddd0a">target browsing context</span>
     <li><span class="dfn-paneled" id="e270bd2a">task</span>
     <li><span class="dfn-paneled" id="80726755">task queues</span>
     <li><span class="dfn-paneled" id="c3b2d08c">task source</span>
     <li><span class="dfn-paneled" id="e9c58cef">time origin</span>
     <li><span class="dfn-paneled" id="ae2a6342">top-level browsing context</span>
     <li><span class="dfn-paneled" id="2c6fd92e">top-level creation URL</span>
     <li><span class="dfn-paneled" id="c63519ed">top-level origin</span>
     <li><span class="dfn-paneled" id="6ad16aca">transfer</span>
     <li><span class="dfn-paneled" id="47fe679e">transient activation</span>
     <li><span class="dfn-paneled" id="7a2fc3e3">type</span>
     <li><span class="dfn-paneled" id="4411082c">unloading document cleanup steps</span>
     <li><span class="dfn-paneled" id="b6209f34">unsafe response</span>
     <li><span class="dfn-paneled" id="c5b6dcb3">url</span>
     <li><span class="dfn-paneled" id="825cbc48">user interaction task source</span>
     <li><span class="dfn-paneled" id="f1d0e483">value</span>
     <li><span class="dfn-paneled" id="1d563005">visibilityState</span>
     <li><span class="dfn-paneled" id="e5bf7ea1">web worker</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1adcc035">abort when</span>
     <li><span class="dfn-paneled" id="53275e46">append <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="7f9469b5">ASCII case-insensitive</span>
     <li><span class="dfn-paneled" id="7b0d918d">break</span>
     <li><span class="dfn-paneled" id="3de9e659">byte sequence</span>
     <li><span class="dfn-paneled" id="bc7b9068">clear</span>
     <li><span class="dfn-paneled" id="ae8def21">contain</span>
     <li><span class="dfn-paneled" id="f937b7b6">continue</span>
     <li><span class="dfn-paneled" id="9a9b558b">dequeue</span>
     <li><span class="dfn-paneled" id="06a6db54">enqueue</span>
     <li><span class="dfn-paneled" id="8958b003">entry</span>
     <li><span class="dfn-paneled" id="1243a891">exist</span>
     <li><span class="dfn-paneled" id="16d07e10">for each <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="45209803">for each <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="4e92bc80">get the keys</span>
     <li><span class="dfn-paneled" id="715f22e4">if aborted</span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="7a87d819">is</span>
     <li><span class="dfn-paneled" id="dd460c8e">is not empty</span>
     <li><span class="dfn-paneled" id="5afbefcd">item <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="c88f3887">item <small>(for struct)</small></span>
     <li><span class="dfn-paneled" id="d14a6f26">key</span>
     <li><span class="dfn-paneled" id="31db57e6">keys</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="3fca5a9e">map</span>
     <li><span class="dfn-paneled" id="84b454ff">ordered map</span>
     <li><span class="dfn-paneled" id="692595fe">ordered set</span>
     <li><span class="dfn-paneled" id="47dfca75">queue</span>
     <li><span class="dfn-paneled" id="99c988d6">remove <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="7d4424b2">remove <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="15e48c39">set</span>
     <li><span class="dfn-paneled" id="0e6b2056">set <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="984221ca">struct</span>
     <li><span class="dfn-paneled" id="0e8de730">tuple</span>
     <li><span class="dfn-paneled" id="802b0fdd">value</span>
     <li><span class="dfn-paneled" id="12d6b9a8">values</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MIMESNIFF]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="a93f0b06">JavaScript MIME type</span>
    </ul>
   <li>
    <a data-link-type="biblio">[NAVIGATION-TIMING-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c006a605">PerformanceNavigationTiming</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PAGE-LIFECYCLE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5dc9e82c">discard</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PUSH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7c854216">push</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RESOURCE-TIMING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="eb72b0d8">PerformanceResourceTiming</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC7230]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="31dff980">field-value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC7231]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="70af124d">Vary</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SCREEN-CAPTURE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bad735fd">monitor</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SECURE-CONTEXTS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="96dabee7">potentially trustworthy origin</span>
     <li><span class="dfn-paneled" id="9c5d9c4d">potentially trustworthy URL</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STORAGE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="8d831b4d">equal</span>
     <li><span class="dfn-paneled" id="c9858f6e">obtain a storage key</span>
     <li><span class="dfn-paneled" id="7f6a70d1">storage key</span>
    </ul>
   <li>
    <a data-link-type="biblio">[STREAMS]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="59ed4e57">ReadableStream</span>
     <li><span class="dfn-paneled" id="e3e2d506">cancel <small>(for ReadableStream)</small></span>
     <li><span class="dfn-paneled" id="055980d9">cancel <small>(for ReadableStreamDefaultReader)</small></span>
     <li><span class="dfn-paneled" id="b5b30abb">cancelAlgorithm</span>
     <li><span class="dfn-paneled" id="2d10bf58">chunk</span>
     <li><span class="dfn-paneled" id="43d35049">chunk steps</span>
     <li><span class="dfn-paneled" id="b3cf1c94">close</span>
     <li><span class="dfn-paneled" id="f0e85418">close steps</span>
     <li><span class="dfn-paneled" id="f33a5993">disturbed</span>
     <li><span class="dfn-paneled" id="6b6bb798">enqueue</span>
     <li><span class="dfn-paneled" id="3bd18bd6">error</span>
     <li><span class="dfn-paneled" id="5655d36f">error steps</span>
     <li><span class="dfn-paneled" id="41d0ebd7">errored</span>
     <li><span class="dfn-paneled" id="bf6531af">getting a reader</span>
     <li><span class="dfn-paneled" id="e2b69bfa">highWaterMark</span>
     <li><span class="dfn-paneled" id="ffba9cf8">locked</span>
     <li><span class="dfn-paneled" id="42f97769">pullAlgorithm</span>
     <li><span class="dfn-paneled" id="ad191408">read a chunk</span>
     <li><span class="dfn-paneled" id="6d997105">read request</span>
     <li><span class="dfn-paneled" id="de1558f6">reading all bytes</span>
     <li><span class="dfn-paneled" id="d438bc09">set up</span>
     <li><span class="dfn-paneled" id="4a73a347">sizeAlgorithm</span>
    </ul>
   <li>
    <a data-link-type="biblio">[TRUSTED-TYPES]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1a897bae">Get Trusted Type compliant string</span>
     <li><span class="dfn-paneled" id="32039b67">TrustedScriptURL</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6fbdf145">equal</span>
     <li><span class="dfn-paneled" id="ed948033">fragment</span>
     <li><span class="dfn-paneled" id="959ad97b">origin</span>
     <li><span class="dfn-paneled" id="c0868016">path</span>
     <li><span class="dfn-paneled" id="3ab2ec8b">query</span>
     <li><span class="dfn-paneled" id="3a711be7">scheme</span>
     <li><span class="dfn-paneled" id="dcffbccd">URL</span>
     <li><span class="dfn-paneled" id="ca3ca4ae">URL parser</span>
     <li><span class="dfn-paneled" id="5442ea33">URL serializer</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URLPATTERN]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="31f25047">URLPatternCompatible</span>
     <li><span class="dfn-paneled" id="75a12309">build a URL pattern from a Web IDL value</span>
     <li><span class="dfn-paneled" id="9ceffca3">has regexp groups</span>
     <li><span class="dfn-paneled" id="5c4f772b">match</span>
     <li><span class="dfn-paneled" id="60393e82">URL pattern</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="d25dfb2c">AbortError</span>
     <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="22cb9a16">ByteString</span>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="dcf5fafa">FrozenArray</span>
     <li><span class="dfn-paneled" id="7fb6fbc6">Global</span>
     <li><span class="dfn-paneled" id="37afd48d">InvalidAccessError</span>
     <li><span class="dfn-paneled" id="797018a7">InvalidStateError</span>
     <li><span class="dfn-paneled" id="c74f29b9">NetworkError</span>
     <li><span class="dfn-paneled" id="c807e273">NewObject</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="5e129c74">QuotaExceededError</span>
     <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="c3e881ef">SecurityError</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
     <li><span class="dfn-paneled" id="95d7775a">Uint8Array</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="d0b4a948">a promise rejected with</span>
     <li><span class="dfn-paneled" id="8f5c2179">a promise resolved with</span>
     <li><span class="dfn-paneled" id="6c6b1005">any</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="495737df">byte length</span>
     <li><span class="dfn-paneled" id="ae4bc361">converted to an ECMAScript value</span>
     <li><span class="dfn-paneled" id="6a73c310">create</span>
     <li><span class="dfn-paneled" id="1641b9ef">create a frozen array</span>
     <li><span class="dfn-paneled" id="cd787c3f">exception</span>
     <li><span class="dfn-paneled" id="abbed741">frozen array type</span>
     <li><span class="dfn-paneled" id="4ae6d1ad">getting a promise to wait for all</span>
     <li><span class="dfn-paneled" id="56f81a8e">new</span>
     <li><span class="dfn-paneled" id="efd1ec5d">object</span>
     <li><span class="dfn-paneled" id="d0eba3fd">partial interface</span>
     <li><span class="dfn-paneled" id="116848ac">reacting</span>
     <li><span class="dfn-paneled" id="b262501e">reject</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
     <li><span class="dfn-paneled" id="24bd7d25">upon fulfillment</span>
     <li><span class="dfn-paneled" id="f14ed351">upon rejection</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-csp-next">[CSP-NEXT]
   <dd><a href="https://wicg.github.io/csp-next/scripting-policy.html"><cite>Scripting Policy</cite></a>. Editor's Draft. URL: <a href="https://wicg.github.io/csp-next/scripting-policy.html">https://wicg.github.io/csp-next/scripting-policy.html</a>
   <dt id="biblio-csp3">[CSP3]
   <dd>Mike West; Antonio Sartori. <a href="https://w3c.github.io/webappsec-csp/"><cite>Content Security Policy Level 3</cite></a>. URL: <a href="https://w3c.github.io/webappsec-csp/">https://w3c.github.io/webappsec-csp/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.es/ecma262/multipage/"><cite>ECMAScript Language Specification</cite></a>. URL: <a href="https://tc39.es/ecma262/multipage/">https://tc39.es/ecma262/multipage/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-fileapi">[FileAPI]
   <dd>Marijn Kruisselbrink. <a href="https://w3c.github.io/FileAPI/"><cite>File API</cite></a>. URL: <a href="https://w3c.github.io/FileAPI/">https://w3c.github.io/FileAPI/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-mimesniff">[MIMESNIFF]
   <dd>Gordon P. Hemsley. <a href="https://mimesniff.spec.whatwg.org/"><cite>MIME Sniffing Standard</cite></a>. Living Standard. URL: <a href="https://mimesniff.spec.whatwg.org/">https://mimesniff.spec.whatwg.org/</a>
   <dt id="biblio-navigation-timing-2">[NAVIGATION-TIMING-2]
   <dd>Yoav Weiss; Noam Rosenthal. <a href="https://w3c.github.io/navigation-timing/"><cite>Navigation Timing Level 2</cite></a>. URL: <a href="https://w3c.github.io/navigation-timing/">https://w3c.github.io/navigation-timing/</a>
   <dt id="biblio-page-lifecycle">[PAGE-LIFECYCLE]
   <dd><a href="https://wicg.github.io/page-lifecycle/"><cite>Page Lifecycle</cite></a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/page-lifecycle/">https://wicg.github.io/page-lifecycle/</a>
   <dt id="biblio-resource-timing">[RESOURCE-TIMING]
   <dd>Yoav Weiss; Noam Rosenthal. <a href="https://w3c.github.io/resource-timing/"><cite>Resource Timing</cite></a>. URL: <a href="https://w3c.github.io/resource-timing/">https://w3c.github.io/resource-timing/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-rfc5234">[RFC5234]
   <dd>D. Crocker, Ed.; P. Overell. <a href="https://www.rfc-editor.org/rfc/rfc5234"><cite>Augmented BNF for Syntax Specifications: ABNF</cite></a>. January 2008. Internet Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc5234">https://www.rfc-editor.org/rfc/rfc5234</a>
   <dt id="biblio-rfc7230">[RFC7230]
   <dd>R. Fielding, Ed.; J. Reschke, Ed.. <a href="https://httpwg.org/specs/rfc7230.html"><cite>Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing</cite></a>. June 2014. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7230.html">https://httpwg.org/specs/rfc7230.html</a>
   <dt id="biblio-rfc7231">[RFC7231]
   <dd>R. Fielding, Ed.; J. Reschke, Ed.. <a href="https://httpwg.org/specs/rfc7231.html"><cite>Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content</cite></a>. June 2014. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc7231.html">https://httpwg.org/specs/rfc7231.html</a>
   <dt id="biblio-screen-capture">[SCREEN-CAPTURE]
   <dd>Jan-Ivar Bruaroey; Elad Alon. <a href="https://w3c.github.io/mediacapture-screen-share/"><cite>Screen Capture</cite></a>. URL: <a href="https://w3c.github.io/mediacapture-screen-share/">https://w3c.github.io/mediacapture-screen-share/</a>
   <dt id="biblio-secure-contexts">[SECURE-CONTEXTS]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-secure-contexts/"><cite>Secure Contexts</cite></a>. URL: <a href="https://w3c.github.io/webappsec-secure-contexts/">https://w3c.github.io/webappsec-secure-contexts/</a>
   <dt id="biblio-storage">[STORAGE]
   <dd>Anne van Kesteren. <a href="https://storage.spec.whatwg.org/"><cite>Storage Standard</cite></a>. Living Standard. URL: <a href="https://storage.spec.whatwg.org/">https://storage.spec.whatwg.org/</a>
   <dt id="biblio-streams">[STREAMS]
   <dd>Adam Rice; et al. <a href="https://streams.spec.whatwg.org/"><cite>Streams Standard</cite></a>. Living Standard. URL: <a href="https://streams.spec.whatwg.org/">https://streams.spec.whatwg.org/</a>
   <dt id="biblio-trusted-types">[TRUSTED-TYPES]
   <dd>Krzysztof Kotowicz. <a href="https://w3c.github.io/trusted-types/dist/spec/"><cite>Trusted Types</cite></a>. URL: <a href="https://w3c.github.io/trusted-types/dist/spec/">https://w3c.github.io/trusted-types/dist/spec/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-urlpattern">[URLPATTERN]
   <dd>Ben Kelly; Jeremy Roman; 宍戸俊哉 (Shunya Shishido). <a href="https://urlpattern.spec.whatwg.org/"><cite>URL Pattern Standard</cite></a>. Living Standard. URL: <a href="https://urlpattern.spec.whatwg.org/">https://urlpattern.spec.whatwg.org/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-unsanctioned-tracking">[UNSANCTIONED-TRACKING]
   <dd><a href="https://www.w3.org/2001/tag/doc/unsanctioned-tracking/"><cite>Unsanctioned Web Tracking</cite></a>. 17 July 2015. Finding of the W3C TAG. URL: <a href="https://www.w3.org/2001/tag/doc/unsanctioned-tracking/">https://www.w3.org/2001/tag/doc/unsanctioned-tracking/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#serviceworker"><code><c- g>ServiceWorker</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-serviceworker-scripturl"><c- g>scriptURL</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-serviceworkerstate"><c- n>ServiceWorkerState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerState" href="#dom-serviceworker-state"><c- g>state</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworker-postmessage"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-serviceworker-postmessage-message-transfer-message"><code><c- g>message</c-></code></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>> <a href="#dom-serviceworker-postmessage-message-transfer-transfer"><code><c- g>transfer</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworker-postmessage-message-options"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-serviceworker-postmessage-message-options-message"><code><c- g>message</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions"><c- n>StructuredSerializeOptions</c-></a> <a href="#dom-serviceworker-postmessage-message-options-options"><code><c- g>options</c-></code></a> = {});

  // event
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworker-onstatechange"><c- g>onstatechange</c-></a>;
};
<a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#abstractworker"><c- n>AbstractWorker</c-></a>;

<c- b>enum</c-> <a href="#enumdef-serviceworkerstate"><code><c- g>ServiceWorkerState</c-></code></a> {
  <a href="#dom-serviceworkerstate-parsed"><code><c- s>"parsed"</c-></code></a>,
  <a href="#dom-serviceworkerstate-installing"><code><c- s>"installing"</c-></code></a>,
  <a href="#dom-serviceworkerstate-installed"><code><c- s>"installed"</c-></code></a>,
  <a href="#dom-serviceworkerstate-activating"><code><c- s>"activating"</c-></code></a>,
  <a href="#dom-serviceworkerstate-activated"><code><c- s>"activated"</c-></code></a>,
  <a href="#dom-serviceworkerstate-redundant"><code><c- s>"redundant"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#serviceworkerregistration"><code><c- g>ServiceWorkerRegistration</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-installing"><c- g>installing</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-waiting"><c- g>waiting</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkerregistration-active"><c- g>active</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#navigationpreloadmanager"><c- n>NavigationPreloadManager</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="NavigationPreloadManager" href="#dom-serviceworkerregistration-navigationpreload"><c- g>navigationPreload</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-serviceworkerregistration-scope"><c- g>scope</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-serviceworkerupdateviacache"><c- n>ServiceWorkerUpdateViaCache</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerUpdateViaCache" href="#dom-serviceworkerregistration-updateviacache"><c- g>updateViaCache</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerregistration-update"><c- g>update</c-></a>();
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerregistration-unregister"><c- g>unregister</c-></a>();

  // event
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerregistration-onupdatefound"><c- g>onupdatefound</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-serviceworkerupdateviacache"><code><c- g>ServiceWorkerUpdateViaCache</c-></code></a> {
  <a href="#dom-serviceworkerupdateviacache-imports"><code><c- s>"imports"</c-></code></a>,
  <a href="#dom-serviceworkerupdateviacache-all"><code><c- s>"all"</c-></code></a>,
  <a href="#dom-serviceworkerupdateviacache-none"><code><c- s>"none"</c-></code></a>
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworkercontainer"><c- n>ServiceWorkerContainer</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerContainer" href="#navigator-service-worker-attribute"><c- g>serviceWorker</c-></a>;
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#workernavigator"><c- g>WorkerNavigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworkercontainer"><c- n>ServiceWorkerContainer</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerContainer" href="#navigator-service-worker-attribute"><c- g>serviceWorker</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#serviceworkercontainer"><code><c- g>ServiceWorkerContainer</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget"><c- n>EventTarget</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker?" href="#dom-serviceworkercontainer-controller"><c- g>controller</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<ServiceWorkerRegistration>" href="#dom-serviceworkercontainer-ready"><c- g>ready</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-register"><c- g>register</c-></a>((<a data-link-type="idl-name" href="https://w3c.github.io/trusted-types/dist/spec/#trustedscripturl"><c- n>TrustedScriptURL</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>) <a href="#dom-serviceworkercontainer-register-scripturl-options-scripturl"><code><c- g>scriptURL</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-registrationoptions"><c- n>RegistrationOptions</c-></a> <a href="#dom-serviceworkercontainer-register-scripturl-options-options"><code><c- g>options</c-></code></a> = {});

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-getregistration"><c- g>getRegistration</c-></a>(<c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-serviceworkercontainer-getregistration-clienturl-clienturl"><code><c- g>clientURL</c-></code></a> = "");
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-getregistrations"><c- g>getRegistrations</c-></a>();

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-serviceworkercontainer-startmessages"><c- g>startMessages</c-></a>();


  // events
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-oncontrollerchange"><c- g>oncontrollerchange</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-onmessage"><c- g>onmessage</c-></a>; // event.source of message events is ServiceWorker object
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkercontainer-onmessageerror"><c- g>onmessageerror</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-registrationoptions"><code><c- g>RegistrationOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString" href="#dom-registrationoptions-scope"><code><c- g>scope</c-></code></a>;
  <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workertype"><c- n>WorkerType</c-></a> <a data-default="&quot;classic&quot;" data-type="WorkerType" href="#dom-registrationoptions-type"><code><c- g>type</c-></code></a> = "classic";
  <a data-link-type="idl-name" href="#enumdef-serviceworkerupdateviacache"><c- n>ServiceWorkerUpdateViaCache</c-></a> <a data-default="&quot;imports&quot;" data-type="ServiceWorkerUpdateViaCache" href="#dom-registrationoptions-updateviacache"><code><c- g>updateViaCache</c-></code></a> = "imports";
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#navigationpreloadmanager"><code><c- g>NavigationPreloadManager</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-enable"><c- g>enable</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-disable"><c- g>disable</c-></a>();
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-setheadervalue"><c- g>setHeaderValue</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString"><c- b>ByteString</c-></a> <a href="#dom-navigationpreloadmanager-setheadervalue-value-value"><code><c- g>value</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-navigationpreloadstate"><c- n>NavigationPreloadState</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigationpreloadmanager-getstate"><c- g>getState</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-navigationpreloadstate"><code><c- g>NavigationPreloadState</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-navigationpreloadstate-enabled"><code><c- g>enabled</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString"><c- b>ByteString</c-></a> <a data-type="ByteString" href="#dom-navigationpreloadstate-headervalue"><code><c- g>headerValue</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Global"><c- g>Global</c-></a>=(<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#worker"><c- n>Worker</c-></a>,<a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a>), <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>]
<c- b>interface</c-> <a href="#serviceworkerglobalscope"><code><c- g>ServiceWorkerGlobalScope</c-></code></a> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope"><c- n>WorkerGlobalScope</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#clients"><c- n>Clients</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Clients" href="#dom-serviceworkerglobalscope-clients"><c- g>clients</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworkerregistration"><c- n>ServiceWorkerRegistration</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorkerRegistration" href="#dom-serviceworkerglobalscope-registration"><c- g>registration</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ServiceWorker" href="#dom-serviceworkerglobalscope-serviceworker"><c- g>serviceWorker</c-></a>;

  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-serviceworkerglobalscope-skipwaiting"><c- g>skipWaiting</c-></a>();

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-oninstall"><c- g>oninstall</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onactivate"><c- g>onactivate</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onfetch"><c- g>onfetch</c-></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onmessage"><c- g>onmessage</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-serviceworkerglobalscope-onmessageerror"><c- g>onmessageerror</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#client"><code><c- g>Client</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-client-url"><c- g>url</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-frametype"><c- n>FrameType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrameType" href="#dom-client-frametype"><c- g>frameType</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-client-id"><c- g>id</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-clienttype"><c- n>ClientType</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ClientType" href="#dom-client-type"><c- g>type</c-></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-client-postmessage"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-client-postmessage-message-transfer-message"><code><c- g>message</c-></code></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-object"><c- b>object</c-></a>> <a href="#dom-client-postmessage-message-transfer-transfer"><code><c- g>transfer</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-client-postmessage-message-options"><c- g>postMessage</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a href="#dom-client-postmessage-message-options-message"><code><c- g>message</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions"><c- n>StructuredSerializeOptions</c-></a> <a href="#dom-client-postmessage-message-options-options"><code><c- g>options</c-></code></a> = {});
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#windowclient"><code><c- g>WindowClient</c-></code></a> : <a data-link-type="idl-name" href="#client"><c- n>Client</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/interaction.html#page-visibility"><c- n>VisibilityState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="VisibilityState" href="#dom-windowclient-visibilitystate"><c- g>visibilityState</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-windowclient-focused"><c- g>focused</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<USVString>" href="#dom-windowclient-ancestororigins"><c- g>ancestorOrigins</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#windowclient"><c- n>WindowClient</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-windowclient-focus"><c- g>focus</c-></a>();
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#windowclient"><c- n>WindowClient</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-windowclient-navigate"><c- g>navigate</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-windowclient-navigate-url-url"><code><c- g>url</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-frametype"><code><c- g>FrameType</c-></code></a> {
  <a href="#dom-frametype-auxiliary"><code><c- s>"auxiliary"</c-></code></a>,
  <a href="#dom-frametype-top-level"><code><c- s>"top-level"</c-></code></a>,
  <a href="#dom-frametype-nested"><code><c- s>"nested"</c-></code></a>,
  <a href="#dom-frametype-none"><code><c- s>"none"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#clients"><code><c- g>Clients</c-></code></a> {
  // The objects returned will be new instances every time
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="#client"><c- n>Client</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-clients-get"><c- g>get</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-clients-get-id-id"><code><c- g>id</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="#client"><c- n>Client</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-clients-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-clientqueryoptions"><c- n>ClientQueryOptions</c-></a> <a href="#dom-clients-matchall-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#windowclient"><c- n>WindowClient</c-></a>?> <a class="idl-code" data-link-type="method" href="#dom-clients-openwindow"><c- g>openWindow</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-clients-openwindow-url-url"><code><c- g>url</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-clients-claim"><c- g>claim</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-clientqueryoptions"><code><c- g>ClientQueryOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-clientqueryoptions-includeuncontrolled"><code><c- g>includeUncontrolled</c-></code></a> = <c- b>false</c->;
  <a data-link-type="idl-name" href="#enumdef-clienttype"><c- n>ClientType</c-></a> <a data-default="&quot;window&quot;" data-type="ClientType" href="#dom-clientqueryoptions-type"><code><c- g>type</c-></code></a> = "window";
};

<c- b>enum</c-> <a href="#enumdef-clienttype"><code><c- g>ClientType</c-></code></a> {
  <a href="#dom-clienttype-window"><code><c- s>"window"</c-></code></a>,
  <a href="#dom-clienttype-worker"><code><c- s>"worker"</c-></code></a>,
  <a href="#dom-clienttype-sharedworker"><code><c- s>"sharedworker"</c-></code></a>,
  <a href="#dom-clienttype-all"><code><c- s>"all"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#extendableevent"><code><c- g>ExtendableEvent</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event"><c- n>Event</c-></a> {
  <a href="#dom-extendableevent-extendableevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-extendableevent-extendableevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> <a href="#dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-extendableevent-waituntil"><c- g>waitUntil</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a href="#dom-extendableevent-waituntil-f-f"><code><c- g>f</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-extendableeventinit"><code><c- g>ExtendableEventInit</c-></code></a> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit"><c- n>EventInit</c-></a> {
  // Defined for the forward compatibility across the derived events
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#installevent"><code><c- g>InstallEvent</c-></code></a> : <a data-link-type="idl-name" href="#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-installevent-installevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-installevent-installevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> <a href="#dom-installevent-installevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-installevent-addroutes"><c- g>addRoutes</c-></a>((<a data-link-type="idl-name" href="#dictdef-routerrule"><c- n>RouterRule</c-></a> <c- b>or</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-routerrule"><c- n>RouterRule</c-></a>>) <a href="#dom-installevent-addroutes-rules-rules"><code><c- g>rules</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-routerrule"><code><c- g>RouterRule</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="#dictdef-routercondition"><c- n>RouterCondition</c-></a> <a data-type="RouterCondition" href="#dom-routerrule-condition"><code><c- g>condition</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#typedefdef-routersource"><c- n>RouterSource</c-></a> <a data-type="RouterSource" href="#dom-routerrule-source"><code><c- g>source</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-routercondition"><code><c- g>RouterCondition</c-></code></a> {
  <a data-link-type="idl-name" href="https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible"><c- n>URLPatternCompatible</c-></a> <a data-type="URLPatternCompatible" href="#dom-routercondition-urlpattern"><code><c- g>urlPattern</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ByteString"><c- b>ByteString</c-></a> <a data-type="ByteString" href="#dom-routercondition-requestmethod"><code><c- g>requestMethod</c-></code></a>;
  <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestmode"><c- n>RequestMode</c-></a> <a data-type="RequestMode" href="#dom-routercondition-requestmode"><code><c- g>requestMode</c-></code></a>;
  <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestdestination"><c- n>RequestDestination</c-></a> <a data-type="RequestDestination" href="#dom-routercondition-requestdestination"><code><c- g>requestDestination</c-></code></a>;
  <a data-link-type="idl-name" href="#enumdef-runningstatus"><c- n>RunningStatus</c-></a> <a data-type="RunningStatus" href="#dom-routercondition-runningstatus"><code><c- g>runningStatus</c-></code></a>;

  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-routercondition"><c- n>RouterCondition</c-></a>> <a data-type="sequence<RouterCondition>" href="#dom-routercondition-or"><code><c- g>_or</c-></code></a>;
  <a data-link-type="idl-name" href="#dictdef-routercondition"><c- n>RouterCondition</c-></a> <a data-type="RouterCondition" href="#dom-routercondition-not"><code><c- g>not</c-></code></a>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="#dictdef-routersourcedict"><c- n>RouterSourceDict</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#enumdef-routersourceenum"><c- n>RouterSourceEnum</c-></a>) <a href="#typedefdef-routersource"><code><c- g>RouterSource</c-></code></a>;

<c- b>dictionary</c-> <a href="#dictdef-routersourcedict"><code><c- g>RouterSourceDict</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-routersourcedict-cachename"><code><c- g>cacheName</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-runningstatus"><code><c- g>RunningStatus</c-></code></a> { <a href="#dom-runningstatus-running"><code><c- s>"running"</c-></code></a>, <a href="#dom-runningstatus-not-running"><code><c- s>"not-running"</c-></code></a> };
<c- b>enum</c-> <a href="#enumdef-routersourceenum"><code><c- g>RouterSourceEnum</c-></code></a> {
  <a href="#dom-routersourceenum-cache"><code><c- s>"cache"</c-></code></a>,
  <a href="#dom-routersourceenum-fetch-event"><code><c- s>"fetch-event"</c-></code></a>,
  <a href="#dom-routersourceenum-network"><code><c- s>"network"</c-></code></a>,
  <a href="#dom-routersourceenum-race-network-and-fetch-handler"><code><c- s>"race-network-and-fetch-handler"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#fetchevent"><code><c- g>FetchEvent</c-></code></a> : <a data-link-type="idl-name" href="#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-fetchevent-fetchevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-fetchevent-fetchevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <a data-link-type="idl-name" href="#dictdef-fetcheventinit"><c- n>FetchEventInit</c-></a> <a href="#dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request"><c- n>Request</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Request" href="#dom-fetchevent-request"><c- g>request</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<any>" href="#dom-fetchevent-preloadresponse"><c- g>preloadResponse</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-fetchevent-clientid"><c- g>clientId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-fetchevent-resultingclientid"><c- g>resultingClientId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-fetchevent-replacesclientid"><c- g>replacesClientId</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Promise<undefined>" href="#dom-fetchevent-handled"><c- g>handled</c-></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fetchevent-respondwith"><c- g>respondWith</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a>> <a href="#dom-fetchevent-respondwith-r-r"><code><c- g>r</c-></code></a>);
};

<c- b>dictionary</c-> <a href="#dictdef-fetcheventinit"><code><c- g>FetchEventInit</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request"><c- n>Request</c-></a> <a data-type="Request" href="#dom-fetcheventinit-request"><code><c- g>request</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a>> <a data-type="Promise<any>" href="#dom-fetcheventinit-preloadresponse"><code><c- g>preloadResponse</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;&quot;" data-type="DOMString" href="#dom-fetcheventinit-clientid"><code><c- g>clientId</c-></code></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;&quot;" data-type="DOMString" href="#dom-fetcheventinit-resultingclientid"><code><c- g>resultingClientId</c-></code></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;&quot;" data-type="DOMString" href="#dom-fetcheventinit-replacesclientid"><code><c- g>replacesClientId</c-></code></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a data-type="Promise<undefined>" href="#dom-fetcheventinit-handled"><code><c- g>handled</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>ServiceWorker</c->]
<c- b>interface</c-> <a href="#extendablemessageevent"><code><c- g>ExtendableMessageEvent</c-></code></a> : <a data-link-type="idl-name" href="#extendableevent"><c- n>ExtendableEvent</c-></a> {
  <a href="#dom-extendablemessageevent-extendablemessageevent"><code><c- g>constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-extendablemessageeventinit"><c- n>ExtendableMessageEventInit</c-></a> <a href="#dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="any" href="#dom-extendablemessageevent-data"><c- g>data</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="USVString" href="#dom-extendablemessageevent-origin"><c- g>origin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMString" href="#dom-extendablemessageevent-lasteventid"><c- g>lastEventId</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> (<a data-link-type="idl-name" href="#client"><c- n>Client</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"><c- n>MessagePort</c-></a>)? <a class="idl-code" data-link-type="attribute" data-readonly data-type="(Client or ServiceWorker or MessagePort)?" href="#dom-extendablemessageevent-source"><c- g>source</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"><c- n>MessagePort</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<MessagePort>" href="#dom-extendablemessageevent-ports"><c- g>ports</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-extendablemessageeventinit"><code><c- g>ExtendableMessageEventInit</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-extendableeventinit"><c- n>ExtendableEventInit</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-any"><c- b>any</c-></a> <a data-default="null" data-type="any" href="#dom-extendablemessageeventinit-data"><code><c- g>data</c-></code></a> = <c- b>null</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-default="&quot;&quot;" data-type="USVString" href="#dom-extendablemessageeventinit-origin"><code><c- g>origin</c-></code></a> = "";
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-default="&quot;&quot;" data-type="DOMString" href="#dom-extendablemessageeventinit-lasteventid"><code><c- g>lastEventId</c-></code></a> = "";
  (<a data-link-type="idl-name" href="#client"><c- n>Client</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#serviceworker"><c- n>ServiceWorker</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"><c- n>MessagePort</c-></a>)? <a data-default="null" data-type="(Client or ServiceWorker or MessagePort)?" href="#dom-extendablemessageeventinit-source"><code><c- g>source</c-></code></a> = <c- b>null</c->;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"><c- n>MessagePort</c-></a>> <a data-default="[]" data-type="sequence<MessagePort>" href="#dom-extendablemessageeventinit-ports"><code><c- g>ports</c-></code></a> = [];
};

<c- b>partial</c-> <c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"><c- g>WindowOrWorkerGlobalScope</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#cachestorage"><c- n>CacheStorage</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="CacheStorage" href="#global-caches-attribute"><c- g>caches</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#cache"><code><c- g>Cache</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-cache-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-match-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-cache-match-request-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cache-matchall"><c- g>matchAll</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-matchall-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-cache-matchall-request-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-add"><c- g>add</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-add-request-request"><code><c- g>request</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-addall"><c- g>addAll</c-></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a>> <a href="#dom-cache-addall-requests-requests"><code><c- g>requests</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-put"><c- g>put</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-put-request-response-request"><code><c- g>request</c-></code></a>, <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a> <a href="#dom-cache-put-request-response-response"><code><c- g>response</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cache-delete"><c- g>delete</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-delete-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-cache-delete-request-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-frozen-array"><c- b>FrozenArray</c-></a>&lt;<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#request"><c- n>Request</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cache-keys"><c- g>keys</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cache-keys-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> <a href="#dom-cache-keys-request-options-options"><code><c- g>options</c-></code></a> = {});
};

<c- b>dictionary</c-> <a href="#dictdef-cachequeryoptions"><code><c- g>CacheQueryOptions</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cachequeryoptions-ignoresearch"><code><c- g>ignoreSearch</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cachequeryoptions-ignoremethod"><code><c- g>ignoreMethod</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean" href="#dom-cachequeryoptions-ignorevary"><code><c- g>ignoreVary</c-></code></a> = <c- b>false</c->;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=(<c- n>Window</c->,<c- n>Worker</c->)]
<c- b>interface</c-> <a href="#cachestorage"><code><c- g>CacheStorage</c-></code></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#response"><c- n>Response</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>)> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-match"><c- g>match</c-></a>(<a data-link-type="idl-name" href="https://fetch.spec.whatwg.org/#requestinfo"><c- n>RequestInfo</c-></a> <a href="#dom-cachestorage-match-request-options-request"><code><c- g>request</c-></code></a>, <c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-multicachequeryoptions"><c- n>MultiCacheQueryOptions</c-></a> <a href="#dom-cachestorage-match-request-options-options"><code><c- g>options</c-></code></a> = {});
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-has"><c- g>has</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-cachestorage-has-cachename-cachename"><code><c- g>cacheName</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#cache"><c- n>Cache</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-open"><c- g>open</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-cachestorage-open-cachename-cachename"><code><c- g>cacheName</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-delete"><c- g>delete</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-cachestorage-delete-cachename-cachename"><code><c- g>cacheName</c-></code></a>);
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#NewObject"><c- g>NewObject</c-></a>] <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>>> <a class="idl-code" data-link-type="method" href="#dom-cachestorage-keys"><c- g>keys</c-></a>();
};

<c- b>dictionary</c-> <a href="#dictdef-multicachequeryoptions"><code><c- g>MultiCacheQueryOptions</c-></code></a> : <a data-link-type="idl-name" href="#dictdef-cachequeryoptions"><c- n>CacheQueryOptions</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString" href="#dom-multicachequeryoptions-cachename"><code><c- g>cacheName</c-></code></a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> The behavior in this section is not fully specified yet and will be specified in <a href="https://html.spec.whatwg.org">HTML Standard</a>. The work is tracked by the <a href="https://github.com/w3c/ServiceWorker/issues/765">issue</a> and the <a href="https://github.com/whatwg/html/pull/2809">pull request</a>. <a class="issue-return" href="#issue-f6a7ea80" title="Jump to section">↵</a></div>
   <div class="issue"> Using the to-be-created <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">environment settings object</a> rather than a concrete <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">environment settings object</a>. This is used due to the unique processing model of service workers compared to the processing model of other <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#workers">web workers</a>. The script fetching algorithms of HTML standard originally designed for other <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/workers.html#workers">web workers</a> require an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object">environment settings object</a> of the execution environment, but service workers fetch a script separately in the <a data-link-type="dfn" href="#update">Update</a> algorithm before the script later runs multiple times through the <a data-link-type="dfn" href="#run-service-worker">Run Service Worker</a> algorithm. <a class="issue-return" href="#issue-02e2fe82" title="Jump to section">↵</a></div>
   <div class="issue"> The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script">fetch a classic worker script</a> algorithm and the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree">fetch a module worker script graph</a> algorithm in HTML take <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client">client</a> as an argument. <var>job</var>’s <a data-link-type="dfn" href="#dfn-job-client">client</a> is null when passed from the <a data-link-type="dfn" href="#soft-update">Soft Update</a> algorithm. <a class="issue-return" href="#issue-9d9e65b5" title="Jump to section">↵</a></div>
  </div>
  <details class="mdn-anno unpositioned" data-anno-for="cache-add">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/add" title="The add() method of the Cache interface takes a URL, retrieves it, and adds the resulting response object to the given cache.">Cache/add</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>44+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-addAll">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/addAll" title="The addAll() method of the Cache interface takes an array of URLs, retrieves them, and adds the resulting response objects to the given cache. The request objects created during retrieval become keys to the stored response operations.">Cache/addAll</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>46+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-delete">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete" title="The delete() method of the Cache interface finds the Cache entry whose key is the request, and if found, deletes the Cache entry and returns a Promise that resolves to true. If no Cache entry is found, it resolves to false.">Cache/delete</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>43+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-keys">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/keys" title="The keys() method of the Cache interface returns a Promise that resolves to an array of Request objects representing the keys of the Cache.">Cache/keys</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>43+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-match">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/match" title="The match() method of the Cache interface returns a Promise that resolves to the Response associated with the first matching request in the Cache object. If no match is found, the Promise resolves to undefined.">Cache/match</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>43+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-matchall">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/matchAll" title="The matchAll() method of the Cache interface returns a Promise that resolves to an array of all matching responses in the Cache object.">Cache/matchAll</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>47+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>34+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-put">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache/put" title="The put() method of the Cache interface allows key/value pairs to be added to the current Cache object.">Cache/put</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>43+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache" title="The Cache interface provides a persistent storage mechanism for Request / Response object pairs that are cached in long lived memory. How long a Cache object lives is browser dependent, but a single origin&apos;s scripts can typically rely on the presence of a previously populated Cache object. Note that the Cache interface is exposed to windowed scopes as well as workers. You don&apos;t have to use it in conjunction with service workers, even though it is defined in the service worker spec.">Cache</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-delete">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/delete" title="The delete() method of the CacheStorage interface finds the Cache object matching the cacheName, and if found, deletes the Cache object and returns a Promise that resolves to true. If no Cache object is found, it resolves to false.">CacheStorage/delete</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-has">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/has" title="The has() method of the CacheStorage interface returns a Promise that resolves to true if a Cache object matches the cacheName.">CacheStorage/has</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-keys">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/keys" title="The keys() method of the CacheStorage interface returns a Promise that will resolve with an array containing strings corresponding to all of the named Cache objects tracked by the CacheStorage object in the order they were created. Use this method to iterate over a list of all Cache objects.">CacheStorage/keys</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-match">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/match" title="The match() method of the CacheStorage interface checks if a given Request or URL string is a key for a stored Response. This method returns a Promise for a Response, or a Promise which resolves to undefined if no match is found.">CacheStorage/match</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>54+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cache-storage-open">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage/open" title="The open() method of the CacheStorage interface returns a Promise that resolves to the Cache object matching the cacheName.">CacheStorage/open</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="cachestorage-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/CacheStorage" title="The CacheStorage interface represents the storage for Cache objects.">CacheStorage</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>43+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-frametype">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/frameType" title="The frameType read-only property of the Client interface indicates the type of browsing context of the current Client. This value can be one of &quot;auxiliary&quot;, &quot;top-level&quot;, &quot;nested&quot;, or &quot;none&quot;.">Client/frameType</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>43+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-id">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/id" title="The id read-only property of the Client interface returns the universally unique identifier of the Client object.">Client/id</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-client-postmessage-message-options">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/postMessage" title="The postMessage() method of the Client interface allows a service worker to send a message to a client (a Window, Worker, or SharedWorker). The message is received in the &quot;message&quot; event on navigator.serviceWorker.">Client/postMessage</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-type">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/type" title="The type read-only property of the Client interface indicates the type of client the service worker is controlling.">Client/type</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>54+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>60+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-url">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client/url" title="The url read-only property of the Client interface returns the URL of the current service worker client.">Client/url</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Client" title="The Client interface represents an executable context such as a Worker, or a SharedWorker. Window clients are represented by the more-specific WindowClient. You can get Client/WindowClient objects from methods such as Clients.matchAll() and Clients.get().">Client</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-claim">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients/claim" title="The claim() method of the Clients interface allows an active service worker to set itself as the controller for all clients within its scope. This triggers a &quot;controllerchange&quot; event on navigator.serviceWorker in any clients that become controlled by this service worker.">Clients/claim</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>42+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-get">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients/get" title="The get() method of the Clients interface gets a service worker client matching a given id and returns it in a Promise.">Clients/get</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>45+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>51+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-matchall">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients/matchAll" title="The matchAll() method of the Clients interface returns a Promise for a list of service worker Client objects. Include the options parameter to return all service worker clients whose origin is the same as the associated service worker&apos;s origin. If options are not included, the method returns only the service worker clients controlled by the service worker.">Clients/matchAll</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>54+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>42+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>29+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>29+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-openwindow">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients/openWindow" title="The openWindow() method of the Clients interface creates a new top level browsing context and loads a given URL. If the calling script doesn&apos;t have permission to show popups, openWindow() will throw an InvalidAccessError.">Clients/openWindow</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>38+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>41+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="clients-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Clients" title="The Clients interface provides access to Client objects. Access it via self.clients within a service worker.">Clients</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-extendableevent-extendableevent">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableEvent/ExtendableEvent" title="The ExtendableEvent() constructor creates a new ExtendableEvent object.">ExtendableEvent/ExtendableEvent</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>41+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-extendableevent-waituntil">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableEvent/waitUntil" title="The ExtendableEvent.waitUntil() method tells the event dispatcher that work is ongoing. It can also be used to detect whether that work was successful. In service workers, waitUntil() tells the browser that work is ongoing until the promise settles, and it shouldn&apos;t terminate the service worker if it wants that work to complete.">ExtendableEvent/waitUntil</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendableevent-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableEvent" title="The ExtendableEvent interface extends the lifetime of the install and activate events dispatched on the global scope as part of the service worker lifecycle. This ensures that any functional events (like FetchEvent) are not dispatched until it upgrades database schemas and deletes the outdated cache entries.">ExtendableEvent</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-extendablemessageevent-extendablemessageevent">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/ExtendableMessageEvent" title="The ExtendableMessageEvent() constructor creates a new ExtendableMessageEvent object.">ExtendableMessageEvent/ExtendableMessageEvent</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>51+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-data">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/data" title="The data read-only property of the ExtendableMessageEvent interface returns the event&apos;s data. It can be any data type.">ExtendableMessageEvent/data</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>51+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-lasteventid">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/lastEventId" title="The lastEventID read-only property of the ExtendableMessageEvent interface represents, in server-sent events, the last event ID of the event source. This is an empty string.">ExtendableMessageEvent/lastEventId</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>51+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-origin">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/origin" title="The origin read-only property of the ExtendableMessageEvent interface returns the origin of the Client that sent the message.">ExtendableMessageEvent/origin</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>51+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-ports">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/ports" title="The ports read-only property of the ExtendableMessageEvent interface returns the array containing the MessagePort objects representing the ports of the associated message channel (the channel the message is being sent through.)">ExtendableMessageEvent/ports</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>51+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessage-event-source">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent/source" title="The source read-only property of the ExtendableMessageEvent interface returns a reference to the Client object from which the message was sent.">ExtendableMessageEvent/source</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>51+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="extendablemessageevent-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ExtendableMessageEvent" title="The ExtendableMessageEvent interface of the Service Worker API represents the event object of a message event fired on a service worker (when a message is received on the ServiceWorkerGlobalScope from another context) — extends the lifetime of such events.">ExtendableMessageEvent</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>51+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fetchevent-fetchevent">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/FetchEvent" title="The FetchEvent() constructor creates a new FetchEvent object.">FetchEvent/FetchEvent</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>44+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-clientid">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/clientId" title="The clientId read-only property of the FetchEvent interface returns the id of the Client that the current service worker is controlling.">FetchEvent/clientId</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>45+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>49+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-fetchevent-handled">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/handled" title="The handled property of the FetchEvent interface returns a promise indicating if the event has been handled by the fetch algorithm or not. This property allows executing code after the browser has consumed a response, and is usually used together with the waitUntil() method.">FetchEvent/handled</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>84+</span></span><span class="safari yes"><span>Safari</span><span>16+</span></span><span class="chrome yes"><span>Chrome</span><span>86+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>86+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-preloadresponse">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/preloadResponse" title="The preloadResponse read-only property of the FetchEvent interface returns a Promise that resolves to the navigation preload Response if navigation preload was triggered, or undefined otherwise.">FetchEvent/preloadResponse</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>59+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-replacesClientId">
   <summary><b class="less-than-two-engines-flag" title="This feature is in less than two current engines.">⚠</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/replacesClientId" title="The replacesClientId read-only property of the FetchEvent interface is the id of the client that is being replaced during a page navigation.">FetchEvent/replacesClientId</a></p>
    <p class="less-than-two-engines-text">In no current engines.</p>
    <div class="support">
     <span class="firefox no"><span>Firefox</span><span>None</span></span><span class="safari no"><span>Safari</span><span>None</span></span><span class="chrome no"><span>Chrome</span><span>None</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink no"><span>Edge</span><span>None</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-request">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/request" title="The request read-only property of the FetchEvent interface returns the Request that triggered the event handler.">FetchEvent/request</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-respondwith">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/respondWith" title="The respondWith() method of FetchEvent prevents the browser&apos;s default fetch handling, and allows you to provide a promise for a Response yourself.">FetchEvent/respondWith</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>42+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetch-event-resultingclientid">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent/resultingClientId" title="The resultingClientId read-only property of the FetchEvent interface is the id of the client that replaces the previous client during a page navigation.">FetchEvent/resultingClientId</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>65+</span></span><span class="safari yes"><span>Safari</span><span>16+</span></span><span class="chrome yes"><span>Chrome</span><span>72+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>50+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="fetchevent-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent" title="This is the event type for fetch events dispatched on the service worker global scope. It contains information about the fetch, including the request and how the receiver will treat the response. It provides the event.respondWith() method, which allows us to provide a response to this fetch.">FetchEvent</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-navigationpreloadmanager-disable">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager/disable" title="The disable() method of the NavigationPreloadManager interface halts the automatic preloading of service-worker-managed resources previously started using enable() It returns a promise that resolves with undefined.">NavigationPreloadManager/disable</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>59+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-navigationpreloadmanager-enable">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager/enable" title="The enable() method of the NavigationPreloadManager interface is used to enable preloading of resources managed by the service worker. It returns a promise that resolves with undefined.">NavigationPreloadManager/enable</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>59+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-navigationpreloadmanager-getstate">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager/getState" title="The getState() method of the NavigationPreloadManager interface returns a Promise that resolves to an object with properties that indicate whether preload is enabled and what value will be sent in the Service-Worker-Navigation-Preload HTTP header.">NavigationPreloadManager/getState</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>59+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-navigationpreloadmanager-setheadervalue">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager/setHeaderValue" title="The setHeaderValue() method of the NavigationPreloadManager interface sets the value of the Service-Worker-Navigation-Preload header that will be sent with requests resulting from a fetch() operation made during service worker navigation preloading. It returns an empty Promise that resolves with undefined.">NavigationPreloadManager/setHeaderValue</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>59+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigation-preload-manager">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/NavigationPreloadManager" title="The NavigationPreloadManager interface of the Service Worker API provides methods for managing the preloading of resources in parallel with service worker bootup.">NavigationPreloadManager</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>59+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-attribute">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/serviceWorker" title="The Navigator.serviceWorker read-only property returns the ServiceWorkerContainer object for the associated document, which provides access to registration, removal, upgrade, and communication with the ServiceWorker.">Navigator/serviceWorker</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworker-postmessage">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/postMessage" title="The postMessage() method of the ServiceWorker interface sends a message to the worker. This accepts a single parameter, which is the data to send to the worker. The data may be any JavaScript object which can be handled by the structured clone algorithm.">ServiceWorker/postMessage</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworker-postmessage-message-options">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/postMessage" title="The postMessage() method of the ServiceWorker interface sends a message to the worker. This accepts a single parameter, which is the data to send to the worker. The data may be any JavaScript object which can be handled by the structured clone algorithm.">ServiceWorker/postMessage</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-url">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/scriptURL" title="Returns the ServiceWorker serialized script URL defined as part of ServiceWorkerRegistration. Must be on the same origin as the document that registers the ServiceWorker.">ServiceWorker/scriptURL</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-state">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/state" title="The state read-only property of the ServiceWorker interface returns a string representing the current state of the service worker. It can be one of the following values: parsed, installing, installed, activating, activated, or redundant.">ServiceWorker/state</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworker-onstatechange">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker/statechange_event" title="The statechange event fires anytime the ServiceWorker.state changes.">ServiceWorker/statechange_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="serviceworker-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorker" title="The ServiceWorker interface of the Service Worker API provides a reference to a service worker. Multiple browsing contexts (e.g. pages, workers, etc.) can be associated with the same service worker, each through a unique ServiceWorker object.">ServiceWorker</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-controller">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/controller" title="The controller read-only property of the ServiceWorkerContainer interface returns a ServiceWorker object if its state is activating or activated (the same object returned by ServiceWorkerRegistration.active). This property returns null if the request is a force refresh (Shift + refresh) or if there is no active worker.">ServiceWorkerContainer/controller</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkercontainer-oncontrollerchange">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/controllerchange_event" title="The controllerchange event of the ServiceWorkerContainer interface fires when the document&apos;s associated ServiceWorkerRegistration acquires a new active worker.">ServiceWorkerContainer/controllerchange_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-getRegistration">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/getRegistration" title="The getRegistration() method of the ServiceWorkerContainer interface gets a ServiceWorkerRegistration object whose scope URL matches the provided client URL. The method returns a Promise that resolves to a ServiceWorkerRegistration or undefined.">ServiceWorkerContainer/getRegistration</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-getRegistrations">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/getRegistrations" title="The getRegistrations() method of the ServiceWorkerContainer interface gets all ServiceWorkerRegistrations associated with a ServiceWorkerContainer, in an array. The method returns a Promise that resolves to an array of ServiceWorkerRegistration.">ServiceWorkerContainer/getRegistrations</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>45+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>27+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>40+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>27+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkercontainer-onmessage">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/message_event" title="The message event is used in a page controlled by a service worker to receive messages from the service worker.">ServiceWorkerContainer/message_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-ready">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/ready" title="The ready read-only property of the ServiceWorkerContainer interface provides a way of delaying code execution until a service worker is active. It returns a Promise that will never reject, and which waits indefinitely until the ServiceWorkerRegistration associated with the current page has an active worker. Once that condition is met, it resolves with the ServiceWorkerRegistration.">ServiceWorkerContainer/ready</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-register">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/register" title="The register() method of the ServiceWorkerContainer interface creates or updates a ServiceWorkerRegistration for the given scriptURL.">ServiceWorkerContainer/register</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-startMessages">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer/startMessages" title="The startMessages() method of the ServiceWorkerContainer interface explicitly starts the flow of messages being dispatched from a service worker to pages under its control (e.g. sent via Client.postMessage()). This can be used to react to sent messages earlier, even before that page&apos;s content has finished loading.">ServiceWorkerContainer/startMessages</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>64+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>74+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge no"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>50+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="serviceworkercontainer-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerContainer" title="The ServiceWorkerContainer interface of the Service Worker API provides an object representing the service worker as an overall unit in the network ecosystem, including facilities to register, unregister and update service workers, and access the state of service workers and their registrations.">ServiceWorkerContainer</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-global-scope-activate-event">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/activate_event" title="The activate event of the ServiceWorkerGlobalScope interface is fired when a ServiceWorkerRegistration acquires a new ServiceWorkerRegistration.active worker.">ServiceWorkerGlobalScope/activate_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onactivate">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/activate_event" title="The activate event of the ServiceWorkerGlobalScope interface is fired when a ServiceWorkerRegistration acquires a new ServiceWorkerRegistration.active worker.">ServiceWorkerGlobalScope/activate_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-global-scope-clients">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/clients" title="The clients read-only property of the ServiceWorkerGlobalScope interface returns the Clients object associated with the service worker.">ServiceWorkerGlobalScope/clients</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onfetch">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/fetch_event" title="The fetch event is fired in the service worker&apos;s global scope when the main app thread makes a network request. It enables the service worker to intercept network requests and send customized responses (for example, from a local cache).">ServiceWorkerGlobalScope/fetch_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-oninstall">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/install_event" title="The install event of the ServiceWorkerGlobalScope interface is fired when a ServiceWorkerRegistration acquires a new ServiceWorkerRegistration.installing worker.">ServiceWorkerGlobalScope/install_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="eventdef-serviceworkerglobalscope-message">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/message_event" title="The message event of the ServiceWorkerGlobalScope interface occurs when incoming messages are received. Controlled pages can use the ServiceWorker.postMessage() method to send messages to service workers. The service worker can optionally send a response back via the Client.postMessage(), corresponding to the controlled page.">ServiceWorkerGlobalScope/message_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerglobalscope-onmessage">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/message_event" title="The message event of the ServiceWorkerGlobalScope interface occurs when incoming messages are received. Controlled pages can use the ServiceWorker.postMessage() method to send messages to service workers. The service worker can optionally send a response back via the Client.postMessage(), corresponding to the controlled page.">ServiceWorkerGlobalScope/message_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-global-scope-registration">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/registration" title="The registration read-only property of the ServiceWorkerGlobalScope interface returns a reference to the ServiceWorkerRegistration object, which represents the service worker&apos;s registration.">ServiceWorkerGlobalScope/registration</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>42+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>26+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>26+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-global-scope-skipwaiting">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/skipWaiting" title="The ServiceWorkerGlobalScope.skipWaiting() method of the ServiceWorkerGlobalScope forces the waiting service worker to become the active service worker.">ServiceWorkerGlobalScope/skipWaiting</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>41+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>25+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>25+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="serviceworkerglobalscope-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope" title="The ServiceWorkerGlobalScope interface of the Service Worker API represents the global execution context of a service worker.">ServiceWorkerGlobalScope</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera yes"><span>Opera</span><span>24+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Mobile</span><span>24+</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-active">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/active" title="The active property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is activating or activated. This property is initially set to null.">ServiceWorkerRegistration/active</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-installing">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/installing" title="The installing property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installing. This property is initially set to null.">ServiceWorkerRegistration/installing</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-registration-navigationpreload">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/navigationPreload" title="The navigationPreload read-only property of the ServiceWorkerRegistration interface returns the NavigationPreloadManager associated with the current service worker registration.">ServiceWorkerRegistration/navigationPreload</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>99+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>59+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-registration-scope">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/scope" title="The scope read-only property of the ServiceWorkerRegistration interface returns a unique identifier for a service worker registration. The service worker must be on the same origin as the document that registers the ServiceWorker.">ServiceWorkerRegistration/scope</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-unregister">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/unregister" title="The unregister() method of the ServiceWorkerRegistration interface unregisters the service worker registration and returns a Promise. The promise will resolve to false if no registration was found, otherwise it resolves to true irrespective of whether unregistration happened or not (it may not unregister if someone else just called ServiceWorkerContainer.register() with the same scope.) The service worker will finish any ongoing operations before it is unregistered.">ServiceWorkerRegistration/unregister</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-registration-update">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/update" title="The update() method of the ServiceWorkerRegistration interface attempts to update the service worker. It fetches the worker&apos;s script URL, and if the new worker is not byte-by-byte identical to the current worker, it installs the new worker. The fetch of the worker bypasses any browser caches if the previous fetch occurred over 24 hours ago.">ServiceWorkerRegistration/update</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>45+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="dom-serviceworkerregistration-onupdatefound">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updatefound_event" title="The updatefound event of the ServiceWorkerRegistration interface is fired any time the ServiceWorkerRegistration.installing property acquires a new service worker.">ServiceWorkerRegistration/updatefound_event</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="service-worker-registration-updateviacache">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/updateViaCache" title="The updateViaCache read-only property of the ServiceWorkerRegistration interface updates the cache using the mode specified in the call to ServiceWorkerContainer.register. Requests for importScripts still go via the HTTP cache. updateViaCache offers control over this behavior.">ServiceWorkerRegistration/updateViaCache</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>57+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>68+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="navigator-service-worker-waiting">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/waiting" title="The waiting property of the ServiceWorkerRegistration interface returns a service worker whose ServiceWorker.state is installed. This property is initially set to null.">ServiceWorkerRegistration/waiting</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="serviceworkerregistration-interface">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration" title="The ServiceWorkerRegistration interface of the Service Worker API represents the service worker registration. You register a service worker to control one or more pages that share the same origin.">ServiceWorkerRegistration</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-focus">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/focus" title="The focus() method of the WindowClient interface gives user input focus to the current client and returns a Promise that resolves to the existing WindowClient.">WindowClient/focus</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>42+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-focused">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/focused" title="The focused read-only property of the WindowClient interface is a boolean value that indicates whether the current client has focus.">WindowClient/focused</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>42+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-navigate">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/navigate" title="The navigate() method of the WindowClient interface loads a specified URL into a controlled client page then returns a Promise that resolves to the existing WindowClient.">WindowClient/navigate</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>50+</span></span><span class="safari yes"><span>Safari</span><span>16+</span></span><span class="chrome yes"><span>Chrome</span><span>49+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android yes"><span>Android WebView</span><span>42+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>4.0+</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="client-visibilitystate">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient/visibilityState" title="The visibilityState read-only property of the WindowClient interface indicates the visibility of the current client. This value can be one of &quot;hidden&quot;, &quot;visible&quot;, or &quot;prerender&quot;.">WindowClient/visibilityState</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>42+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="windowclient">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowClient" title="The WindowClient interface of the ServiceWorker API represents the scope of a service worker client that is a document in a browsing context, controlled by an active worker. The service worker client independently selects and uses a service worker for its own loading and sub-resources.">WindowClient</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>44+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>42+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>17+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="self-caches">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/caches" title="The global caches read-only property returns the CacheStorage object associated with the current context. This object enables functionality such as storing assets for offline use, and generating custom responses to requests.">caches</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>41+</span></span><span class="safari yes"><span>Safari</span><span>11.1+</span></span><span class="chrome yes"><span>Chrome</span><span>40+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>16+</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
  <details class="mdn-anno unpositioned" data-anno-for="handle-fetch">
   <summary><b class="all-engines-flag" title="This feature is in all current engines.">✔</b><span>MDN</span></summary>
   <div class="feature">
    <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Service-Worker-Navigation-Preload" title="The Service-Worker-Navigation-Preload request header indicates that the request was the result of a fetch() operation made during service worker navigation preloading. It allows a server to respond with a different resource than for a normal fetch().">Headers/Service-Worker-Navigation-Preload</a></p>
    <p class="all-engines-text">In all current engines.</p>
    <div class="support">
     <span class="firefox yes"><span>Firefox</span><span>preview+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>59+</span></span>
     <hr>
     <span class="opera no"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span>
     <hr>
     <span class="edge yes"><span>Edge (Legacy)</span><span>18</span></span><span class="ie no"><span>IE</span><span>None</span></span>
     <hr>
     <span class="firefox_android no"><span>Firefox for Android</span><span>?</span></span><span class="safari_ios no"><span>iOS Safari</span><span>?</span></span><span class="chrome_android no"><span>Chrome for Android</span><span>?</span></span><span class="webview_android no"><span>Android WebView</span><span>?</span></span><span class="samsunginternet_android no"><span>Samsung Internet</span><span>?</span></span><span class="opera_android no"><span>Opera Mobile</span><span>?</span></span>
    </div>
   </div>
  </details>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"00f91d3b": {"dfnID":"00f91d3b","dfnText":"fetch(input, init)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-global-fetch"}],"title":"4.8. Events"}],"url":"https://fetch.spec.whatwg.org/#dom-global-fetch"},
"03675365": {"dfnID":"03675365","dfnText":"event handler IDL attribute","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-idl-attributes"}],"title":"3.1.6. Event handler"},{"refs":[{"id":"ref-for-event-handler-idl-attributes\u2460"}],"title":"3.2.10. Event handler"},{"refs":[{"id":"ref-for-event-handler-idl-attributes\u2461"}],"title":"3.4.7. Event handlers"},{"refs":[{"id":"ref-for-event-handler-idl-attributes\u2462"}],"title":"4.1.5. Event handlers"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"},
"055980d9": {"dfnID":"055980d9","dfnText":"cancel (for ReadableStreamDefaultReader)","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestreamdefaultreader-cancel"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestreamdefaultreader-cancel"},
"061c440e": {"dfnID":"061c440e","dfnText":"cross-origin isolated capability","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-workerglobalscope-cross-origin-isolated-capability"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-concept-workerglobalscope-cross-origin-isolated-capability\u2460"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability"},
"06950d36": {"dfnID":"06950d36","dfnText":"event listener","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-listener"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-concept-event-listener\u2460"}],"title":"Run Service Worker"}],"url":"https://dom.spec.whatwg.org/#concept-event-listener"},
"069ffbbf": {"dfnID":"069ffbbf","dfnText":"has cross-site ancestor","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-has-cross-site-ancestor"},{"id":"ref-for-concept-settings-object-has-cross-site-ancestor\u2460"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-has-cross-site-ancestor"},
"06a6db54": {"dfnID":"06a6db54","dfnText":"enqueue","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-enqueue"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-queue-enqueue\u2460"},{"id":"ref-for-queue-enqueue\u2461"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-queue-enqueue\u2462"},{"id":"ref-for-queue-enqueue\u2463"}],"title":"Handle Fetch"}],"url":"https://infra.spec.whatwg.org/#queue-enqueue"},
"06b06c91": {"dfnID":"06b06c91","dfnText":"Cyclic Module Record","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-cyclic-module-records"}],"title":"Is Async Module"}],"url":"https://tc39.es/ecma262/#sec-cyclic-module-records"},
"085ddd0a": {"dfnID":"085ddd0a","dfnText":"target browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-target-browsing-context"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-concept-environment-target-browsing-context\u2460"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-concept-environment-target-browsing-context\u2461"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context"},
"086e3aff": {"dfnID":"086e3aff","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-origin"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-concept-origin\u2460"},{"id":"ref-for-concept-origin\u2461"},{"id":"ref-for-concept-origin\u2462"},{"id":"ref-for-concept-origin\u2463"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-concept-origin\u2464"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-concept-origin\u2465"},{"id":"ref-for-concept-origin\u2466"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-concept-origin\u2467"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-concept-origin\u2468"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-concept-origin\u2460\u24ea"}],"title":"5. Caches"},{"refs":[{"id":"ref-for-concept-origin\u2460\u2460"}],"title":"6.3.1. Origin restriction"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"},
"08a12aad": {"dfnID":"08a12aad","dfnText":"Response","external":true,"refSections":[{"refs":[{"id":"ref-for-response"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-response\u2460"},{"id":"ref-for-response\u2461"},{"id":"ref-for-response\u2462"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-response\u2463"},{"id":"ref-for-response\u2464"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-response\u2465"},{"id":"ref-for-response\u2466"},{"id":"ref-for-response\u2467"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-response\u2468"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-response\u2460\u24ea"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-response\u2460\u2460"},{"id":"ref-for-response\u2460\u2461"},{"id":"ref-for-response\u2460\u2462"}],"title":"6.4. Cross-Origin Resources and CORS"},{"refs":[{"id":"ref-for-response\u2460\u2463"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#response"},
"092f2e0b": {"dfnID":"092f2e0b","dfnText":"dispatch flag","external":true,"refSections":[{"refs":[{"id":"ref-for-dispatch-flag"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dispatch-flag\u2460"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-dispatch-flag\u2461"}],"title":"Update Service Worker Extended Events Set"}],"url":"https://dom.spec.whatwg.org/#dispatch-flag"},
"0a52a8b4": {"dfnID":"0a52a8b4","dfnText":"combine","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-list-combine"},{"id":"ref-for-concept-header-list-combine\u2460"}],"title":"Request Matches Cached Item"}],"url":"https://fetch.spec.whatwg.org/#concept-header-list-combine"},
"0ba26d3b": {"dfnID":"0ba26d3b","dfnText":"active service worker","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-active-service-worker"},{"id":"ref-for-concept-environment-active-service-worker\u2460"},{"id":"ref-for-concept-environment-active-service-worker\u2461"},{"id":"ref-for-concept-environment-active-service-worker\u2462"},{"id":"ref-for-concept-environment-active-service-worker\u2460\u2463"},{"id":"ref-for-concept-environment-active-service-worker\u2460\u2464"},{"id":"ref-for-concept-environment-active-service-worker\u2460\u2465"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2463"},{"id":"ref-for-concept-environment-active-service-worker\u2464"},{"id":"ref-for-concept-environment-active-service-worker\u2465"},{"id":"ref-for-concept-environment-active-service-worker\u2466"},{"id":"ref-for-concept-environment-active-service-worker\u2467"},{"id":"ref-for-concept-environment-active-service-worker\u2468"},{"id":"ref-for-concept-environment-active-service-worker\u2460\u24ea"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2460\u2460"},{"id":"ref-for-concept-environment-active-service-worker\u2460\u2461"},{"id":"ref-for-concept-environment-active-service-worker\u2460\u2462"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2460\u2466"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2460\u2467"},{"id":"ref-for-concept-environment-active-service-worker\u2460\u2468"}],"title":"3.4.1. controller"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2461\u24ea"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2461\u2460"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2461\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2461\u2462"},{"id":"ref-for-concept-environment-active-service-worker\u2461\u2463"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2461\u2464"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2461\u2465"},{"id":"ref-for-concept-environment-active-service-worker\u2461\u2466"},{"id":"ref-for-concept-environment-active-service-worker\u2461\u2467"},{"id":"ref-for-concept-environment-active-service-worker\u2461\u2468"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-environment-active-service-worker\u2462\u24ea"},{"id":"ref-for-concept-environment-active-service-worker\u2462\u2460"}],"title":"Lookup Race Response"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"},
"0d0390b4": {"dfnID":"0d0390b4","dfnText":"browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-browsing-context"},{"id":"ref-for-browsing-context\u2460"},{"id":"ref-for-browsing-context\u2461"},{"id":"ref-for-browsing-context\u2462"},{"id":"ref-for-browsing-context\u2463"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-browsing-context\u2464"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-browsing-context\u2465"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-browsing-context\u2466"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"},
"0e3ba9f8": {"dfnID":"0e3ba9f8","dfnText":"fully active","external":true,"refSections":[{"refs":[{"id":"ref-for-fully-active"}],"title":"4.2.11. navigate(url)"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"0e6b2056": {"dfnID":"0e6b2056","dfnText":"set (for map)","external":true,"refSections":[{"refs":[{"id":"ref-for-map-set"}],"title":"5.5.3. open(cacheName)"},{"refs":[{"id":"ref-for-map-set\u2460"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-map-set\u2461"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-map-set\u2462"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-map-set\u2463"}],"title":"Set Registration"}],"url":"https://infra.spec.whatwg.org/#map-set"},
"0e8de730": {"dfnID":"0e8de730","dfnText":"tuple","external":true,"refSections":[{"refs":[{"id":"ref-for-tuple"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-tuple\u2460"}],"title":"Appendix A: Algorithms"}],"url":"https://infra.spec.whatwg.org/#tuple"},
"0e9f636b": {"dfnID":"0e9f636b","dfnText":"DOMHighResTimeStamp","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-domhighrestimestamp"},{"id":"ref-for-dom-domhighrestimestamp\u2460"},{"id":"ref-for-dom-domhighrestimestamp\u2461"},{"id":"ref-for-dom-domhighrestimestamp\u2462"}],"title":"2.2. Service Worker Timing"}],"url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"0ef5a390": {"dfnID":"0ef5a390","dfnText":"resolve a module specifier","external":true,"refSections":[{"refs":[{"id":"ref-for-resolve-a-module-specifier"},{"id":"ref-for-resolve-a-module-specifier\u2460"}],"title":"Is Async Module"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier"},
"0fe84b59": {"dfnID":"0fe84b59","dfnText":"signal","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller-signal"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://dom.spec.whatwg.org/#abortcontroller-signal"},
"116848ac": {"dfnID":"116848ac","dfnText":"reacting","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-perform-steps-once-promise-is-settled"}],"title":"5.4.3. add(request)"},{"refs":[{"id":"ref-for-dfn-perform-steps-once-promise-is-settled\u2460"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-dfn-perform-steps-once-promise-is-settled\u2461"}],"title":"5.5.1. match(request, options)"},{"refs":[{"id":"ref-for-dfn-perform-steps-once-promise-is-settled\u2462"}],"title":"5.5.4. delete(cacheName)"}],"url":"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"},
"1243a891": {"dfnID":"1243a891","dfnText":"exist","external":true,"refSections":[{"refs":[{"id":"ref-for-map-exists"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-map-exists\u2460"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-map-exists\u2461"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-map-exists\u2462"}],"title":"5.5.1. match(request, options)"},{"refs":[{"id":"ref-for-map-exists\u2463"},{"id":"ref-for-map-exists\u2464"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-map-exists\u2465"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-map-exists\u2466"},{"id":"ref-for-map-exists\u2467"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-map-exists\u2468"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-map-exists\u2460\u24ea"},{"id":"ref-for-map-exists\u2460\u2460"},{"id":"ref-for-map-exists\u2460\u2461"},{"id":"ref-for-map-exists\u2460\u2462"},{"id":"ref-for-map-exists\u2460\u2463"},{"id":"ref-for-map-exists\u2460\u2464"},{"id":"ref-for-map-exists\u2460\u2465"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-map-exists\u2460\u2466"},{"id":"ref-for-map-exists\u2460\u2467"},{"id":"ref-for-map-exists\u2460\u2468"},{"id":"ref-for-map-exists\u2461\u24ea"},{"id":"ref-for-map-exists\u2461\u2460"},{"id":"ref-for-map-exists\u2461\u2461"},{"id":"ref-for-map-exists\u2461\u2462"}],"title":"Match Router Condition"},{"refs":[{"id":"ref-for-map-exists\u2461\u2463"},{"id":"ref-for-map-exists\u2461\u2464"}],"title":"Count Router Inner Conditions"},{"refs":[{"id":"ref-for-map-exists\u2461\u2465"}],"title":"Update Worker State"},{"refs":[{"id":"ref-for-map-exists\u2461\u2466"}],"title":"Lookup Race Response"}],"url":"https://infra.spec.whatwg.org/#map-exists"},
"1260f199": {"dfnID":"1260f199","dfnText":"DetachArrayBuffer","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-detacharraybuffer"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://tc39.es/ecma262/#sec-detacharraybuffer"},
"129bdae8": {"dfnID":"129bdae8","dfnText":"Event","external":true,"refSections":[{"refs":[{"id":"ref-for-event"},{"id":"ref-for-event\u2460"},{"id":"ref-for-event\u2461"},{"id":"ref-for-event\u2462"},{"id":"ref-for-event\u2463"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-event\u2464"}],"title":"4.4. ExtendableEvent"}],"url":"https://dom.spec.whatwg.org/#event"},
"12d6b9a8": {"dfnID":"12d6b9a8","dfnText":"values","external":true,"refSections":[{"refs":[{"id":"ref-for-map-getting-the-values"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-map-getting-the-values\u2460"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-map-getting-the-values\u2461"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-map-getting-the-values\u2462"}],"title":"Update"},{"refs":[{"id":"ref-for-map-getting-the-values\u2463"}],"title":"Handle User Agent Shutdown"}],"url":"https://infra.spec.whatwg.org/#map-getting-the-values"},
"1372f92a": {"dfnID":"1372f92a","dfnText":"dispatch","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-dispatch"},{"id":"ref-for-concept-event-dispatch\u2460"}],"title":"2.6. Task Sources"},{"refs":[{"id":"ref-for-concept-event-dispatch\u2461"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-event-dispatch\u2462"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-event-dispatch\u2463"}],"title":"Install"},{"refs":[{"id":"ref-for-concept-event-dispatch\u2464"}],"title":"Activate"},{"refs":[{"id":"ref-for-concept-event-dispatch\u2465"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-concept-event-dispatch\u2466"},{"id":"ref-for-concept-event-dispatch\u2467"}],"title":"Fire Functional Event"}],"url":"https://dom.spec.whatwg.org/#concept-event-dispatch"},
"15c0e5cb": {"dfnID":"15c0e5cb","dfnText":"create a new realm","external":true,"refSections":[{"refs":[{"id":"ref-for-creating-a-new-javascript-realm"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm"},
"15e48c39": {"dfnID":"15e48c39","dfnText":"set","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-set"},{"id":"ref-for-ordered-set\u2460"},{"id":"ref-for-ordered-set\u2461"},{"id":"ref-for-ordered-set\u2462"},{"id":"ref-for-ordered-set\u2463"},{"id":"ref-for-ordered-set\u2464"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-ordered-set\u2465"}],"title":"5.5.5. keys()"},{"refs":[{"id":"ref-for-ordered-set\u2466"}],"title":"Is Async Module"}],"url":"https://infra.spec.whatwg.org/#ordered-set"},
"162d2b51": {"dfnID":"162d2b51","dfnText":"request (for Request)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-request"},{"id":"ref-for-concept-request-request\u2460"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-concept-request-request\u2461"},{"id":"ref-for-concept-request-request\u2462"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-request-request\u2463"},{"id":"ref-for-concept-request-request\u2464"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-request-request\u2465"},{"id":"ref-for-concept-request-request\u2466"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-concept-request-request\u2467"},{"id":"ref-for-concept-request-request\u2468"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-concept-request-request\u2460\u24ea"}],"title":"Batch Cache Operations"}],"url":"https://fetch.spec.whatwg.org/#concept-request-request"},
"1641b9ef": {"dfnID":"1641b9ef","dfnText":"create a frozen array","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-create-frozen-array"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-dfn-create-frozen-array\u2460"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-dfn-create-frozen-array\u2461"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-dfn-create-frozen-array\u2462"}],"title":"5.4.7. keys(request, options)"}],"url":"https://webidl.spec.whatwg.org/#dfn-create-frozen-array"},
"165b73c9": {"dfnID":"165b73c9","dfnText":"SharedWorkerGlobalScope","external":true,"refSections":[{"refs":[{"id":"ref-for-sharedworkerglobalscope"}],"title":"2.4. Service Worker Client"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#sharedworkerglobalscope"},
"16d07e10": {"dfnID":"16d07e10","dfnText":"for each (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-iterate"},{"id":"ref-for-list-iterate\u2460"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-list-iterate\u2461"},{"id":"ref-for-list-iterate\u2462"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-list-iterate\u2463"},{"id":"ref-for-list-iterate\u2464"},{"id":"ref-for-list-iterate\u2465"},{"id":"ref-for-list-iterate\u2466"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-list-iterate\u2467"},{"id":"ref-for-list-iterate\u2468"},{"id":"ref-for-list-iterate\u2460\u24ea"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-list-iterate\u2460\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-list-iterate\u2460\u2461"},{"id":"ref-for-list-iterate\u2460\u2462"},{"id":"ref-for-list-iterate\u2460\u2463"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-list-iterate\u2460\u2464"}],"title":"Activate"},{"refs":[{"id":"ref-for-list-iterate\u2460\u2465"}],"title":"All Fetch Listeners Are Empty"},{"refs":[{"id":"ref-for-list-iterate\u2460\u2466"}],"title":"Check Router Registration Limit"},{"refs":[{"id":"ref-for-list-iterate\u2460\u2467"}],"title":"Get Router Source"},{"refs":[{"id":"ref-for-list-iterate\u2460\u2468"}],"title":"Handle User Agent Shutdown"},{"refs":[{"id":"ref-for-list-iterate\u2461\u24ea"}],"title":"Match Service Worker Registration"},{"refs":[{"id":"ref-for-list-iterate\u2461\u2460"}],"title":"Query Cache"},{"refs":[{"id":"ref-for-list-iterate\u2461\u2461"},{"id":"ref-for-list-iterate\u2461\u2462"},{"id":"ref-for-list-iterate\u2461\u2463"},{"id":"ref-for-list-iterate\u2461\u2464"}],"title":"Batch Cache Operations"},{"refs":[{"id":"ref-for-list-iterate\u2461\u2465"}],"title":"Is Async Module"}],"url":"https://infra.spec.whatwg.org/#list-iterate"},
"1a4f3e89": {"dfnID":"1a4f3e89","dfnText":"method","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-method"}],"title":"Verify Router Condition"}],"url":"https://fetch.spec.whatwg.org/#concept-method"},
"1a897bae": {"dfnID":"1a897bae","dfnText":"Get Trusted Type compliant string","external":true,"refSections":[{"refs":[{"id":"ref-for-abstract-opdef-get-trusted-type-compliant-string"}],"title":"3.4.3. register(scriptURL, options)"}],"url":"https://w3c.github.io/trusted-types/dist/spec/#abstract-opdef-get-trusted-type-compliant-string"},
"1adcc035": {"dfnID":"1adcc035","dfnText":"abort when","external":true,"refSections":[{"refs":[{"id":"ref-for-abort-when"},{"id":"ref-for-abort-when\u2460"},{"id":"ref-for-abort-when\u2461"}],"title":"Handle Fetch"}],"url":"https://infra.spec.whatwg.org/#abort-when"},
"1b5b1c0c": {"dfnID":"1b5b1c0c","dfnText":"API base URL","external":true,"refSections":[{"refs":[{"id":"ref-for-api-base-url"},{"id":"ref-for-api-base-url\u2460"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-api-base-url\u2461"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-api-base-url\u2462"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-api-base-url\u2463"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-api-base-url\u2464"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"},
"1bba3db7": {"dfnID":"1bba3db7","dfnText":"parent","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-parent"}],"title":"Get Frame Type"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent"},
"1d563005": {"dfnID":"1d563005","dfnText":"visibilityState","external":true,"refSections":[{"refs":[{"id":"ref-for-page-visibility"},{"id":"ref-for-page-visibility\u2460"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-page-visibility\u2461"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-page-visibility\u2462"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-page-visibility\u2463"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-page-visibility\u2464"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-page-visibility\u2465"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#page-visibility"},
"1fcfa830": {"dfnID":"1fcfa830","dfnText":"Completion","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-completion-record-specification-type"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-sec-completion-record-specification-type\u2460"}],"title":"Update"},{"refs":[{"id":"ref-for-sec-completion-record-specification-type\u2461"}],"title":"Run Service Worker"}],"url":"https://tc39.es/ecma262/#sec-completion-record-specification-type"},
"2285c18a": {"dfnID":"2285c18a","dfnText":"exceptionsEnabled","external":true,"refSections":[{"refs":[{"id":"ref-for-exceptions-enabled"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-exceptions-enabled\u2460"}],"title":"4.3.3. openWindow(url)"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled"},
"2296404c": {"dfnID":"2296404c","dfnText":"signal abort","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller-signal-abort"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://dom.spec.whatwg.org/#abortcontroller-signal-abort"},
"22cb9a16": {"dfnID":"22cb9a16","dfnText":"ByteString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-ByteString"},{"id":"ref-for-idl-ByteString\u2460"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-idl-ByteString\u2461"}],"title":"4.5. InstallEvent"}],"url":"https://webidl.spec.whatwg.org/#idl-ByteString"},
"24bd7d25": {"dfnID":"24bd7d25","dfnText":"upon fulfillment","external":true,"refSections":[{"refs":[{"id":"ref-for-upon-fulfillment"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-upon-fulfillment\u2460"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-upon-fulfillment\u2461"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-upon-fulfillment\u2462"}],"title":"5.4.5. put(request, response)"}],"url":"https://webidl.spec.whatwg.org/#upon-fulfillment"},
"24cf98a1": {"dfnID":"24cf98a1","dfnText":"environment","external":true,"refSections":[{"refs":[{"id":"ref-for-environment"}],"title":"2.4. Service Worker Client"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment"},
"2594e562": {"dfnID":"2594e562","dfnText":"navigate","external":true,"refSections":[{"refs":[{"id":"ref-for-navigate"},{"id":"ref-for-navigate\u2460"},{"id":"ref-for-navigate\u2461"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-navigate\u2462"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-navigate\u2463"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-navigate\u2464"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-navigate\u2465"}],"title":"Handle Fetch"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"},
"25a47df4": {"dfnID":"25a47df4","dfnText":"function body","external":true,"refSections":[{"refs":[{"id":"ref-for-prod-FunctionBody"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://tc39.es/ecma262/#prod-FunctionBody"},
"26b82890": {"dfnID":"26b82890","dfnText":"event","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event"},{"id":"ref-for-concept-event\u2460"}],"title":"2.1.2. Events"},{"refs":[{"id":"ref-for-concept-event\u2461"}],"title":"4.6.2. event.preloadResponse"},{"refs":[{"id":"ref-for-concept-event\u2462"}],"title":"4.6.3. event.clientId"},{"refs":[{"id":"ref-for-concept-event\u2463"}],"title":"4.6.4. event.resultingClientId"},{"refs":[{"id":"ref-for-concept-event\u2464"}],"title":"4.6.5. event.replacesClientId"},{"refs":[{"id":"ref-for-concept-event\u2465"}],"title":"4.6.6. event.handled"},{"refs":[{"id":"ref-for-concept-event\u2466"}],"title":"Update Service Worker Extended Events Set"}],"url":"https://dom.spec.whatwg.org/#concept-event"},
"27402d04": {"dfnID":"27402d04","dfnText":"coarsened shared current time","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-coarsened-shared-current-time"},{"id":"ref-for-dfn-coarsened-shared-current-time\u2460"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dfn-coarsened-shared-current-time\u2461"},{"id":"ref-for-dfn-coarsened-shared-current-time\u2462"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://w3c.github.io/hr-time/#dfn-coarsened-shared-current-time"},
"2889d1ec": {"dfnID":"2889d1ec","dfnText":"navigation request","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-request"},{"id":"ref-for-navigation-request\u2460"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-navigation-request\u2461"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#navigation-request"},
"2aaa2f42": {"dfnID":"2aaa2f42","dfnText":"HTTP fetch","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-http-fetch"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-concept-http-fetch\u2460"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-concept-http-fetch\u2461"},{"id":"ref-for-concept-http-fetch\u2462"}],"title":"4.8. Events"}],"url":"https://fetch.spec.whatwg.org/#concept-http-fetch"},
"2aaa937f": {"dfnID":"2aaa937f","dfnText":"cross-origin resource policy check","external":true,"refSections":[{"refs":[{"id":"ref-for-cross-origin-resource-policy-check"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-cross-origin-resource-policy-check\u2460"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check"},
"2bc0cdf4": {"dfnID":"2bc0cdf4","dfnText":"EventTarget","external":true,"refSections":[{"refs":[{"id":"ref-for-eventtarget"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-eventtarget\u2460"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-eventtarget\u2461"}],"title":"3.4. ServiceWorkerContainer"}],"url":"https://dom.spec.whatwg.org/#eventtarget"},
"2c16705a": {"dfnID":"2c16705a","dfnText":"normalize","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-method-normalize"}],"title":"Match Router Condition"}],"url":"https://fetch.spec.whatwg.org/#concept-method-normalize"},
"2c6fd92e": {"dfnID":"2c6fd92e","dfnText":"top-level creation URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-top-level-creation-url"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url"},
"2d10bf58": {"dfnID":"2d10bf58","dfnText":"chunk","external":true,"refSections":[{"refs":[{"id":"ref-for-chunk"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#chunk"},
"2e66eaf1": {"dfnID":"2e66eaf1","dfnText":"AbortController","external":true,"refSections":[{"refs":[{"id":"ref-for-abortcontroller"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://dom.spec.whatwg.org/#abortcontroller"},
"2e9f6464": {"dfnID":"2e9f6464","dfnText":"canceled flag","external":true,"refSections":[{"refs":[{"id":"ref-for-canceled-flag"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://dom.spec.whatwg.org/#canceled-flag"},
"2f8afbfe": {"dfnID":"2f8afbfe","dfnText":"ArrayBuffer","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-ArrayBuffer"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"31db57e6": {"dfnID":"31db57e6","dfnText":"keys","external":true,"refSections":[{"refs":[{"id":"ref-for-map-getting-the-keys"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2460"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2461"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2462"}],"title":"5.5.5. keys()"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2463"}],"title":"Update"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2464"}],"title":"Match Service Worker Registration"}],"url":"https://infra.spec.whatwg.org/#map-getting-the-keys"},
"31dff980": {"dfnID":"31dff980","dfnText":"field-value","external":true,"refSections":[{"refs":[{"id":"ref-for-section-3.2"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-section-3.2\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-section-3.2\u2461"}],"title":"Request Matches Cached Item"}],"url":"https://datatracker.ietf.org/doc/html/rfc7230#section-3.2"},
"31f25047": {"dfnID":"31f25047","dfnText":"URLPatternCompatible","external":true,"refSections":[{"refs":[{"id":"ref-for-typedefdef-urlpatterncompatible"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-typedefdef-urlpatterncompatible\u2460"}],"title":"Parse URL Pattern"}],"url":"https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible"},
"32039b67": {"dfnID":"32039b67","dfnText":"TrustedScriptURL","external":true,"refSections":[{"refs":[{"id":"ref-for-trustedscripturl"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-trustedscripturl\u2460"}],"title":"3.4.3. register(scriptURL, options)"}],"url":"https://w3c.github.io/trusted-types/dist/spec/#trustedscripturl"},
"3349d69f": {"dfnID":"3349d69f","dfnText":"associated Document","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document-window"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-concept-document-window\u2460"},{"id":"ref-for-concept-document-window\u2461"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-concept-document-window\u2462"}],"title":"4.3.2. matchAll(options)"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"},
"34b679c0": {"dfnID":"34b679c0","dfnText":"import scripts into worker global scope","external":true,"refSections":[{"refs":[{"id":"ref-for-import-scripts-into-worker-global-scope"}],"title":"6.3.2. importScripts(urls)"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#import-scripts-into-worker-global-scope"},
"35972864": {"dfnID":"35972864","dfnText":"active document","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-document"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-nav-document\u2460"},{"id":"ref-for-nav-document\u2461"},{"id":"ref-for-nav-document\u2462"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-nav-document\u2463"},{"id":"ref-for-nav-document\u2464"},{"id":"ref-for-nav-document\u2465"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-nav-document\u2466"},{"id":"ref-for-nav-document\u2467"},{"id":"ref-for-nav-document\u2468"},{"id":"ref-for-nav-document\u2460\u24ea"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-nav-document\u2460\u2460"},{"id":"ref-for-nav-document\u2460\u2461"},{"id":"ref-for-nav-document\u2460\u2462"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-nav-document\u2460\u2463"},{"id":"ref-for-nav-document\u2460\u2464"},{"id":"ref-for-nav-document\u2460\u2465"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"},
"36caebd4": {"dfnID":"36caebd4","dfnText":"replaces client id","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-replaces-client-id"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#concept-request-replaces-client-id"},
"3700794f": {"dfnID":"3700794f","dfnText":"data","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-messageevent-data"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-data"},
"3743dd5f": {"dfnID":"3743dd5f","dfnText":"extract a MIME type","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-extract-mime-type"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-concept-header-extract-mime-type\u2460"}],"title":"Update"}],"url":"https://fetch.spec.whatwg.org/#concept-header-extract-mime-type"},
"37afd48d": {"dfnID":"37afd48d","dfnText":"InvalidAccessError","external":true,"refSections":[{"refs":[{"id":"ref-for-invalidaccesserror"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-invalidaccesserror\u2460"}],"title":"4.3.3. openWindow(url)"}],"url":"https://webidl.spec.whatwg.org/#invalidaccesserror"},
"37b5f0f9": {"dfnID":"37b5f0f9","dfnText":"historyHandling","external":true,"refSections":[{"refs":[{"id":"ref-for-navigation-hh"}],"title":"4.3.3. openWindow(url)"}],"url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh"},
"38340ce0": {"dfnID":"38340ce0","dfnText":"stop immediate propagation flag","external":true,"refSections":[{"refs":[{"id":"ref-for-stop-immediate-propagation-flag"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://dom.spec.whatwg.org/#stop-immediate-propagation-flag"},
"38381ead": {"dfnID":"38381ead","dfnText":"message","external":true,"refSections":[{"refs":[{"id":"ref-for-event-message"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/indices.html#event-message"},
"399a9307": {"dfnID":"399a9307","dfnText":"creating","external":true,"refSections":[{"refs":[{"id":"ref-for-request-create"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#request-create"},
"3a711be7": {"dfnID":"3a711be7","dfnText":"scheme","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-scheme"},{"id":"ref-for-concept-url-scheme\u2460"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-url-scheme\u2461"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-url-scheme\u2462"},{"id":"ref-for-concept-url-scheme\u2463"}],"title":"Start Register"},{"refs":[{"id":"ref-for-concept-url-scheme\u2464"}],"title":"Batch Cache Operations"}],"url":"https://url.spec.whatwg.org/#concept-url-scheme"},
"3ab2ec8b": {"dfnID":"3ab2ec8b","dfnText":"query","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-query"},{"id":"ref-for-concept-url-query\u2460"}],"title":"Request Matches Cached Item"}],"url":"https://url.spec.whatwg.org/#concept-url-query"},
"3ae34c95": {"dfnID":"3ae34c95","dfnText":"destination","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-destination"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-request-destination\u2460"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-request-destination\u2461"},{"id":"ref-for-concept-request-destination\u2462"},{"id":"ref-for-concept-request-destination\u2463"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-request-destination\u2464"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-concept-request-destination\u2465"}],"title":"Match Router Condition"}],"url":"https://fetch.spec.whatwg.org/#concept-request-destination"},
"3b0ee7a3": {"dfnID":"3b0ee7a3","dfnText":"base URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-script-base-url"},{"id":"ref-for-concept-script-base-url\u2460"},{"id":"ref-for-concept-script-base-url\u2461"}],"title":"Update"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url"},
"3b90bdcd": {"dfnID":"3b90bdcd","dfnText":"resolve","external":true,"refSections":[{"refs":[{"id":"ref-for-resolve"},{"id":"ref-for-resolve\u2460"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://webidl.spec.whatwg.org/#resolve"},
"3bd18bd6": {"dfnID":"3bd18bd6","dfnText":"error","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-error"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream-error"},
"3be1d4ac": {"dfnID":"3be1d4ac","dfnText":"extracting header list values","external":true,"refSections":[{"refs":[{"id":"ref-for-extract-header-list-values"}],"title":"Update"}],"url":"https://fetch.spec.whatwg.org/#extract-header-list-values"},
"3de9e659": {"dfnID":"3de9e659","dfnText":"byte sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-byte-sequence"}],"title":"2.3. Service Worker Registration"}],"url":"https://infra.spec.whatwg.org/#byte-sequence"},
"3e12e042": {"dfnID":"3e12e042","dfnText":"environment settings object","external":true,"refSections":[{"refs":[{"id":"ref-for-environment-settings-object"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-environment-settings-object\u2460"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-environment-settings-object\u2461"},{"id":"ref-for-environment-settings-object\u2462"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-environment-settings-object\u2463"},{"id":"ref-for-environment-settings-object\u2464"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-environment-settings-object\u2465"}],"title":"4.2.4. type"},{"refs":[{"id":"ref-for-environment-settings-object\u2466"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-environment-settings-object\u2467"},{"id":"ref-for-environment-settings-object\u2468"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-environment-settings-object\u2460\u24ea"},{"id":"ref-for-environment-settings-object\u2460\u2460"},{"id":"ref-for-environment-settings-object\u2460\u2461"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-environment-settings-object\u2460\u2462"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-environment-settings-object\u2460\u2463"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-environment-settings-object\u2460\u2464"},{"id":"ref-for-environment-settings-object\u2460\u2465"},{"id":"ref-for-environment-settings-object\u2460\u2466"},{"id":"ref-for-environment-settings-object\u2460\u2467"},{"id":"ref-for-environment-settings-object\u2460\u2468"}],"title":"Update"},{"refs":[{"id":"ref-for-environment-settings-object\u2461\u24ea"}],"title":"Install"},{"refs":[{"id":"ref-for-environment-settings-object\u2461\u2460"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-environment-settings-object\u2461\u2461"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-environment-settings-object\u2461\u2462"}],"title":"Update Worker State"},{"refs":[{"id":"ref-for-environment-settings-object\u2461\u2463"}],"title":"Notify Controller Change"},{"refs":[{"id":"ref-for-environment-settings-object\u2461\u2464"},{"id":"ref-for-environment-settings-object\u2461\u2465"},{"id":"ref-for-environment-settings-object\u2461\u2466"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"},
"3e8c0e5f": {"dfnID":"3e8c0e5f","dfnText":"MessageEvent","external":true,"refSections":[{"refs":[{"id":"ref-for-messageevent"},{"id":"ref-for-messageevent\u2460"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-messageevent\u2461"}],"title":"4.8. Events"}],"url":"https://html.spec.whatwg.org/multipage/comms.html#messageevent"},
"3eff7ece": {"dfnID":"3eff7ece","dfnText":"aborted flag","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-aborted"}],"title":"5.4.4. addAll(requests)"}],"url":"https://fetch.spec.whatwg.org/#concept-response-aborted"},
"3f64b971": {"dfnID":"3f64b971","dfnText":"Assert","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-algorithm-conventions"}],"title":"Handle Fetch"}],"url":"https://tc39.es/ecma262/#sec-algorithm-conventions"},
"3fca5a9e": {"dfnID":"3fca5a9e","dfnText":"map","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-map"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-ordered-map\u2460"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-ordered-map\u2461"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-ordered-map\u2462"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-ordered-map\u2463"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-ordered-map\u2464"},{"id":"ref-for-ordered-map\u2465"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-ordered-map\u2466"}],"title":"Update"}],"url":"https://infra.spec.whatwg.org/#ordered-map"},
"4013a022": {"dfnID":"4013a022","dfnText":"this","external":true,"refSections":[{"refs":[{"id":"ref-for-this"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-this\u2460"},{"id":"ref-for-this\u2461"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-this\u2462"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-this\u2463"}],"title":"3.3. navigator.serviceWorker"},{"refs":[{"id":"ref-for-this\u2464"},{"id":"ref-for-this\u2465"}],"title":"3.4.1. controller"},{"refs":[{"id":"ref-for-this\u2466"},{"id":"ref-for-this\u2467"},{"id":"ref-for-this\u2468"},{"id":"ref-for-this\u2460\u24ea"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-this\u2460\u2460"},{"id":"ref-for-this\u2460\u2461"},{"id":"ref-for-this\u2460\u2462"},{"id":"ref-for-this\u2460\u2463"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-this\u2460\u2464"},{"id":"ref-for-this\u2460\u2465"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-this\u2460\u2466"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-this\u2460\u2467"}],"title":"3.4.6. startMessages()"},{"refs":[{"id":"ref-for-this\u2460\u2468"}],"title":"3.4.7. Event handlers"},{"refs":[{"id":"ref-for-this\u2461\u24ea"}],"title":"3.6.1. enable()"},{"refs":[{"id":"ref-for-this\u2461\u2460"}],"title":"3.6.2. disable()"},{"refs":[{"id":"ref-for-this\u2461\u2461"}],"title":"3.6.3. setHeaderValue(value)"},{"refs":[{"id":"ref-for-this\u2461\u2462"}],"title":"3.6.4. getState()"},{"refs":[{"id":"ref-for-this\u2461\u2463"}],"title":"4.1.1. clients"},{"refs":[{"id":"ref-for-this\u2461\u2464"},{"id":"ref-for-this\u2461\u2465"}],"title":"4.1.2. registration"},{"refs":[{"id":"ref-for-this\u2461\u2466"},{"id":"ref-for-this\u2461\u2467"}],"title":"4.1.3. serviceWorker"},{"refs":[{"id":"ref-for-this\u2461\u2468"}],"title":"4.2.1. url"},{"refs":[{"id":"ref-for-this\u2462\u24ea"}],"title":"4.2.2. frameType"},{"refs":[{"id":"ref-for-this\u2462\u2460"}],"title":"4.2.3. id"},{"refs":[{"id":"ref-for-this\u2462\u2461"}],"title":"4.2.4. type"},{"refs":[{"id":"ref-for-this\u2462\u2462"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-this\u2462\u2463"}],"title":"4.2.7. visibilityState"},{"refs":[{"id":"ref-for-this\u2462\u2464"}],"title":"4.2.8. focused"},{"refs":[{"id":"ref-for-this\u2462\u2465"}],"title":"4.2.9. ancestorOrigins"},{"refs":[{"id":"ref-for-this\u2462\u2466"},{"id":"ref-for-this\u2462\u2467"},{"id":"ref-for-this\u2462\u2468"},{"id":"ref-for-this\u2463\u24ea"},{"id":"ref-for-this\u2463\u2460"},{"id":"ref-for-this\u2463\u2461"},{"id":"ref-for-this\u2463\u2462"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-this\u2463\u2463"},{"id":"ref-for-this\u2463\u2464"},{"id":"ref-for-this\u2463\u2465"},{"id":"ref-for-this\u2463\u2466"},{"id":"ref-for-this\u2463\u2467"},{"id":"ref-for-this\u2463\u2468"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-this\u2464\u24ea"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-this\u2464\u2460"}],"title":"4.4.1. event.waitUntil(f)"},{"refs":[{"id":"ref-for-this\u2464\u2461"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-this\u2464\u2462"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-this\u2464\u2463"},{"id":"ref-for-this\u2464\u2464"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-this\u2464\u2465"}],"title":"5.3.1. caches"},{"refs":[{"id":"ref-for-this\u2464\u2466"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-this\u2464\u2467"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-this\u2464\u2468"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-this\u2465\u24ea"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-this\u2465\u2460"}],"title":"5.4.7. keys(request, options)"}],"url":"https://webidl.spec.whatwg.org/#this"},
"41d0ebd7": {"dfnID":"41d0ebd7","dfnText":"errored","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-errored"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream-errored"},
"42f97769": {"dfnID":"42f97769","dfnText":"pullAlgorithm","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-set-up-pullalgorithm"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream-set-up-pullalgorithm"},
"432147ee": {"dfnID":"432147ee","dfnText":"policy container (for WorkerGlobalScope)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-workerglobalscope-policy-container"},{"id":"ref-for-concept-workerglobalscope-policy-container\u2460"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container"},
"43ac8374": {"dfnID":"43ac8374","dfnText":"origin (for environment settings object)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-origin"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2461"},{"id":"ref-for-concept-settings-object-origin\u2462"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2463"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2464"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2465"}],"title":"4.7.2. event.origin"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2466"}],"title":"5. Caches"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2467"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2468"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2460\u24ea"}],"title":"6.3.1. Origin restriction"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2460\u2460"},{"id":"ref-for-concept-settings-object-origin\u2460\u2461"}],"title":"6.4. Cross-Origin Resources and CORS"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2460\u2462"}],"title":"Register"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2460\u2463"}],"title":"Install"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2460\u2464"},{"id":"ref-for-concept-settings-object-origin\u2460\u2465"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2460\u2466"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2460\u2467"},{"id":"ref-for-concept-settings-object-origin\u2460\u2468"}],"title":"Unregister"},{"refs":[{"id":"ref-for-concept-settings-object-origin\u2461\u24ea"}],"title":"Update Worker State"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"},
"43d35049": {"dfnID":"43d35049","dfnText":"chunk steps","external":true,"refSections":[{"refs":[{"id":"ref-for-read-request-chunk-steps"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#read-request-chunk-steps"},
"4411082c": {"dfnID":"4411082c","dfnText":"unloading document cleanup steps","external":true,"refSections":[{"refs":[{"id":"ref-for-unloading-document-cleanup-steps"}],"title":"Handle Service Worker Client Unload"}],"url":"https://html.spec.whatwg.org/multipage/document-lifecycle.html#unloading-document-cleanup-steps"},
"449b55f1": {"dfnID":"449b55f1","dfnText":"source","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-body-source"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#concept-body-source"},
"44a7708c": {"dfnID":"44a7708c","dfnText":"EventInit","external":true,"refSections":[{"refs":[{"id":"ref-for-dictdef-eventinit"}],"title":"4.4. ExtendableEvent"}],"url":"https://dom.spec.whatwg.org/#dictdef-eventinit"},
"44d0e8a7": {"dfnID":"44d0e8a7","dfnText":"use-URL-credentials flag","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-use-url-credentials-flag"}],"title":"Update"}],"url":"https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag"},
"45209803": {"dfnID":"45209803","dfnText":"for each (for map)","external":true,"refSections":[{"refs":[{"id":"ref-for-map-iterate"},{"id":"ref-for-map-iterate\u2460"}],"title":"5.5.1. match(request, options)"},{"refs":[{"id":"ref-for-map-iterate\u2461"}],"title":"5.5.2. has(cacheName)"},{"refs":[{"id":"ref-for-map-iterate\u2462"}],"title":"5.5.3. open(cacheName)"},{"refs":[{"id":"ref-for-map-iterate\u2463"}],"title":"Update"},{"refs":[{"id":"ref-for-map-iterate\u2464"}],"title":"Install"},{"refs":[{"id":"ref-for-map-iterate\u2465"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-map-iterate\u2466"}],"title":"Get Registration"}],"url":"https://infra.spec.whatwg.org/#map-iterate"},
"47dfca75": {"dfnID":"47dfca75","dfnText":"queue","external":true,"refSections":[{"refs":[{"id":"ref-for-queue"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-queue\u2460"}],"title":"Handle Fetch"}],"url":"https://infra.spec.whatwg.org/#queue"},
"47fe679e": {"dfnID":"47fe679e","dfnText":"transient activation","external":true,"refSections":[{"refs":[{"id":"ref-for-transient-activation"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-transient-activation\u2460"}],"title":"4.3.3. openWindow(url)"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"},
"495737df": {"dfnID":"495737df","dfnText":"byte length","external":true,"refSections":[{"refs":[{"id":"ref-for-buffersource-byte-length"},{"id":"ref-for-buffersource-byte-length\u2460"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://webidl.spec.whatwg.org/#buffersource-byte-length"},
"49a5521a": {"dfnID":"49a5521a","dfnText":"abort","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-controller-abort"},{"id":"ref-for-fetch-controller-abort\u2460"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-fetch-controller-abort\u2461"},{"id":"ref-for-fetch-controller-abort\u2462"},{"id":"ref-for-fetch-controller-abort\u2463"},{"id":"ref-for-fetch-controller-abort\u2464"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#fetch-controller-abort"},
"4a73a347": {"dfnID":"4a73a347","dfnText":"sizeAlgorithm","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-set-up-sizealgorithm"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream-set-up-sizealgorithm"},
"4ad913ae": {"dfnID":"4ad913ae","dfnText":"surrounding agent","external":true,"refSections":[{"refs":[{"id":"ref-for-surrounding-agent"}],"title":"4.2.10. focus()"}],"url":"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent"},
"4ae6d1ad": {"dfnID":"4ae6d1ad","dfnText":"getting a promise to wait for all","external":true,"refSections":[{"refs":[{"id":"ref-for-waiting-for-all-promise"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-waiting-for-all-promise\u2460"}],"title":"Install"}],"url":"https://webidl.spec.whatwg.org/#waiting-for-all-promise"},
"4b6086d7": {"dfnID":"4b6086d7","dfnText":"global object","external":true,"refSections":[{"refs":[{"id":"ref-for-global-object"},{"id":"ref-for-global-object\u2460"}],"title":"2.5.2. The worker client case"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#global-object"},
"4b84a0bc": {"dfnID":"4b84a0bc","dfnText":"name","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-name"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-header-name\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-header-name\u2461"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-header-name\u2462"}],"title":"Request Matches Cached Item"}],"url":"https://fetch.spec.whatwg.org/#concept-header-name"},
"4cc3979a": {"dfnID":"4cc3979a","dfnText":"Module Record","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-abstract-module-records"}],"title":"Is Async Module"}],"url":"https://tc39.es/ecma262/#sec-abstract-module-records"},
"4cf7cda3": {"dfnID":"4cf7cda3","dfnText":"RequestMode","external":true,"refSections":[{"refs":[{"id":"ref-for-requestmode"}],"title":"4.5. InstallEvent"}],"url":"https://fetch.spec.whatwg.org/#requestmode"},
"4e92bc80": {"dfnID":"4e92bc80","dfnText":"get the keys","external":true,"refSections":[{"refs":[{"id":"ref-for-map-getting-the-keys"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2460"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2461"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2462"}],"title":"5.5.5. keys()"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2463"}],"title":"Update"},{"refs":[{"id":"ref-for-map-getting-the-keys\u2464"}],"title":"Match Service Worker Registration"}],"url":"https://infra.spec.whatwg.org/#map-getting-the-keys"},
"50b05fad": {"dfnID":"50b05fad","dfnText":"method (for request)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-method"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-concept-request-method\u2460"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-request-method\u2461"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-request-method\u2462"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-concept-request-method\u2463"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-concept-request-method\u2464"},{"id":"ref-for-concept-request-method\u2465"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-request-method\u2466"}],"title":"Match Router Condition"},{"refs":[{"id":"ref-for-concept-request-method\u2467"}],"title":"Request Matches Cached Item"},{"refs":[{"id":"ref-for-concept-request-method\u2468"}],"title":"Batch Cache Operations"}],"url":"https://fetch.spec.whatwg.org/#concept-request-method"},
"53079ce3": {"dfnID":"53079ce3","dfnText":"queue a microtask","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-microtask"}],"title":"4.4. ExtendableEvent"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask"},
"53275e46": {"dfnID":"53275e46","dfnText":"append (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-append"},{"id":"ref-for-list-append\u2460"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-list-append\u2461"},{"id":"ref-for-list-append\u2462"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-list-append\u2463"},{"id":"ref-for-list-append\u2464"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-list-append\u2465"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-list-append\u2466"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-list-append\u2467"}],"title":"Match Service Worker Registration"},{"refs":[{"id":"ref-for-list-append\u2468"},{"id":"ref-for-list-append\u2460\u24ea"},{"id":"ref-for-list-append\u2460\u2460"},{"id":"ref-for-list-append\u2460\u2461"}],"title":"Batch Cache Operations"}],"url":"https://infra.spec.whatwg.org/#list-append"},
"5372cca8": {"dfnID":"5372cca8","dfnText":"boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-boolean"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-idl-boolean\u2460"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-idl-boolean\u2461"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-idl-boolean\u2462"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-idl-boolean\u2463"},{"id":"ref-for-idl-boolean\u2464"},{"id":"ref-for-idl-boolean\u2465"},{"id":"ref-for-idl-boolean\u2466"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-idl-boolean\u2467"},{"id":"ref-for-idl-boolean\u2468"}],"title":"5.5. CacheStorage"}],"url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"5442ea33": {"dfnID":"5442ea33","dfnText":"URL serializer","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-serializer"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-concept-url-serializer\u2460"}],"title":"2.3.1. Lifetime"},{"refs":[{"id":"ref-for-concept-url-serializer\u2461"}],"title":"3.1.2. scriptURL"},{"refs":[{"id":"ref-for-concept-url-serializer\u2462"}],"title":"3.2.6. scope"},{"refs":[{"id":"ref-for-concept-url-serializer\u2463"}],"title":"4.2.1. url"},{"refs":[{"id":"ref-for-concept-url-serializer\u2464"},{"id":"ref-for-concept-url-serializer\u2465"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-concept-url-serializer\u2466"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-concept-url-serializer\u2467"},{"id":"ref-for-concept-url-serializer\u2468"},{"id":"ref-for-concept-url-serializer\u2460\u24ea"},{"id":"ref-for-concept-url-serializer\u2460\u2460"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-url-serializer\u2460\u2461"}],"title":"Install"},{"refs":[{"id":"ref-for-concept-url-serializer\u2460\u2462"}],"title":"Set Registration"},{"refs":[{"id":"ref-for-concept-url-serializer\u2460\u2463"},{"id":"ref-for-concept-url-serializer\u2460\u2464"}],"title":"Match Service Worker Registration"},{"refs":[{"id":"ref-for-concept-url-serializer\u2460\u2465"}],"title":"Get Registration"}],"url":"https://url.spec.whatwg.org/#concept-url-serializer"},
"55213b5b": {"dfnID":"55213b5b","dfnText":"request","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-concept-request\u2460"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-concept-request\u2461"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-concept-request\u2462"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-concept-request\u2463"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-concept-request\u2464"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-concept-request\u2465"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-request\u2466"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-request\u2467"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-concept-request\u2468"}],"title":"Match Router Condition"},{"refs":[{"id":"ref-for-concept-request\u2460\u24ea"}],"title":"Get Router Source"},{"refs":[{"id":"ref-for-concept-request\u2460\u2460"}],"title":"Query Cache"},{"refs":[{"id":"ref-for-concept-request\u2460\u2461"},{"id":"ref-for-concept-request\u2460\u2462"}],"title":"Request Matches Cached Item"},{"refs":[{"id":"ref-for-concept-request\u2460\u2463"}],"title":"Lookup Race Response"}],"url":"https://fetch.spec.whatwg.org/#concept-request"},
"555b1be1": {"dfnID":"555b1be1","dfnText":"clone (for response)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-clone"}],"title":"5.4.5. put(request, response)"}],"url":"https://fetch.spec.whatwg.org/#concept-response-clone"},
"55a6b830": {"dfnID":"55a6b830","dfnText":"active browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-bc"}],"title":"Get Frame Type"},{"refs":[{"id":"ref-for-nav-bc\u2460"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc"},
"5655d36f": {"dfnID":"5655d36f","dfnText":"error steps","external":true,"refSections":[{"refs":[{"id":"ref-for-read-request-error-steps"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#read-request-error-steps"},
"56f81a8e": {"dfnID":"56f81a8e","dfnText":"new","external":true,"refSections":[{"refs":[{"id":"ref-for-new"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://webidl.spec.whatwg.org/#new"},
"57c34878": {"dfnID":"57c34878","dfnText":"enforced","external":true,"refSections":[{"refs":[{"id":"ref-for-scripting-policy-pair-enforced"}],"title":"6.2. Content Security Policy"}],"url":"https://wicg.github.io/csp-next/scripting-policy.html#scripting-policy-pair-enforced"},
"5843bd02": {"dfnID":"5843bd02","dfnText":"deserialize a serialized abort reason","external":true,"refSections":[{"refs":[{"id":"ref-for-deserialize-a-serialized-abort-reason"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-deserialize-a-serialized-abort-reason\u2460"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason"},
"58ebefde": {"dfnID":"58ebefde","dfnText":"auxiliary browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-auxiliary-browsing-context"}],"title":"Get Frame Type"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#auxiliary-browsing-context"},
"5991ccfb": {"dfnID":"5991ccfb","dfnText":"relevant realm","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-realm"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2460"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2462"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2463"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2464"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2465"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2466"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2467"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2468"},{"id":"ref-for-concept-relevant-realm\u2460\u24ea"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-concept-relevant-realm\u2460\u2460"}],"title":"Fire Functional Event"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"59ed4e57": {"dfnID":"59ed4e57","dfnText":"ReadableStream","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream"},
"59f47681": {"dfnID":"59f47681","dfnText":"blob URL","external":true,"refSections":[{"refs":[{"id":"ref-for-blob-url"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-blob-url\u2460"}],"title":"2.5. Control and Use"}],"url":"https://w3c.github.io/FileAPI/#blob-url"},
"5a391458": {"dfnID":"5a391458","dfnText":"non-subresource request","external":true,"refSections":[{"refs":[{"id":"ref-for-non-subresource-request"},{"id":"ref-for-non-subresource-request\u2460"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-non-subresource-request\u2461"},{"id":"ref-for-non-subresource-request\u2462"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-non-subresource-request\u2463"}],"title":"Lookup Race Response"}],"url":"https://fetch.spec.whatwg.org/#non-subresource-request"},
"5afbefcd": {"dfnID":"5afbefcd","dfnText":"item (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-item"},{"id":"ref-for-list-item\u2460"},{"id":"ref-for-list-item\u2461"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-list-item\u2462"},{"id":"ref-for-list-item\u2463"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-list-item\u2464"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-list-item\u2465"}],"title":"5.5.5. keys()"},{"refs":[{"id":"ref-for-list-item\u2466"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-list-item\u2467"}],"title":"Run Job"},{"refs":[{"id":"ref-for-list-item\u2468"}],"title":"Finish Job"},{"refs":[{"id":"ref-for-list-item\u2460\u24ea"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-list-item\u2460\u2460"},{"id":"ref-for-list-item\u2460\u2461"},{"id":"ref-for-list-item\u2460\u2462"}],"title":"Batch Cache Operations"}],"url":"https://infra.spec.whatwg.org/#list-item"},
"5c35dd47": {"dfnID":"5c35dd47","dfnText":"sandbox","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-iframe-sandbox"}],"title":"2.5.1. The window client case"}],"url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox"},
"5c4f772b": {"dfnID":"5c4f772b","dfnText":"match","external":true,"refSections":[{"refs":[{"id":"ref-for-url-pattern-match"}],"title":"Match Router Condition"}],"url":"https://urlpattern.spec.whatwg.org/#url-pattern-match"},
"5d7209e9": {"dfnID":"5d7209e9","dfnText":"Window","external":true,"refSections":[{"refs":[{"id":"ref-for-window"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-window\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-window\u2461"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-window\u2462"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-window\u2463"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-window\u2464"},{"id":"ref-for-window\u2465"},{"id":"ref-for-window\u2466"},{"id":"ref-for-window\u2467"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-window\u2468"}],"title":"5. Caches"},{"refs":[{"id":"ref-for-window\u2460\u24ea"}],"title":"5.5. CacheStorage"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"},
"5dc9e82c": {"dfnID":"5dc9e82c","dfnText":"discard","external":true,"refSections":[{"refs":[{"id":"ref-for-discarded"}],"title":"4.3.2. matchAll(options)"}],"url":"https://wicg.github.io/page-lifecycle/#discarded"},
"5e129c74": {"dfnID":"5e129c74","dfnText":"QuotaExceededError","external":true,"refSections":[{"refs":[{"id":"ref-for-quotaexceedederror"}],"title":"5.5.3. open(cacheName)"},{"refs":[{"id":"ref-for-quotaexceedederror\u2460"}],"title":"Batch Cache Operations"}],"url":"https://webidl.spec.whatwg.org/#quotaexceedederror"},
"5f6d392d": {"dfnID":"5f6d392d","dfnText":"WindowOrWorkerGlobalScope","external":true,"refSections":[{"refs":[{"id":"ref-for-windoworworkerglobalscope"}],"title":"5.3. self.caches"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"},
"5f90bbfb": {"dfnID":"5f90bbfb","dfnText":"undefined","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-undefined"},{"id":"ref-for-idl-undefined\u2460"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-idl-undefined\u2461"},{"id":"ref-for-idl-undefined\u2462"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-idl-undefined\u2463"},{"id":"ref-for-idl-undefined\u2464"},{"id":"ref-for-idl-undefined\u2465"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-idl-undefined\u2466"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-idl-undefined\u2467"},{"id":"ref-for-idl-undefined\u2468"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-idl-undefined\u2460\u24ea"},{"id":"ref-for-idl-undefined\u2460\u2460"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-idl-undefined\u2460\u2461"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-idl-undefined\u2460\u2462"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-idl-undefined\u2460\u2463"},{"id":"ref-for-idl-undefined\u2460\u2464"},{"id":"ref-for-idl-undefined\u2460\u2465"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-idl-undefined\u2460\u2466"},{"id":"ref-for-idl-undefined\u2460\u2467"},{"id":"ref-for-idl-undefined\u2460\u2468"},{"id":"ref-for-idl-undefined\u2461\u24ea"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-idl-undefined\u2461\u2460"}],"title":"5.5. CacheStorage"}],"url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"5fd23811": {"dfnID":"5fd23811","dfnText":"fire an event","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-fire"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-event-fire\u2460"}],"title":"Install"},{"refs":[{"id":"ref-for-concept-event-fire\u2461"}],"title":"Update Worker State"},{"refs":[{"id":"ref-for-concept-event-fire\u2462"}],"title":"Notify Controller Change"}],"url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"60393e82": {"dfnID":"60393e82","dfnText":"URL pattern","external":true,"refSections":[{"refs":[{"id":"ref-for-url-pattern"}],"title":"Parse URL Pattern"}],"url":"https://urlpattern.spec.whatwg.org/#url-pattern"},
"61266bdb": {"dfnID":"61266bdb","dfnText":"abrupt completion","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-completion-record-specification-type"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-sec-completion-record-specification-type\u2460"}],"title":"Update"},{"refs":[{"id":"ref-for-sec-completion-record-specification-type\u2461"}],"title":"Run Service Worker"}],"url":"https://tc39.es/ecma262/#sec-completion-record-specification-type"},
"622d9f0e": {"dfnID":"622d9f0e","dfnText":"callback","external":true,"refSections":[{"refs":[{"id":"ref-for-event-listener-callback"},{"id":"ref-for-event-listener-callback\u2460"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://dom.spec.whatwg.org/#event-listener-callback"},
"644cb530": {"dfnID":"644cb530","dfnText":"body","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-body"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://fetch.spec.whatwg.org/#concept-body"},
"649608b9": {"dfnID":"649608b9","dfnText":"list","external":true,"refSections":[{"refs":[{"id":"ref-for-list"},{"id":"ref-for-list\u2460"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-list\u2461"},{"id":"ref-for-list\u2462"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-list\u2463"},{"id":"ref-for-list\u2464"},{"id":"ref-for-list\u2465"},{"id":"ref-for-list\u2466"},{"id":"ref-for-list\u2467"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-list\u2468"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-list\u2460\u24ea"},{"id":"ref-for-list\u2460\u2460"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-list\u2460\u2461"},{"id":"ref-for-list\u2460\u2462"},{"id":"ref-for-list\u2460\u2463"},{"id":"ref-for-list\u2460\u2464"},{"id":"ref-for-list\u2460\u2465"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-list\u2460\u2466"},{"id":"ref-for-list\u2460\u2467"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-list\u2460\u2468"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-list\u2461\u24ea"},{"id":"ref-for-list\u2461\u2460"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-list\u2461\u2461"}],"title":"Activate"},{"refs":[{"id":"ref-for-list\u2461\u2462"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-list\u2461\u2463"}],"title":"Query Cache"},{"refs":[{"id":"ref-for-list\u2461\u2464"}],"title":"Request Matches Cached Item"},{"refs":[{"id":"ref-for-list\u2461\u2465"},{"id":"ref-for-list\u2461\u2466"},{"id":"ref-for-list\u2461\u2467"},{"id":"ref-for-list\u2461\u2468"}],"title":"Batch Cache Operations"}],"url":"https://infra.spec.whatwg.org/#list"},
"64b62ea0": {"dfnID":"64b62ea0","dfnText":"redirect mode","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-redirect-mode"}],"title":"Update"}],"url":"https://fetch.spec.whatwg.org/#concept-request-redirect-mode"},
"65181da8": {"dfnID":"65181da8","dfnText":"secure context","external":true,"refSections":[{"refs":[{"id":"ref-for-secure-context"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-secure-context\u2460"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-secure-context\u2461"},{"id":"ref-for-secure-context\u2462"}],"title":"6.1. Secure Context"},{"refs":[{"id":"ref-for-secure-context\u2463"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-secure-context\u2464"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"},
"6594df5c": {"dfnID":"6594df5c","dfnText":"record","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-script-record"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-script-record\u2460"},{"id":"ref-for-concept-script-record\u2461"}],"title":"Is Async Module"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record"},
"688f9669": {"dfnID":"688f9669","dfnText":"cache mode","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-cache-mode"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-concept-request-cache-mode\u2460"},{"id":"ref-for-concept-request-cache-mode\u2461"}],"title":"Update"}],"url":"https://fetch.spec.whatwg.org/#concept-request-cache-mode"},
"692595fe": {"dfnID":"692595fe","dfnText":"ordered set","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-set"},{"id":"ref-for-ordered-set\u2460"},{"id":"ref-for-ordered-set\u2461"},{"id":"ref-for-ordered-set\u2462"},{"id":"ref-for-ordered-set\u2463"},{"id":"ref-for-ordered-set\u2464"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-ordered-set\u2465"}],"title":"5.5.5. keys()"},{"refs":[{"id":"ref-for-ordered-set\u2466"}],"title":"Is Async Module"}],"url":"https://infra.spec.whatwg.org/#ordered-set"},
"69ec9122": {"dfnID":"69ec9122","dfnText":"obtain a service worker agent","external":true,"refSections":[{"refs":[{"id":"ref-for-obtain-a-service-worker-agent"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#obtain-a-service-worker-agent"},
"6a5a59a0": {"dfnID":"6a5a59a0","dfnText":"event handler","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handlers"},{"id":"ref-for-event-handlers\u2460"}],"title":"3.1.6. Event handler"},{"refs":[{"id":"ref-for-event-handlers\u2461"},{"id":"ref-for-event-handlers\u2462"}],"title":"3.2.10. Event handler"},{"refs":[{"id":"ref-for-event-handlers\u2463"},{"id":"ref-for-event-handlers\u2464"}],"title":"3.4.7. Event handlers"},{"refs":[{"id":"ref-for-event-handlers\u2465"},{"id":"ref-for-event-handlers\u2466"}],"title":"4.1.5. Event handlers"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"6a73c310": {"dfnID":"6a73c310","dfnText":"create","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-create-exception"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-dfn-create-exception\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-dfn-create-exception\u2461"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-dfn-create-exception\u2462"},{"id":"ref-for-dfn-create-exception\u2463"},{"id":"ref-for-dfn-create-exception\u2464"}],"title":"Reject Job Promise"}],"url":"https://webidl.spec.whatwg.org/#dfn-create-exception"},
"6a99d63f": {"dfnID":"6a99d63f","dfnText":"agent","external":true,"refSections":[{"refs":[{"id":"ref-for-agent"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://tc39.es/ecma262/#agent"},
"6ad16aca": {"dfnID":"6ad16aca","dfnText":"transfer","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-structuredserializeoptions-transfer"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-dom-structuredserializeoptions-transfer\u2460"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer"},
"6b6bb798": {"dfnID":"6b6bb798","dfnText":"enqueue","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-enqueue"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream-enqueue"},
"6bb42fbb": {"dfnID":"6bb42fbb","dfnText":"fetch controller","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-controller"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-fetch-controller\u2460"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#fetch-controller"},
"6c6b1005": {"dfnID":"6c6b1005","dfnText":"any","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-any"},{"id":"ref-for-idl-any\u2460"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-idl-any\u2461"},{"id":"ref-for-idl-any\u2462"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-idl-any\u2463"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-idl-any\u2464"},{"id":"ref-for-idl-any\u2465"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-idl-any\u2466"},{"id":"ref-for-idl-any\u2467"}],"title":"4.7. ExtendableMessageEvent"}],"url":"https://webidl.spec.whatwg.org/#idl-any"},
"6d1db60d": {"dfnID":"6d1db60d","dfnText":"service-workers mode","external":true,"refSections":[{"refs":[{"id":"ref-for-request-service-workers-mode"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-request-service-workers-mode\u2460"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-request-service-workers-mode\u2461"}],"title":"Update"},{"refs":[{"id":"ref-for-request-service-workers-mode\u2462"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#request-service-workers-mode"},
"6d997105": {"dfnID":"6d997105","dfnText":"read request","external":true,"refSections":[{"refs":[{"id":"ref-for-read-request"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#read-request"},
"6d9d1769": {"dfnID":"6d9d1769","dfnText":"IsCallable","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-iscallable"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://tc39.es/ecma262/#sec-iscallable"},
"6ee0eab1": {"dfnID":"6ee0eab1","dfnText":"header list (for request)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-header-list"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-request-header-list\u2460"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-request-header-list\u2461"},{"id":"ref-for-concept-request-header-list\u2462"}],"title":"Request Matches Cached Item"}],"url":"https://fetch.spec.whatwg.org/#concept-request-header-list"},
"6fbdf145": {"dfnID":"6fbdf145","dfnText":"equal","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-equals"}],"title":"Register"},{"refs":[{"id":"ref-for-concept-url-equals\u2460"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-url-equals\u2461"}],"title":"Request Matches Cached Item"}],"url":"https://url.spec.whatwg.org/#concept-url-equals"},
"70af124d": {"dfnID":"70af124d","dfnText":"Vary","external":true,"refSections":[{"refs":[{"id":"ref-for-section-7.1.4"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-section-7.1.4\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-section-7.1.4\u2461"}],"title":"Request Matches Cached Item"}],"url":"https://datatracker.ietf.org/doc/html/rfc7231#section-7.1.4"},
"715f22e4": {"dfnID":"715f22e4","dfnText":"if aborted","external":true,"refSections":[{"refs":[{"id":"ref-for-if-aborted"},{"id":"ref-for-if-aborted\u2460"},{"id":"ref-for-if-aborted\u2461"}],"title":"Handle Fetch"}],"url":"https://infra.spec.whatwg.org/#if-aborted"},
"719b834e": {"dfnID":"719b834e","dfnText":"legacy-obtain service worker fetch event listener callbacks","external":true,"refSections":[{"refs":[{"id":"ref-for-legacy-obtain-service-worker-fetch-event-listener-callbacks"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://dom.spec.whatwg.org/#legacy-obtain-service-worker-fetch-event-listener-callbacks"},
"7393da89": {"dfnID":"7393da89","dfnText":"same origin","external":true,"refSections":[{"refs":[{"id":"ref-for-same-origin"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-same-origin\u2460"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-same-origin\u2461"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-same-origin\u2462"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-same-origin\u2463"},{"id":"ref-for-same-origin\u2464"}],"title":"Register"},{"refs":[{"id":"ref-for-same-origin\u2465"}],"title":"Match Service Worker Registration"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#same-origin"},
"73a186aa": {"dfnID":"73a186aa","dfnText":"id","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-id"}],"title":"4.2.3. id"},{"refs":[{"id":"ref-for-concept-environment-id\u2460"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-concept-environment-id\u2461"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-concept-environment-id\u2462"},{"id":"ref-for-concept-environment-id\u2463"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id"},
"75a12309": {"dfnID":"75a12309","dfnText":"build a URL pattern from a Web IDL value","external":true,"refSections":[{"refs":[{"id":"ref-for-build-a-url-pattern-from-a-web-idl-value"}],"title":"Parse URL Pattern"}],"url":"https://urlpattern.spec.whatwg.org/#build-a-url-pattern-from-a-web-idl-value"},
"78457614": {"dfnID":"78457614","dfnText":"module map (for environment settings object)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-module-map"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-module-map"},
"78a97411": {"dfnID":"78a97411","dfnText":"environment discarding steps","external":true,"refSections":[{"refs":[{"id":"ref-for-environment-discarding-steps"}],"title":"2.4. Service Worker Client"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps"},
"78aa7d8d": {"dfnID":"78aa7d8d","dfnText":"run a module script","external":true,"refSections":[{"refs":[{"id":"ref-for-run-a-module-script"}],"title":"Run Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#run-a-module-script"},
"797018a7": {"dfnID":"797018a7","dfnText":"InvalidStateError","external":true,"refSections":[{"refs":[{"id":"ref-for-invalidstateerror"},{"id":"ref-for-invalidstateerror\u2460"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-invalidstateerror\u2461"}],"title":"3.6.1. enable()"},{"refs":[{"id":"ref-for-invalidstateerror\u2462"}],"title":"3.6.2. disable()"},{"refs":[{"id":"ref-for-invalidstateerror\u2463"}],"title":"3.6.3. setHeaderValue(value)"},{"refs":[{"id":"ref-for-invalidstateerror\u2464"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-invalidstateerror\u2465"},{"id":"ref-for-invalidstateerror\u2466"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-invalidstateerror\u2467"},{"id":"ref-for-invalidstateerror\u2468"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-invalidstateerror\u2460\u24ea"}],"title":"Batch Cache Operations"}],"url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"799ab505": {"dfnID":"799ab505","dfnText":"promise","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-promise-objects"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-sec-promise-objects\u2460"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-sec-promise-objects\u2461"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-sec-promise-objects\u2462"},{"id":"ref-for-sec-promise-objects\u2463"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-sec-promise-objects\u2464"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-sec-promise-objects\u2465"},{"id":"ref-for-sec-promise-objects\u2466"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-sec-promise-objects\u2467"},{"id":"ref-for-sec-promise-objects\u2468"},{"id":"ref-for-sec-promise-objects\u2460\u24ea"},{"id":"ref-for-sec-promise-objects\u2460\u2460"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-sec-promise-objects\u2460\u2461"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-sec-promise-objects\u2460\u2462"},{"id":"ref-for-sec-promise-objects\u2460\u2463"},{"id":"ref-for-sec-promise-objects\u2460\u2464"},{"id":"ref-for-sec-promise-objects\u2460\u2465"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-sec-promise-objects\u2460\u2466"},{"id":"ref-for-sec-promise-objects\u2460\u2467"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-sec-promise-objects\u2460\u2468"},{"id":"ref-for-sec-promise-objects\u2461\u24ea"},{"id":"ref-for-sec-promise-objects\u2461\u2460"},{"id":"ref-for-sec-promise-objects\u2461\u2461"},{"id":"ref-for-sec-promise-objects\u2461\u2462"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-sec-promise-objects\u2461\u2463"},{"id":"ref-for-sec-promise-objects\u2461\u2464"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-sec-promise-objects\u2461\u2465"}],"title":"4.6.6. event.handled"},{"refs":[{"id":"ref-for-sec-promise-objects\u2461\u2466"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-sec-promise-objects\u2461\u2467"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-sec-promise-objects\u2461\u2468"}],"title":"Create Job"},{"refs":[{"id":"ref-for-sec-promise-objects\u2462\u24ea"}],"title":"Start Register"},{"refs":[{"id":"ref-for-sec-promise-objects\u2462\u2460"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-sec-promise-objects\u2462\u2461"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-sec-promise-objects\u2462\u2462"}],"title":"Resolve Get Client Promise"}],"url":"https://tc39.es/ecma262/#sec-promise-objects"},
"7a2fc3e3": {"dfnID":"7a2fc3e3","dfnText":"type","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-workerglobalscope-type"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-type"},
"7a87d819": {"dfnID":"7a87d819","dfnText":"is","external":true,"refSections":[{"refs":[{"id":"ref-for-string-is"}],"title":"Handle Fetch"}],"url":"https://infra.spec.whatwg.org/#string-is"},
"7aab3a36": {"dfnID":"7aab3a36","dfnText":"decoded size","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-timing-info-decoded-body-size"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://fetch.spec.whatwg.org/#fetch-timing-info-decoded-body-size"},
"7b0d918d": {"dfnID":"7b0d918d","dfnText":"break","external":true,"refSections":[{"refs":[{"id":"ref-for-iteration-break"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://infra.spec.whatwg.org/#iteration-break"},
"7b162b57": {"dfnID":"7b162b57","dfnText":"ports","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-messageevent-ports"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-ports"},
"7b34ea98": {"dfnID":"7b34ea98","dfnText":"service worker timing info","external":true,"refSections":[{"refs":[{"id":"ref-for-response-service-worker-timing-info"},{"id":"ref-for-response-service-worker-timing-info\u2460"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-response-service-worker-timing-info\u2461"},{"id":"ref-for-response-service-worker-timing-info\u2462"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#response-service-worker-timing-info"},
"7bcff2a1": {"dfnID":"7bcff2a1","dfnText":"DOMContentLoaded","external":true,"refSections":[{"refs":[{"id":"ref-for-event-domcontentloaded"}],"title":"Run Job"}],"url":"https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded"},
"7c421916": {"dfnID":"7c421916","dfnText":"has focus steps","external":true,"refSections":[{"refs":[{"id":"ref-for-has-focus-steps"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-has-focus-steps\u2460"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-has-focus-steps\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-has-focus-steps\u2462"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-has-focus-steps\u2463"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps"},
"7c854216": {"dfnID":"7c854216","dfnText":"push","external":true,"refSections":[{"refs":[{"id":"ref-for-pushevent-interface"}],"title":"2.6. Task Sources"},{"refs":[{"id":"c22e82f90"}],"title":"4.8. Events"}],"url":"https://w3c.github.io/push-api/#pushevent-interface"},
"7d4424b2": {"dfnID":"7d4424b2","dfnText":"remove (for map)","external":true,"refSections":[{"refs":[{"id":"ref-for-map-remove"}],"title":"5.5.4. delete(cacheName)"},{"refs":[{"id":"ref-for-map-remove\u2460"},{"id":"ref-for-map-remove\u2461"}],"title":"Update"},{"refs":[{"id":"ref-for-map-remove\u2462"},{"id":"ref-for-map-remove\u2463"}],"title":"Install"},{"refs":[{"id":"ref-for-map-remove\u2464"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-map-remove\u2465"}],"title":"Unregister"},{"refs":[{"id":"ref-for-map-remove\u2466"}],"title":"Lookup Race Response"}],"url":"https://infra.spec.whatwg.org/#map-remove"},
"7de33c29": {"dfnID":"7de33c29","dfnText":"parallel queue","external":true,"refSections":[{"refs":[{"id":"ref-for-parallel-queue"}],"title":"2.1. Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue"},
"7f6a70d1": {"dfnID":"7f6a70d1","dfnText":"storage key","external":true,"refSections":[{"refs":[{"id":"ref-for-storage-key"},{"id":"ref-for-storage-key\u2460"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-storage-key\u2461"},{"id":"ref-for-storage-key\u2462"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-storage-key\u2463"},{"id":"ref-for-storage-key\u2464"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-storage-key\u2465"}],"title":"Create Job"},{"refs":[{"id":"ref-for-storage-key\u2466"}],"title":"Set Registration"},{"refs":[{"id":"ref-for-storage-key\u2467"}],"title":"Match Service Worker Registration"},{"refs":[{"id":"ref-for-storage-key\u2468"}],"title":"Get Registration"}],"url":"https://storage.spec.whatwg.org/#storage-key"},
"7f9469b5": {"dfnID":"7f9469b5","dfnText":"ASCII case-insensitive","external":true,"refSections":[{"refs":[{"id":"ref-for-ascii-case-insensitive"},{"id":"ref-for-ascii-case-insensitive\u2460"},{"id":"ref-for-ascii-case-insensitive\u2461"},{"id":"ref-for-ascii-case-insensitive\u2462"}],"title":"Start Register"}],"url":"https://infra.spec.whatwg.org/#ascii-case-insensitive"},
"7fb6fbc6": {"dfnID":"7fb6fbc6","dfnText":"Global","external":true,"refSections":[{"refs":[{"id":"ref-for-Global"}],"title":"4.1. ServiceWorkerGlobalScope"}],"url":"https://webidl.spec.whatwg.org/#Global"},
"802b0fdd": {"dfnID":"802b0fdd","dfnText":"value","external":true,"refSections":[{"refs":[{"id":"ref-for-map-value"}],"title":"5.1. Constructs"}],"url":"https://infra.spec.whatwg.org/#map-value"},
"80726755": {"dfnID":"80726755","dfnText":"task queues","external":true,"refSections":[{"refs":[{"id":"ref-for-task-queue"},{"id":"ref-for-task-queue\u2460"},{"id":"ref-for-task-queue\u2461"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-task-queue\u2462"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-task-queue\u2463"},{"id":"ref-for-task-queue\u2464"}],"title":"Terminate Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-queue"},
"80bf04ff": {"dfnID":"80bf04ff","dfnText":"coarsen time","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-coarsen-time"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://w3c.github.io/hr-time/#dfn-coarsen-time"},
"80f5eafb": {"dfnID":"80f5eafb","dfnText":"body info","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-body-info"},{"id":"ref-for-concept-response-body-info\u2460"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://fetch.spec.whatwg.org/#concept-response-body-info"},
"81a76425": {"dfnID":"81a76425","dfnText":"body (for response)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-body"},{"id":"ref-for-concept-response-body\u2460"},{"id":"ref-for-concept-response-body\u2461"},{"id":"ref-for-concept-response-body\u2462"},{"id":"ref-for-concept-response-body\u2463"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-concept-response-body\u2464"},{"id":"ref-for-concept-response-body\u2465"},{"id":"ref-for-concept-response-body\u2466"},{"id":"ref-for-concept-response-body\u2467"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-response-body\u2468"},{"id":"ref-for-concept-response-body\u2460\u24ea"},{"id":"ref-for-concept-response-body\u2460\u2460"},{"id":"ref-for-concept-response-body\u2460\u2461"}],"title":"Update"}],"url":"https://fetch.spec.whatwg.org/#concept-response-body"},
"8236ea30": {"dfnID":"8236ea30","dfnText":"declaration","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-ecmascript-language-statements-and-declarations"},{"id":"ref-for-sec-ecmascript-language-statements-and-declarations\u2460"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://tc39.es/ecma262/#sec-ecmascript-language-statements-and-declarations"},
"825cbc48": {"dfnID":"825cbc48","dfnText":"user interaction task source","external":true,"refSections":[{"refs":[{"id":"ref-for-user-interaction-task-source"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-user-interaction-task-source\u2460"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-user-interaction-task-source\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-user-interaction-task-source\u2462"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-user-interaction-task-source\u2463"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"},
"82ca3efc": {"dfnID":"82ca3efc","dfnText":"TypeError","external":true,"refSections":[{"refs":[{"id":"ref-for-exceptiondef-typeerror"},{"id":"ref-for-exceptiondef-typeerror\u2460"},{"id":"ref-for-exceptiondef-typeerror\u2461"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-exceptiondef-typeerror\u2462"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"838900a7": {"dfnID":"838900a7","dfnText":"isTrusted","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-istrusted"}],"title":"4.4. ExtendableEvent"}],"url":"https://dom.spec.whatwg.org/#dom-event-istrusted"},
"839611db": {"dfnID":"839611db","dfnText":"subresource request","external":true,"refSections":[{"refs":[{"id":"ref-for-subresource-request"},{"id":"ref-for-subresource-request\u2460"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-subresource-request\u2461"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-subresource-request\u2462"}],"title":"Lookup Race Response"}],"url":"https://fetch.spec.whatwg.org/#subresource-request"},
"83c59a3a": {"dfnID":"83c59a3a","dfnText":"WorkerGlobalScope","external":true,"refSections":[{"refs":[{"id":"ref-for-workerglobalscope"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-workerglobalscope\u2460"}],"title":"5. Caches"},{"refs":[{"id":"ref-for-workerglobalscope\u2461"}],"title":"5.5. CacheStorage"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope"},
"84b454ff": {"dfnID":"84b454ff","dfnText":"ordered map","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-map"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-ordered-map\u2460"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-ordered-map\u2461"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-ordered-map\u2462"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-ordered-map\u2463"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-ordered-map\u2464"},{"id":"ref-for-ordered-map\u2465"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-ordered-map\u2466"}],"title":"Update"}],"url":"https://infra.spec.whatwg.org/#ordered-map"},
"84fb0b9d": {"dfnID":"84fb0b9d","dfnText":"listener","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-listener"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-listener"},
"857d5516": {"dfnID":"857d5516","dfnText":"client","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-client"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-request-client\u2460"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-concept-request-client\u2461"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-request-client\u2462"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-request-client\u2463"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-concept-request-client\u2464"}],"title":"Lookup Race Response"}],"url":"https://fetch.spec.whatwg.org/#concept-request-client"},
"860300d4": {"dfnID":"860300d4","dfnText":"implementation-defined","external":true,"refSections":[{"refs":[{"id":"ref-for-implementation-defined"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://infra.spec.whatwg.org/#implementation-defined"},
"87fcd40c": {"dfnID":"87fcd40c","dfnText":"iframe","external":true,"refSections":[{"refs":[{"id":"ref-for-the-iframe-element"}],"title":"2.5.1. The window client case"}],"url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element"},
"8855a9aa": {"dfnID":"8855a9aa","dfnText":"DOMString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMString"},{"id":"ref-for-idl-DOMString\u2460"}],"title":"2.2. Service Worker Timing"},{"refs":[{"id":"ref-for-idl-DOMString\u2461"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-idl-DOMString\u2462"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-idl-DOMString\u2463"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-idl-DOMString\u2464"},{"id":"ref-for-idl-DOMString\u2465"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-idl-DOMString\u2466"},{"id":"ref-for-idl-DOMString\u2467"},{"id":"ref-for-idl-DOMString\u2468"},{"id":"ref-for-idl-DOMString\u2460\u24ea"},{"id":"ref-for-idl-DOMString\u2460\u2460"},{"id":"ref-for-idl-DOMString\u2460\u2461"},{"id":"ref-for-idl-DOMString\u2460\u2462"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-idl-DOMString\u2460\u2463"},{"id":"ref-for-idl-DOMString\u2460\u2464"},{"id":"ref-for-idl-DOMString\u2460\u2465"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-idl-DOMString\u2460\u2466"},{"id":"ref-for-idl-DOMString\u2460\u2467"},{"id":"ref-for-idl-DOMString\u2460\u2468"},{"id":"ref-for-idl-DOMString\u2461\u24ea"},{"id":"ref-for-idl-DOMString\u2461\u2460"}],"title":"5.5. CacheStorage"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-Exposed\u2460"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-Exposed\u2461"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-Exposed\u2462"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-Exposed\u2463"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-Exposed\u2464"},{"id":"ref-for-Exposed\u2465"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-Exposed\u2466"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-Exposed\u2467"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-Exposed\u2468"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-Exposed\u2460\u24ea"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-Exposed\u2460\u2460"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-Exposed\u2460\u2461"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-Exposed\u2460\u2462"}],"title":"5.5. CacheStorage"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8958b003": {"dfnID":"8958b003","dfnText":"entry","external":true,"refSections":[{"refs":[{"id":"ref-for-map-entry"}],"title":"5.1. Constructs"}],"url":"https://infra.spec.whatwg.org/#map-entry"},
"8a30477b": {"dfnID":"8a30477b","dfnText":"global object (for environment settings object)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-global"},{"id":"ref-for-concept-settings-object-global\u2460"},{"id":"ref-for-concept-settings-object-global\u2461"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-concept-settings-object-global\u2462"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-settings-object-global\u2463"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-concept-settings-object-global\u2464"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-concept-settings-object-global\u2465"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-concept-settings-object-global\u2466"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-settings-object-global\u2467"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-concept-settings-object-global\u2468"}],"title":"Activate"},{"refs":[{"id":"ref-for-concept-settings-object-global\u2460\u24ea"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-concept-settings-object-global\u2460\u2460"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"},
"8a608b90": {"dfnID":"8a608b90","dfnText":"value","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-value"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-header-value\u2460"}],"title":"Request Matches Cached Item"}],"url":"https://fetch.spec.whatwg.org/#concept-header-value"},
"8abfc3b6": {"dfnID":"8abfc3b6","dfnText":"creating an event","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-create"},{"id":"ref-for-concept-event-create\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-event-create\u2461"}],"title":"Install"},{"refs":[{"id":"ref-for-concept-event-create\u2462"}],"title":"Activate"},{"refs":[{"id":"ref-for-concept-event-create\u2463"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-concept-event-create\u2464"}],"title":"Fire Functional Event"}],"url":"https://dom.spec.whatwg.org/#concept-event-create"},
"8ba500d2": {"dfnID":"8ba500d2","dfnText":"RequestInfo","external":true,"refSections":[{"refs":[{"id":"ref-for-requestinfo"},{"id":"ref-for-requestinfo\u2460"},{"id":"ref-for-requestinfo\u2461"},{"id":"ref-for-requestinfo\u2462"},{"id":"ref-for-requestinfo\u2463"},{"id":"ref-for-requestinfo\u2464"},{"id":"ref-for-requestinfo\u2465"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-requestinfo\u2466"}],"title":"5.5. CacheStorage"}],"url":"https://fetch.spec.whatwg.org/#requestinfo"},
"8c407366": {"dfnID":"8c407366","dfnText":"cancelable","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-cancelable"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://dom.spec.whatwg.org/#dom-event-cancelable"},
"8d831b4d": {"dfnID":"8d831b4d","dfnText":"equal","external":true,"refSections":[{"refs":[{"id":"ref-for-storage-key-equal"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-storage-key-equal\u2460"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-storage-key-equal\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-storage-key-equal\u2462"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-storage-key-equal\u2463"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-storage-key-equal\u2464"}],"title":"Match Service Worker Registration"},{"refs":[{"id":"ref-for-storage-key-equal\u2465"}],"title":"Get Registration"}],"url":"https://storage.spec.whatwg.org/#storage-key-equal"},
"8e720892": {"dfnID":"8e720892","dfnText":"clone (for request)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-clone"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#concept-request-clone"},
"8e9945a0": {"dfnID":"8e9945a0","dfnText":"body (for request)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-body"},{"id":"ref-for-concept-request-body\u2460"},{"id":"ref-for-concept-request-body\u2461"},{"id":"ref-for-concept-request-body\u2462"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#concept-request-body"},
"8f5c2179": {"dfnID":"8f5c2179","dfnText":"a promise resolved with","external":true,"refSections":[{"refs":[{"id":"ref-for-a-promise-resolved-with"}],"title":"4.6.2. event.preloadResponse"},{"refs":[{"id":"ref-for-a-promise-resolved-with\u2460"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-a-promise-resolved-with\u2461"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-a-promise-resolved-with\u2462"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-a-promise-resolved-with\u2463"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-a-promise-resolved-with\u2464"}],"title":"5.5.1. match(request, options)"}],"url":"https://webidl.spec.whatwg.org/#a-promise-resolved-with"},
"9186a208": {"dfnID":"9186a208","dfnText":"ancestor origins list","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-location-ancestor-origins-list"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-concept-location-ancestor-origins-list\u2460"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-concept-location-ancestor-origins-list\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-concept-location-ancestor-origins-list\u2462"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-concept-location-ancestor-origins-list\u2463"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-location-ancestor-origins-list"},
"93268483": {"dfnID":"93268483","dfnText":"closing","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-workerglobalscope-closing"}],"title":"Terminate Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-closing"},
"959ad97b": {"dfnID":"959ad97b","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-origin"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-concept-url-origin\u2460"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-concept-url-origin\u2461"},{"id":"ref-for-concept-url-origin\u2462"},{"id":"ref-for-concept-url-origin\u2463"},{"id":"ref-for-concept-url-origin\u2464"}],"title":"Register"},{"refs":[{"id":"ref-for-concept-url-origin\u2465"},{"id":"ref-for-concept-url-origin\u2466"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-url-origin\u2467"}],"title":"Install"},{"refs":[{"id":"ref-for-concept-url-origin\u2468"}],"title":"Update Worker State"},{"refs":[{"id":"ref-for-concept-url-origin\u2460\u24ea"},{"id":"ref-for-concept-url-origin\u2460\u2460"}],"title":"Match Service Worker Registration"}],"url":"https://url.spec.whatwg.org/#concept-url-origin"},
"95d7775a": {"dfnID":"95d7775a","dfnText":"Uint8Array","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-Uint8Array"},{"id":"ref-for-idl-Uint8Array\u2460"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://webidl.spec.whatwg.org/#idl-Uint8Array"},
"96dabee7": {"dfnID":"96dabee7","dfnText":"potentially trustworthy origin","external":true,"refSections":[{"refs":[{"id":"ref-for-potentially-trustworthy-origin"}],"title":"Register"}],"url":"https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-origin"},
"984221ca": {"dfnID":"984221ca","dfnText":"struct","external":true,"refSections":[{"refs":[{"id":"ref-for-struct"}],"title":"2.2. Service Worker Timing"},{"refs":[{"id":"ref-for-struct\u2460"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-struct\u2461"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-struct\u2462"}],"title":"5.4. Cache"}],"url":"https://infra.spec.whatwg.org/#struct"},
"99030cf4": {"dfnID":"99030cf4","dfnText":"fetch a module worker script graph","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-a-module-worker-script-tree"},{"id":"ref-for-fetch-a-module-worker-script-tree\u2460"}],"title":"Update"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree"},
"99c988d6": {"dfnID":"99c988d6","dfnText":"remove (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-remove"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-list-remove\u2460"}],"title":"Update Service Worker Extended Events Set"},{"refs":[{"id":"ref-for-list-remove\u2461"},{"id":"ref-for-list-remove\u2462"},{"id":"ref-for-list-remove\u2463"}],"title":"Batch Cache Operations"}],"url":"https://infra.spec.whatwg.org/#list-remove"},
"99d701c5": {"dfnID":"99d701c5","dfnText":"guard","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-headers-guard"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-concept-headers-guard\u2460"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-concept-headers-guard\u2461"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-headers-guard\u2462"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#concept-headers-guard"},
"9a31d086": {"dfnID":"9a31d086","dfnText":"unsafe shared current time","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-unsafe-shared-current-time"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time"},
"9a517a7d": {"dfnID":"9a517a7d","dfnText":"queue a task","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-a-task"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-queue-a-task\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-queue-a-task\u2461"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-queue-a-task\u2462"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-queue-a-task\u2463"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-queue-a-task\u2464"},{"id":"ref-for-queue-a-task\u2465"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-queue-a-task\u2466"},{"id":"ref-for-queue-a-task\u2467"},{"id":"ref-for-queue-a-task\u2468"},{"id":"ref-for-queue-a-task\u2460\u24ea"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-queue-a-task\u2460\u2460"},{"id":"ref-for-queue-a-task\u2460\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-queue-a-task\u2460\u2462"},{"id":"ref-for-queue-a-task\u2460\u2463"},{"id":"ref-for-queue-a-task\u2460\u2464"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-queue-a-task\u2460\u2465"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-queue-a-task\u2460\u2466"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-queue-a-task\u2460\u2467"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-queue-a-task\u2460\u2468"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-queue-a-task\u2461\u24ea"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-queue-a-task\u2461\u2460"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-queue-a-task\u2461\u2461"}],"title":"Run Job"},{"refs":[{"id":"ref-for-queue-a-task\u2461\u2462"},{"id":"ref-for-queue-a-task\u2461\u2463"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-queue-a-task\u2461\u2464"},{"id":"ref-for-queue-a-task\u2461\u2465"}],"title":"Reject Job Promise"},{"refs":[{"id":"ref-for-queue-a-task\u2461\u2466"},{"id":"ref-for-queue-a-task\u2461\u2467"},{"id":"ref-for-queue-a-task\u2461\u2468"}],"title":"Install"},{"refs":[{"id":"ref-for-queue-a-task\u2462\u24ea"},{"id":"ref-for-queue-a-task\u2462\u2460"}],"title":"Activate"},{"refs":[{"id":"ref-for-queue-a-task\u2462\u2461"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-queue-a-task\u2462\u2462"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-queue-a-task\u2462\u2463"},{"id":"ref-for-queue-a-task\u2462\u2464"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-queue-a-task\u2462\u2465"}],"title":"Fire Functional Event"},{"refs":[{"id":"ref-for-queue-a-task\u2462\u2466"},{"id":"ref-for-queue-a-task\u2462\u2467"},{"id":"ref-for-queue-a-task\u2462\u2468"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-queue-a-task\u2463\u24ea"}],"title":"Update Worker State"},{"refs":[{"id":"ref-for-queue-a-task\u2463\u2460"}],"title":"Notify Controller Change"},{"refs":[{"id":"ref-for-queue-a-task\u2463\u2461"},{"id":"ref-for-queue-a-task\u2463\u2462"},{"id":"ref-for-queue-a-task\u2463\u2463"},{"id":"ref-for-queue-a-task\u2463\u2464"},{"id":"ref-for-queue-a-task\u2463\u2465"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"},
"9a95489b": {"dfnID":"9a95489b","dfnText":"internal response","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-internal-response"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-concept-internal-response\u2460"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#concept-internal-response"},
"9a9b558b": {"dfnID":"9a9b558b","dfnText":"dequeue","external":true,"refSections":[{"refs":[{"id":"ref-for-queue-dequeue"}],"title":"Finish Job"},{"refs":[{"id":"ref-for-queue-dequeue\u2460"}],"title":"Handle Fetch"}],"url":"https://infra.spec.whatwg.org/#queue-dequeue"},
"9b3743cd": {"dfnID":"9b3743cd","dfnText":"module map (for WorkerGlobalScope)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-workerglobalscope-module-map"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-module-map"},
"9b7e9c92": {"dfnID":"9b7e9c92","dfnText":"map objects","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-map-objects"}],"title":"5.5. CacheStorage"}],"url":"https://tc39.es/ecma262/#sec-map-objects"},
"9c149c85": {"dfnID":"9c149c85","dfnText":"ThrowCompletion","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-throwcompletion"}],"title":"Run Service Worker"}],"url":"https://tc39.es/ecma262/#sec-throwcompletion"},
"9c19b7fc": {"dfnID":"9c19b7fc","dfnText":"navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-navigable"}],"title":"Get Frame Type"},{"refs":[{"id":"ref-for-navigable\u2460"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"},
"9c4c1e66": {"dfnID":"9c4c1e66","dfnText":"relevant settings object","external":true,"refSections":[{"refs":[{"id":"ref-for-relevant-settings-object"},{"id":"ref-for-relevant-settings-object\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2461"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-relevant-settings-object\u2462"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-relevant-settings-object\u2463"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-relevant-settings-object\u2464"}],"title":"3.4.1. controller"},{"refs":[{"id":"ref-for-relevant-settings-object\u2465"},{"id":"ref-for-relevant-settings-object\u2466"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-relevant-settings-object\u2467"},{"id":"ref-for-relevant-settings-object\u2468"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460\u24ea"},{"id":"ref-for-relevant-settings-object\u2460\u2460"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460\u2461"},{"id":"ref-for-relevant-settings-object\u2460\u2462"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460\u2463"}],"title":"4.1.2. registration"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460\u2464"}],"title":"4.1.3. serviceWorker"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460\u2465"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460\u2466"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460\u2467"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2460\u2468"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2461\u24ea"},{"id":"ref-for-relevant-settings-object\u2461\u2460"},{"id":"ref-for-relevant-settings-object\u2461\u2461"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2461\u2462"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2461\u2463"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2461\u2464"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2461\u2465"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-relevant-settings-object\u2461\u2466"}],"title":"Activate"},{"refs":[{"id":"ref-for-relevant-settings-object\u2461\u2467"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-relevant-settings-object\u2461\u2468"},{"id":"ref-for-relevant-settings-object\u2462\u24ea"},{"id":"ref-for-relevant-settings-object\u2462\u2460"},{"id":"ref-for-relevant-settings-object\u2462\u2461"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-relevant-settings-object\u2462\u2462"},{"id":"ref-for-relevant-settings-object\u2462\u2463"},{"id":"ref-for-relevant-settings-object\u2462\u2464"},{"id":"ref-for-relevant-settings-object\u2462\u2465"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"9c5d9c4d": {"dfnID":"9c5d9c4d","dfnText":"potentially trustworthy URL","external":true,"refSections":[{"refs":[{"id":"ref-for-potentially-trustworthy-url"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-potentially-trustworthy-url\u2460"}],"title":"Resolve Get Client Promise"}],"url":"https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-url"},
"9cce47fd": {"dfnID":"9cce47fd","dfnText":"sequence","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-sequence"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-idl-sequence\u2460"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-idl-sequence\u2461"},{"id":"ref-for-idl-sequence\u2462"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-idl-sequence\u2463"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-idl-sequence\u2464"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-idl-sequence\u2465"}],"title":"5.5. CacheStorage"}],"url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"9ceffca3": {"dfnID":"9ceffca3","dfnText":"has regexp groups","external":true,"refSections":[{"refs":[{"id":"ref-for-url-pattern-has-regexp-groups"}],"title":"Verify Router Condition"}],"url":"https://urlpattern.spec.whatwg.org/#url-pattern-has-regexp-groups"},
"9d09d04c": {"dfnID":"9d09d04c","dfnText":"type","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-type"}],"title":"Install"},{"refs":[{"id":"ref-for-dom-event-type\u2460"}],"title":"Activate"},{"refs":[{"id":"ref-for-dom-event-type\u2461"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://dom.spec.whatwg.org/#dom-event-type"},
"9d386f55": {"dfnID":"9d386f55","dfnText":"event handler event type","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-event-type"},{"id":"ref-for-event-handler-event-type\u2460"}],"title":"3.1.6. Event handler"},{"refs":[{"id":"ref-for-event-handler-event-type\u2461"},{"id":"ref-for-event-handler-event-type\u2462"}],"title":"3.2.10. Event handler"},{"refs":[{"id":"ref-for-event-handler-event-type\u2463"},{"id":"ref-for-event-handler-event-type\u2464"}],"title":"3.4.7. Event handlers"},{"refs":[{"id":"ref-for-event-handler-event-type\u2465"},{"id":"ref-for-event-handler-event-type\u2466"}],"title":"4.1.5. Event handlers"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"9da834a1": {"dfnID":"9da834a1","dfnText":"StructuredSerializeWithTransfer","external":true,"refSections":[{"refs":[{"id":"ref-for-structuredserializewithtransfer"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-structuredserializewithtransfer\u2460"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"},
"a0d0a7c7": {"dfnID":"a0d0a7c7","dfnText":"source","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-messageevent-source"},{"id":"ref-for-dom-messageevent-source\u2460"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source"},
"a0fdc68e": {"dfnID":"a0fdc68e","dfnText":"encoded size","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-timing-info-encoded-body-size"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://fetch.spec.whatwg.org/#fetch-timing-info-encoded-body-size"},
"a1005ed9": {"dfnID":"a1005ed9","dfnText":"module script","external":true,"refSections":[{"refs":[{"id":"ref-for-module-script"}],"title":"Run Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#module-script"},
"a1d47575": {"dfnID":"a1d47575","dfnText":"status","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-status"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-response-status\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-response-status\u2461"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-concept-response-status\u2462"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#concept-response-status"},
"a27468c5": {"dfnID":"a27468c5","dfnText":"ok status","external":true,"refSections":[{"refs":[{"id":"ref-for-ok-status"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-ok-status\u2460"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-ok-status\u2461"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#ok-status"},
"a2d0ae2a": {"dfnID":"a2d0ae2a","dfnText":"processResponseEndOfBody","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-processresponseendofbody"}],"title":"5.4.4. addAll(requests)"}],"url":"https://fetch.spec.whatwg.org/#fetch-processresponseendofbody"},
"a33db89a": {"dfnID":"a33db89a","dfnText":"fetch","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-fetch"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-concept-fetch\u2460"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-concept-fetch\u2461"},{"id":"ref-for-concept-fetch\u2462"},{"id":"ref-for-concept-fetch\u2463"},{"id":"ref-for-concept-fetch\u2464"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-concept-fetch\u2465"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-fetch\u2466"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-concept-fetch\u2467"},{"id":"ref-for-concept-fetch\u2468"}],"title":"6.4. Cross-Origin Resources and CORS"},{"refs":[{"id":"ref-for-concept-fetch\u2460\u24ea"},{"id":"ref-for-concept-fetch\u2460\u2460"},{"id":"ref-for-concept-fetch\u2460\u2461"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-fetch\u2460\u2462"},{"id":"ref-for-concept-fetch\u2460\u2463"},{"id":"ref-for-concept-fetch\u2460\u2464"},{"id":"ref-for-concept-fetch\u2460\u2465"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-fetch\u2460\u2466"}],"title":"Service Worker Script Request"}],"url":"https://fetch.spec.whatwg.org/#concept-fetch"},
"a3b18719": {"dfnID":"a3b18719","dfnText":"append (for set)","external":true,"refSections":[{"refs":[{"id":"ref-for-set-append"},{"id":"ref-for-set-append\u2460"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-set-append\u2461"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-set-append\u2462"}],"title":"Update Service Worker Extended Events Set"},{"refs":[{"id":"ref-for-set-append\u2463"}],"title":"Is Async Module"}],"url":"https://infra.spec.whatwg.org/#set-append"},
"a4785085": {"dfnID":"a4785085","dfnText":"WorkerNavigator","external":true,"refSections":[{"refs":[{"id":"ref-for-workernavigator"}],"title":"3.3. navigator.serviceWorker"},{"refs":[{"id":"ref-for-workernavigator\u2460"},{"id":"ref-for-workernavigator\u2461"}],"title":"3.4. ServiceWorkerContainer"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#workernavigator"},
"a5c91173": {"dfnID":"a5c91173","dfnText":"SameObject","external":true,"refSections":[{"refs":[{"id":"ref-for-SameObject"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-SameObject\u2460"},{"id":"ref-for-SameObject\u2461"}],"title":"3.3. navigator.serviceWorker"},{"refs":[{"id":"ref-for-SameObject\u2462"},{"id":"ref-for-SameObject\u2463"},{"id":"ref-for-SameObject\u2464"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-SameObject\u2465"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-SameObject\u2466"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-SameObject\u2467"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-SameObject\u2468"}],"title":"5.3. self.caches"}],"url":"https://webidl.spec.whatwg.org/#SameObject"},
"a6a8ec88": {"dfnID":"a6a8ec88","dfnText":"append","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header-list-append"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#concept-header-list-append"},
"a72449dd": {"dfnID":"a72449dd","dfnText":"in parallel","external":true,"refSections":[{"refs":[{"id":"ref-for-in-parallel"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-in-parallel\u2460"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-in-parallel\u2461"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-in-parallel\u2462"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-in-parallel\u2463"}],"title":"3.6.1. enable()"},{"refs":[{"id":"ref-for-in-parallel\u2464"}],"title":"3.6.2. disable()"},{"refs":[{"id":"ref-for-in-parallel\u2465"}],"title":"3.6.3. setHeaderValue(value)"},{"refs":[{"id":"ref-for-in-parallel\u2466"}],"title":"3.6.4. getState()"},{"refs":[{"id":"ref-for-in-parallel\u2467"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-in-parallel\u2468"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-in-parallel\u2460\u24ea"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2460"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2461"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2462"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2463"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2464"}],"title":"5.4.1. match(request, options)"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2465"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2466"},{"id":"ref-for-in-parallel\u2460\u2467"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-in-parallel\u2460\u2468"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-in-parallel\u2461\u24ea"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-in-parallel\u2461\u2460"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-in-parallel\u2461\u2461"}],"title":"5.5.1. match(request, options)"},{"refs":[{"id":"ref-for-in-parallel\u2461\u2462"}],"title":"5.5.2. has(cacheName)"},{"refs":[{"id":"ref-for-in-parallel\u2461\u2463"}],"title":"5.5.3. open(cacheName)"},{"refs":[{"id":"ref-for-in-parallel\u2461\u2464"}],"title":"5.5.4. delete(cacheName)"},{"refs":[{"id":"ref-for-in-parallel\u2461\u2465"}],"title":"5.5.5. keys()"},{"refs":[{"id":"ref-for-in-parallel\u2461\u2466"},{"id":"ref-for-in-parallel\u2461\u2467"},{"id":"ref-for-in-parallel\u2461\u2468"}],"title":"Run Job"},{"refs":[{"id":"ref-for-in-parallel\u2462\u24ea"}],"title":"Install"},{"refs":[{"id":"ref-for-in-parallel\u2462\u2460"}],"title":"Activate"},{"refs":[{"id":"ref-for-in-parallel\u2462\u2461"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-in-parallel\u2462\u2462"},{"id":"ref-for-in-parallel\u2462\u2463"},{"id":"ref-for-in-parallel\u2462\u2464"},{"id":"ref-for-in-parallel\u2462\u2465"},{"id":"ref-for-in-parallel\u2462\u2466"},{"id":"ref-for-in-parallel\u2462\u2467"},{"id":"ref-for-in-parallel\u2462\u2468"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-in-parallel\u2463\u24ea"},{"id":"ref-for-in-parallel\u2463\u2460"},{"id":"ref-for-in-parallel\u2463\u2461"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-in-parallel\u2463\u2462"},{"id":"ref-for-in-parallel\u2463\u2463"},{"id":"ref-for-in-parallel\u2463\u2464"}],"title":"Fire Functional Event"},{"refs":[{"id":"ref-for-in-parallel\u2463\u2465"}],"title":"Handle User Agent Shutdown"}],"url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"a8ce2b70": {"dfnID":"a8ce2b70","dfnText":"AbstractWorker","external":true,"refSections":[{"refs":[{"id":"ref-for-abstractworker"}],"title":"3.1. ServiceWorker"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#abstractworker"},
"a93f0b06": {"dfnID":"a93f0b06","dfnText":"JavaScript MIME type","external":true,"refSections":[{"refs":[{"id":"ref-for-javascript-mime-type"}],"title":"6.6. Service worker script request"},{"refs":[{"id":"ref-for-javascript-mime-type\u2460"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-javascript-mime-type\u2461"}],"title":"Update"}],"url":"https://mimesniff.spec.whatwg.org/#javascript-mime-type"},
"a973e0fe": {"dfnID":"a973e0fe","dfnText":"document","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document"},{"id":"ref-for-concept-document\u2460"},{"id":"ref-for-concept-document\u2461"},{"id":"ref-for-concept-document\u2462"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-concept-document\u2463"},{"id":"ref-for-concept-document\u2464"}],"title":"2.5. Control and Use"}],"url":"https://dom.spec.whatwg.org/#concept-document"},
"a9a61cfb": {"dfnID":"a9a61cfb","dfnText":"fetch a classic worker-imported script","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-a-classic-worker-imported-script"}],"title":"Appendix A: Algorithms"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-imported-script"},
"abbed741": {"dfnID":"abbed741","dfnText":"frozen array type","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-frozen-array-type"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-dfn-frozen-array-type\u2460"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-dfn-frozen-array-type\u2461"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-dfn-frozen-array-type\u2462"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-dfn-frozen-array-type\u2463"}],"title":"Create Window Client"}],"url":"https://webidl.spec.whatwg.org/#dfn-frozen-array-type"},
"abe352cd": {"dfnID":"abe352cd","dfnText":"reserved client","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-reserved-client"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-request-reserved-client\u2460"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-concept-request-reserved-client\u2461"},{"id":"ref-for-concept-request-reserved-client\u2462"}],"title":"Lookup Race Response"}],"url":"https://fetch.spec.whatwg.org/#concept-request-reserved-client"},
"activate": {"dfnID":"activate","dfnText":"Activate","external":false,"refSections":[{"refs":[{"id":"ref-for-activate"},{"id":"ref-for-activate\u2460"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-activate\u2461"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-activate\u2462"},{"id":"ref-for-activate\u2463"}],"title":"Install"},{"refs":[{"id":"ref-for-activate\u2464"}],"title":"Try Activate"},{"refs":[{"id":"ref-for-activate\u2465"}],"title":"Handle User Agent Shutdown"}],"url":"#activate"},
"ad191408": {"dfnID":"ad191408","dfnText":"read a chunk","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestreamdefaultreader-read-a-chunk"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-a-chunk"},
"ae2a6342": {"dfnID":"ae2a6342","dfnText":"top-level browsing context","external":true,"refSections":[{"refs":[{"id":"ref-for-top-level-browsing-context"}],"title":"4.3.3. openWindow(url)"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context"},
"ae4bc361": {"dfnID":"ae4bc361","dfnText":"converted to an ECMAScript value","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-convert-idl-to-javascript-value"},{"id":"ref-for-dfn-convert-idl-to-javascript-value\u2460"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value"},
"ae8def21": {"dfnID":"ae8def21","dfnText":"contain","external":true,"refSections":[{"refs":[{"id":"ref-for-list-contain"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-list-contain\u2460"}],"title":"Install"},{"refs":[{"id":"ref-for-list-contain\u2461"}],"title":"All Fetch Listeners Are Empty"},{"refs":[{"id":"ref-for-list-contain\u2462"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-list-contain\u2463"}],"title":"Should Skip Event"},{"refs":[{"id":"ref-for-list-contain\u2464"}],"title":"Is Async Module"}],"url":"https://infra.spec.whatwg.org/#list-contain"},
"af5cef2c": {"dfnID":"af5cef2c","dfnText":"isTopLevel","external":true,"refSections":[{"refs":[{"id":"ref-for-fetching-scripts-is-top-level"}],"title":"Update"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-is-top-level"},
"all-fetch-listeners-are-empty": {"dfnID":"all-fetch-listeners-are-empty","dfnText":"All Fetch Listeners Are Empty","external":false,"refSections":[{"refs":[{"id":"ref-for-all-fetch-listeners-are-empty"}],"title":"Run Service Worker"}],"url":"#all-fetch-listeners-are-empty"},
"b01b1359": {"dfnID":"b01b1359","dfnText":"opaque origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-origin-opaque"},{"id":"ref-for-concept-origin-opaque\u2460"},{"id":"ref-for-concept-origin-opaque\u2461"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-concept-origin-opaque\u2462"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-concept-origin-opaque\u2463"}],"title":"2.5. Control and Use"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"},
"b0cc35b0": {"dfnID":"b0cc35b0","dfnText":"event handler map","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-map"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-map"},
"b0d7f3c3": {"dfnID":"b0d7f3c3","dfnText":"USVString","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-USVString"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-idl-USVString\u2460"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-idl-USVString\u2461"},{"id":"ref-for-idl-USVString\u2462"},{"id":"ref-for-idl-USVString\u2463"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-idl-USVString\u2464"},{"id":"ref-for-idl-USVString\u2465"},{"id":"ref-for-idl-USVString\u2466"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-idl-USVString\u2467"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-idl-USVString\u2468"},{"id":"ref-for-idl-USVString\u2460\u24ea"}],"title":"4.7. ExtendableMessageEvent"}],"url":"https://webidl.spec.whatwg.org/#idl-USVString"},
"b262501e": {"dfnID":"b262501e","dfnText":"reject","external":true,"refSections":[{"refs":[{"id":"ref-for-reject"}],"title":"3.6.1. enable()"},{"refs":[{"id":"ref-for-reject\u2460"}],"title":"3.6.2. disable()"},{"refs":[{"id":"ref-for-reject\u2461"}],"title":"3.6.3. setHeaderValue(value)"},{"refs":[{"id":"ref-for-reject\u2462"},{"id":"ref-for-reject\u2463"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://webidl.spec.whatwg.org/#reject"},
"b2e9303e": {"dfnID":"b2e9303e","dfnText":"perform the fetch hook","external":true,"refSections":[{"refs":[{"id":"ref-for-fetching-scripts-perform-fetch"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-fetching-scripts-perform-fetch\u2460"}],"title":"Update"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch"},
"b33787b2": {"dfnID":"b33787b2","dfnText":"policy container","external":true,"refSections":[{"refs":[{"id":"ref-for-policy-container"}],"title":"2.1. Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#policy-container"},
"b3cf1c94": {"dfnID":"b3cf1c94","dfnText":"close","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-close"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream-close"},
"b4c5b3f7": {"dfnID":"b4c5b3f7","dfnText":"RequestDestination","external":true,"refSections":[{"refs":[{"id":"ref-for-requestdestination"}],"title":"4.5. InstallEvent"}],"url":"https://fetch.spec.whatwg.org/#requestdestination"},
"b4cfa5ce": {"dfnID":"b4cfa5ce","dfnText":"throw","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-throw"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-dfn-throw\u2460"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-dfn-throw\u2461"},{"id":"ref-for-dfn-throw\u2462"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dfn-throw\u2463"},{"id":"ref-for-dfn-throw\u2464"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-dfn-throw\u2465"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-dfn-throw\u2466"},{"id":"ref-for-dfn-throw\u2467"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-dfn-throw\u2468"},{"id":"ref-for-dfn-throw\u2460\u24ea"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-dfn-throw\u2460\u2460"},{"id":"ref-for-dfn-throw\u2460\u2461"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-dfn-throw\u2460\u2462"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-dfn-throw\u2460\u2463"},{"id":"ref-for-dfn-throw\u2460\u2464"},{"id":"ref-for-dfn-throw\u2460\u2465"},{"id":"ref-for-dfn-throw\u2460\u2466"},{"id":"ref-for-dfn-throw\u2460\u2467"},{"id":"ref-for-dfn-throw\u2460\u2468"},{"id":"ref-for-dfn-throw\u2461\u24ea"},{"id":"ref-for-dfn-throw\u2461\u2460"},{"id":"ref-for-dfn-throw\u2461\u2461"},{"id":"ref-for-dfn-throw\u2461\u2462"},{"id":"ref-for-dfn-throw\u2461\u2463"}],"title":"Batch Cache Operations"}],"url":"https://webidl.spec.whatwg.org/#dfn-throw"},
"b56b31a9": {"dfnID":"b56b31a9","dfnText":"StructuredSerializeOptions","external":true,"refSections":[{"refs":[{"id":"ref-for-structuredserializeoptions"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-structuredserializeoptions\u2460"}],"title":"4.2. Client"}],"url":"https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions"},
"b5b30abb": {"dfnID":"b5b30abb","dfnText":"cancelAlgorithm","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-set-up-cancelalgorithm"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm"},
"b5d1f9d3": {"dfnID":"b5d1f9d3","dfnText":"basic filtered response","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-filtered-response-basic"},{"id":"ref-for-concept-filtered-response-basic\u2460"}],"title":"6.4. Cross-Origin Resources and CORS"}],"url":"https://fetch.spec.whatwg.org/#concept-filtered-response-basic"},
"b6209f34": {"dfnID":"b6209f34","dfnText":"unsafe response","external":true,"refSections":[{"refs":[{"id":"ref-for-unsafe-response"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-unsafe-response\u2460"},{"id":"ref-for-unsafe-response\u2461"}],"title":"Update"}],"url":"https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response"},
"b75a7d23": {"dfnID":"b75a7d23","dfnText":"realm (for global object)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-global-object-realm"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-global-object-realm\u2460"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm"},
"b75bb3bd": {"dfnID":"b75bb3bd","dfnText":"SecureContext","external":true,"refSections":[{"refs":[{"id":"ref-for-SecureContext"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-SecureContext\u2460"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-SecureContext\u2461"},{"id":"ref-for-SecureContext\u2462"}],"title":"3.3. navigator.serviceWorker"},{"refs":[{"id":"ref-for-SecureContext\u2463"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-SecureContext\u2464"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-SecureContext\u2465"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-SecureContext\u2466"}],"title":"5.3. self.caches"},{"refs":[{"id":"ref-for-SecureContext\u2467"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-SecureContext\u2468"}],"title":"5.5. CacheStorage"}],"url":"https://webidl.spec.whatwg.org/#SecureContext"},
"b78d6a64": {"dfnID":"b78d6a64","dfnText":"event loop (for agent)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-agent-event-loop"}],"title":"4.2.10. focus()"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop"},
"b8231553": {"dfnID":"b8231553","dfnText":"statement","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-ecmascript-language-statements-and-declarations"},{"id":"ref-for-sec-ecmascript-language-statements-and-declarations\u2460"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://tc39.es/ecma262/#sec-ecmascript-language-statements-and-declarations"},
"b8308563": {"dfnID":"b8308563","dfnText":"DedicatedWorkerGlobalScope","external":true,"refSections":[{"refs":[{"id":"ref-for-dedicatedworkerglobalscope"}],"title":"2.4. Service Worker Client"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"},
"bad735fd": {"dfnID":"bad735fd","dfnText":"monitor","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-monitor"}],"title":"6.2. Content Security Policy"}],"url":"https://w3c.github.io/mediacapture-screen-share/#dfn-monitor"},
"batch-cache-operations": {"dfnID":"batch-cache-operations","dfnText":"Batch Cache Operations","external":false,"refSections":[{"refs":[{"id":"ref-for-batch-cache-operations"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-batch-cache-operations\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-batch-cache-operations\u2461"}],"title":"5.4.6. delete(request, options)"}],"url":"#batch-cache-operations"},
"bb8bd6d1": {"dfnID":"bb8bd6d1","dfnText":"run a classic script","external":true,"refSections":[{"refs":[{"id":"ref-for-run-a-classic-script"}],"title":"Run Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#run-a-classic-script"},
"bc7b9068": {"dfnID":"bc7b9068","dfnText":"clear","external":true,"refSections":[{"refs":[{"id":"ref-for-map-clear"}],"title":"Run Service Worker"}],"url":"https://infra.spec.whatwg.org/#map-clear"},
"bd1db03d": {"dfnID":"bd1db03d","dfnText":"policy container (for environment settings object)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-policy-container"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-policy-container"},
"bd2fe71e": {"dfnID":"bd2fe71e","dfnText":"processResponse","external":true,"refSections":[{"refs":[{"id":"ref-for-process-response"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-process-response\u2460"}],"title":"Update"},{"refs":[{"id":"ref-for-process-response\u2461"},{"id":"ref-for-process-response\u2462"},{"id":"ref-for-process-response\u2463"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#process-response"},
"bdbd19d1": {"dfnID":"bdbd19d1","dfnText":"Promise","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-promise"},{"id":"ref-for-idl-promise\u2460"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-idl-promise\u2461"},{"id":"ref-for-idl-promise\u2462"},{"id":"ref-for-idl-promise\u2463"},{"id":"ref-for-idl-promise\u2464"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-idl-promise\u2465"},{"id":"ref-for-idl-promise\u2466"},{"id":"ref-for-idl-promise\u2467"},{"id":"ref-for-idl-promise\u2468"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-idl-promise\u2460\u24ea"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-idl-promise\u2460\u2460"},{"id":"ref-for-idl-promise\u2460\u2461"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-idl-promise\u2460\u2462"},{"id":"ref-for-idl-promise\u2460\u2463"},{"id":"ref-for-idl-promise\u2460\u2464"},{"id":"ref-for-idl-promise\u2460\u2465"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-idl-promise\u2460\u2466"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-idl-promise\u2460\u2467"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-idl-promise\u2460\u2468"},{"id":"ref-for-idl-promise\u2461\u24ea"},{"id":"ref-for-idl-promise\u2461\u2460"},{"id":"ref-for-idl-promise\u2461\u2461"},{"id":"ref-for-idl-promise\u2461\u2462"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-idl-promise\u2461\u2463"},{"id":"ref-for-idl-promise\u2461\u2464"},{"id":"ref-for-idl-promise\u2461\u2465"},{"id":"ref-for-idl-promise\u2461\u2466"},{"id":"ref-for-idl-promise\u2461\u2467"},{"id":"ref-for-idl-promise\u2461\u2468"},{"id":"ref-for-idl-promise\u2462\u24ea"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-idl-promise\u2462\u2460"},{"id":"ref-for-idl-promise\u2462\u2461"},{"id":"ref-for-idl-promise\u2462\u2462"},{"id":"ref-for-idl-promise\u2462\u2463"},{"id":"ref-for-idl-promise\u2462\u2464"}],"title":"5.5. CacheStorage"}],"url":"https://webidl.spec.whatwg.org/#idl-promise"},
"be0c27b2": {"dfnID":"be0c27b2","dfnText":"Navigator","external":true,"refSections":[{"refs":[{"id":"ref-for-navigator"}],"title":"3.3. navigator.serviceWorker"},{"refs":[{"id":"ref-for-navigator\u2460"},{"id":"ref-for-navigator\u2461"}],"title":"3.4. ServiceWorkerContainer"}],"url":"https://html.spec.whatwg.org/multipage/system-state.html#navigator"},
"bf6531af": {"dfnID":"bf6531af","dfnText":"getting a reader","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-get-a-reader"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-readablestream-get-a-reader\u2460"}],"title":"5.4.5. put(request, response)"}],"url":"https://streams.spec.whatwg.org/#readablestream-get-a-reader"},
"bfc1c271": {"dfnID":"bfc1c271","dfnText":"Worker","external":true,"refSections":[{"refs":[{"id":"ref-for-worker"}],"title":"4.1. ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#worker"},
"c006a605": {"dfnID":"c006a605","dfnText":"PerformanceNavigationTiming","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-performancenavigationtiming"}],"title":"2.2. Service Worker Timing"}],"url":"https://w3c.github.io/navigation-timing/#dom-performancenavigationtiming"},
"c0868016": {"dfnID":"c0868016","dfnText":"path","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-path"}],"title":"6.5. Path restriction"},{"refs":[{"id":"ref-for-concept-url-path\u2460"},{"id":"ref-for-concept-url-path\u2461"}],"title":"Start Register"},{"refs":[{"id":"ref-for-concept-url-path\u2462"},{"id":"ref-for-concept-url-path\u2463"},{"id":"ref-for-concept-url-path\u2464"},{"id":"ref-for-concept-url-path\u2465"}],"title":"Update"}],"url":"https://url.spec.whatwg.org/#concept-url-path"},
"c1030cbe": {"dfnID":"c1030cbe","dfnText":"unusable","external":true,"refSections":[{"refs":[{"id":"ref-for-body-unusable"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#body-unusable"},
"c262266a": {"dfnID":"c262266a","dfnText":"WorkerType","external":true,"refSections":[{"refs":[{"id":"ref-for-workertype"}],"title":"3.4. ServiceWorkerContainer"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#workertype"},
"c3b2d08c": {"dfnID":"c3b2d08c","dfnText":"task source","external":true,"refSections":[{"refs":[{"id":"ref-for-task-source"},{"id":"ref-for-task-source\u2460"},{"id":"ref-for-task-source\u2461"}],"title":"2.6. Task Sources"},{"refs":[{"id":"ref-for-task-source\u2462"},{"id":"ref-for-task-source\u2463"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-task-source\u2464"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-task-source\u2465"},{"id":"ref-for-task-source\u2466"},{"id":"ref-for-task-source\u2467"}],"title":"Terminate Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"c3e881ef": {"dfnID":"c3e881ef","dfnText":"SecurityError","external":true,"refSections":[{"refs":[{"id":"ref-for-securityerror"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-securityerror\u2460"},{"id":"ref-for-securityerror\u2461"},{"id":"ref-for-securityerror\u2462"}],"title":"Register"},{"refs":[{"id":"ref-for-securityerror\u2463"},{"id":"ref-for-securityerror\u2464"},{"id":"ref-for-securityerror\u2465"}],"title":"Update"},{"refs":[{"id":"ref-for-securityerror\u2466"}],"title":"Unregister"},{"refs":[{"id":"ref-for-securityerror\u2467"},{"id":"ref-for-securityerror\u2468"}],"title":"Resolve Get Client Promise"}],"url":"https://webidl.spec.whatwg.org/#securityerror"},
"c56329c9": {"dfnID":"c56329c9","dfnText":"\"report\"","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-requestdestination-report"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dom-requestdestination-report\u2460"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#dom-requestdestination-report"},
"c5b6dcb3": {"dfnID":"c5b6dcb3","dfnText":"url","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-workerglobalscope-url"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-url"},
"c63519ed": {"dfnID":"c63519ed","dfnText":"top-level origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-top-level-origin"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin"},
"c6d19e56": {"dfnID":"c6d19e56","dfnText":"event loop","external":true,"refSections":[{"refs":[{"id":"ref-for-event-loop"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-event-loop\u2460"},{"id":"ref-for-event-loop\u2461"},{"id":"ref-for-event-loop\u2462"},{"id":"ref-for-event-loop\u2463"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-event-loop\u2464"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-event-loop\u2465"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-event-loop\u2466"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-event-loop\u2467"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-event-loop\u2468"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-event-loop\u2460\u24ea"}],"title":"Install"},{"refs":[{"id":"ref-for-event-loop\u2460\u2460"}],"title":"Activate"},{"refs":[{"id":"ref-for-event-loop\u2460\u2461"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-event-loop\u2460\u2462"},{"id":"ref-for-event-loop\u2460\u2463"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-event-loop\u2460\u2464"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-event-loop\u2460\u2465"}],"title":"Fire Functional Event"},{"refs":[{"id":"ref-for-event-loop\u2460\u2466"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"},
"c74f29b9": {"dfnID":"c74f29b9","dfnText":"NetworkError","external":true,"refSections":[{"refs":[{"id":"ref-for-networkerror"},{"id":"ref-for-networkerror\u2460"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://webidl.spec.whatwg.org/#networkerror"},
"c79e5abb": {"dfnID":"c79e5abb","dfnText":"module map","external":true,"refSections":[{"refs":[{"id":"ref-for-module-map"}],"title":"Is Async Module"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#module-map"},
"c807e273": {"dfnID":"c807e273","dfnText":"NewObject","external":true,"refSections":[{"refs":[{"id":"ref-for-NewObject"},{"id":"ref-for-NewObject\u2460"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-NewObject\u2461"},{"id":"ref-for-NewObject\u2462"},{"id":"ref-for-NewObject\u2463"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-NewObject\u2464"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-NewObject\u2465"},{"id":"ref-for-NewObject\u2466"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-NewObject\u2467"},{"id":"ref-for-NewObject\u2468"},{"id":"ref-for-NewObject\u2460\u24ea"},{"id":"ref-for-NewObject\u2460\u2460"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-NewObject\u2460\u2461"},{"id":"ref-for-NewObject\u2460\u2462"},{"id":"ref-for-NewObject\u2460\u2463"},{"id":"ref-for-NewObject\u2460\u2464"},{"id":"ref-for-NewObject\u2460\u2465"},{"id":"ref-for-NewObject\u2460\u2466"},{"id":"ref-for-NewObject\u2460\u2467"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-NewObject\u2460\u2468"},{"id":"ref-for-NewObject\u2461\u24ea"},{"id":"ref-for-NewObject\u2461\u2460"},{"id":"ref-for-NewObject\u2461\u2461"},{"id":"ref-for-NewObject\u2461\u2462"}],"title":"5.5. CacheStorage"}],"url":"https://webidl.spec.whatwg.org/#NewObject"},
"c88f3887": {"dfnID":"c88f3887","dfnText":"item (for struct)","external":true,"refSections":[{"refs":[{"id":"ref-for-struct-item"}],"title":"2.2. Service Worker Timing"},{"refs":[{"id":"ref-for-struct-item\u2460"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://infra.spec.whatwg.org/#struct-item"},
"c89908b4": {"dfnID":"c89908b4","dfnText":"stop propagation flag","external":true,"refSections":[{"refs":[{"id":"ref-for-stop-propagation-flag"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://dom.spec.whatwg.org/#stop-propagation-flag"},
"c8e62d82": {"dfnID":"c8e62d82","dfnText":"serialized abort reason","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-controller-serialized-abort-reason"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#fetch-controller-serialized-abort-reason"},
"c9858f6e": {"dfnID":"c9858f6e","dfnText":"obtain a storage key","external":true,"refSections":[{"refs":[{"id":"ref-for-obtain-a-storage-key"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2460"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2461"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2462"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2463"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2464"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2465"},{"id":"ref-for-obtain-a-storage-key\u2466"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2467"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2468"}],"title":"Start Register"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2460\u24ea"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-obtain-a-storage-key\u2460\u2460"}],"title":"Lookup Race Response"}],"url":"https://storage.spec.whatwg.org/#obtain-a-storage-key"},
"c9e7c11a": {"dfnID":"c9e7c11a","dfnText":"header","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-header"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-header\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-header\u2461"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-header\u2462"}],"title":"Request Matches Cached Item"},{"refs":[{"id":"ref-for-concept-header\u2463"}],"title":"Service Worker Script Request"},{"refs":[{"id":"ref-for-concept-header\u2464"}],"title":"Service Worker Script Response"}],"url":"https://fetch.spec.whatwg.org/#concept-header"},
"ca3ca4ae": {"dfnID":"ca3ca4ae","dfnText":"URL parser","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-parser"},{"id":"ref-for-concept-url-parser\u2460"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-concept-url-parser\u2461"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-concept-url-parser\u2462"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-concept-url-parser\u2463"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-concept-url-parser\u2464"}],"title":"Start Register"},{"refs":[{"id":"ref-for-concept-url-parser\u2465"},{"id":"ref-for-concept-url-parser\u2466"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-url-parser\u2467"}],"title":"Match Service Worker Registration"}],"url":"https://url.spec.whatwg.org/#concept-url-parser"},
"caa8344c": {"dfnID":"caa8344c","dfnText":"classic script","external":true,"refSections":[{"refs":[{"id":"ref-for-classic-script"}],"title":"Run Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#classic-script"},
"cache": {"dfnID":"cache","dfnText":"Cache","external":false,"refSections":[{"refs":[{"id":"ref-for-cache"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-cache\u2460"},{"id":"ref-for-cache\u2461"}],"title":"5. Caches"},{"refs":[{"id":"ref-for-cache\u2462"},{"id":"ref-for-cache\u2463"},{"id":"ref-for-cache\u2464"},{"id":"ref-for-cache\u2465"},{"id":"ref-for-cache\u2466"}],"title":"5.2. Understanding Cache Lifetimes"},{"refs":[{"id":"ref-for-cache\u2467"},{"id":"ref-for-cache\u2468"},{"id":"ref-for-cache\u2460\u24ea"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-cache\u2460\u2460"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-cache\u2460\u2461"},{"id":"ref-for-cache\u2460\u2462"}],"title":"5.5.1. match(request, options)"},{"refs":[{"id":"ref-for-cache\u2460\u2463"},{"id":"ref-for-cache\u2460\u2464"}],"title":"5.5.3. open(cacheName)"},{"refs":[{"id":"ref-for-cache\u2460\u2465"},{"id":"ref-for-cache\u2460\u2466"},{"id":"ref-for-cache\u2460\u2467"}],"title":"6.4. Cross-Origin Resources and CORS"}],"url":"#cache"},
"cachestorage": {"dfnID":"cachestorage","dfnText":"CacheStorage","external":false,"refSections":[{"refs":[{"id":"ref-for-cachestorage"}],"title":"5.3. self.caches"},{"refs":[{"id":"ref-for-cachestorage\u2460"}],"title":"5.3.1. caches"},{"refs":[{"id":"ref-for-cachestorage\u2461"},{"id":"ref-for-cachestorage\u2462"},{"id":"ref-for-cachestorage\u2463"},{"id":"ref-for-cachestorage\u2464"},{"id":"ref-for-cachestorage\u2465"}],"title":"5.5. CacheStorage"}],"url":"#cachestorage"},
"cachestorage-global-object": {"dfnID":"cachestorage-global-object","dfnText":"global object","external":false,"refSections":[{"refs":[{"id":"ref-for-cachestorage-global-object"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-cachestorage-global-object\u2460"}],"title":"5.5. CacheStorage"}],"url":"#cachestorage-global-object"},
"cb98f71f": {"dfnID":"cb98f71f","dfnText":"mode","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-mode"}],"title":"Match Router Condition"}],"url":"https://fetch.spec.whatwg.org/#concept-request-mode"},
"cc549724": {"dfnID":"cc549724","dfnText":"Location","external":true,"refSections":[{"refs":[{"id":"ref-for-location"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-location\u2460"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-location\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-location\u2462"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-location\u2463"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#location"},
"cd787c3f": {"dfnID":"cd787c3f","dfnText":"exception","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-exception"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-dfn-exception\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-dfn-exception\u2461"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-dfn-exception\u2462"},{"id":"ref-for-dfn-exception\u2463"}],"title":"Reject Job Promise"}],"url":"https://webidl.spec.whatwg.org/#dfn-exception"},
"cdc0b059": {"dfnID":"cdc0b059","dfnText":"state","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-controller-state"},{"id":"ref-for-fetch-controller-state\u2460"},{"id":"ref-for-fetch-controller-state\u2461"},{"id":"ref-for-fetch-controller-state\u2462"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-fetch-controller-state\u2463"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#fetch-controller-state"},
"cdea6030": {"dfnID":"cdea6030","dfnText":"type","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-type"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-concept-response-type\u2460"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-response-type\u2461"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-concept-response-type\u2462"},{"id":"ref-for-concept-response-type\u2463"}],"title":"Handle Fetch"}],"url":"https://fetch.spec.whatwg.org/#concept-response-type"},
"ce15d5dc": {"dfnID":"ce15d5dc","dfnText":"realm execution context","external":true,"refSections":[{"refs":[{"id":"ref-for-realm-execution-context"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-realm-execution-context\u2460"}],"title":"Run Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context"},
"ce3d2bbb": {"dfnID":"ce3d2bbb","dfnText":"current global object","external":true,"refSections":[{"refs":[{"id":"ref-for-current-global-object"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-current-global-object\u2460"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-current-global-object\u2461"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-current-global-object\u2462"},{"id":"ref-for-current-global-object\u2463"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-current-global-object\u2464"}],"title":"6.3.2. importScripts(urls)"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"},
"cfb6031b": {"dfnID":"cfb6031b","dfnText":"creating a policy container from a fetch response","external":true,"refSections":[{"refs":[{"id":"ref-for-creating-a-policy-container-from-a-fetch-response"}],"title":"Update"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#creating-a-policy-container-from-a-fetch-response"},
"check-router-registration-limit": {"dfnID":"check-router-registration-limit","dfnText":"Check Router Registration Limit","external":false,"refSections":[{"refs":[{"id":"ref-for-check-router-registration-limit"}],"title":"4.5.1. event.addRoutes(rules)"}],"url":"#check-router-registration-limit"},
"clear-registration": {"dfnID":"clear-registration","dfnText":"Clear Registration","external":false,"refSections":[{"refs":[{"id":"ref-for-clear-registration"}],"title":"Handle User Agent Shutdown"},{"refs":[{"id":"ref-for-clear-registration\u2460"},{"id":"ref-for-clear-registration\u2461"}],"title":"Unregister"},{"refs":[{"id":"ref-for-clear-registration\u2462"}],"title":"Try Clear Registration"}],"url":"#clear-registration"},
"client": {"dfnID":"client","dfnText":"Client","external":false,"refSections":[{"refs":[{"id":"ref-for-client"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-client\u2460"},{"id":"ref-for-client\u2461"},{"id":"ref-for-client\u2462"},{"id":"ref-for-client\u2463"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-client\u2464"},{"id":"ref-for-client\u2465"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-client\u2466"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-client\u2467"},{"id":"ref-for-client\u2468"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-client\u2460\u24ea"}],"title":"4.7.4. event.source"},{"refs":[{"id":"ref-for-client\u2460\u2460"},{"id":"ref-for-client\u2460\u2461"}],"title":"Create Client"}],"url":"#client"},
"clients": {"dfnID":"clients","dfnText":"Clients","external":false,"refSections":[{"refs":[{"id":"ref-for-clients"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-clients\u2460"}],"title":"4.1.1. clients"},{"refs":[{"id":"ref-for-clients\u2461"},{"id":"ref-for-clients\u2462"}],"title":"4.3. Clients"}],"url":"#clients"},
"count-router-inner-conditions": {"dfnID":"count-router-inner-conditions","dfnText":"Count Router Inner Conditions","external":false,"refSections":[{"refs":[{"id":"ref-for-count-router-inner-conditions"}],"title":"Check Router Registration Limit"},{"refs":[{"id":"ref-for-count-router-inner-conditions\u2460"},{"id":"ref-for-count-router-inner-conditions\u2461"}],"title":"Count Router Inner Conditions"}],"url":"#count-router-inner-conditions"},
"create-client": {"dfnID":"create-client","dfnText":"Create Client","external":false,"refSections":[{"refs":[{"id":"ref-for-create-client"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-create-client\u2460"}],"title":"Resolve Get Client Promise"}],"url":"#create-client"},
"create-fetch-event-and-dispatch": {"dfnID":"create-fetch-event-and-dispatch","dfnText":"Create Fetch Event and Dispatch","external":false,"refSections":[{"refs":[{"id":"ref-for-create-fetch-event-and-dispatch"},{"id":"ref-for-create-fetch-event-and-dispatch\u2460"}],"title":"Handle Fetch"}],"url":"#create-fetch-event-and-dispatch"},
"create-job": {"dfnID":"create-job","dfnText":"Create Job","external":false,"refSections":[{"refs":[{"id":"ref-for-create-job"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-create-job\u2460"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-create-job\u2461"}],"title":"Start Register"},{"refs":[{"id":"ref-for-create-job\u2462"}],"title":"Soft Update"}],"url":"#create-job"},
"create-window-client": {"dfnID":"create-window-client","dfnText":"Create Window Client","external":false,"refSections":[{"refs":[{"id":"ref-for-create-window-client"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-create-window-client\u2460"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-create-window-client\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-create-window-client\u2462"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-create-window-client\u2463"}],"title":"Resolve Get Client Promise"}],"url":"#create-window-client"},
"d0b4a948": {"dfnID":"d0b4a948","dfnText":"a promise rejected with","external":true,"refSections":[{"refs":[{"id":"ref-for-a-promise-rejected-with"},{"id":"ref-for-a-promise-rejected-with\u2460"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-a-promise-rejected-with\u2461"},{"id":"ref-for-a-promise-rejected-with\u2462"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-a-promise-rejected-with\u2463"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-a-promise-rejected-with\u2464"},{"id":"ref-for-a-promise-rejected-with\u2465"},{"id":"ref-for-a-promise-rejected-with\u2466"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-a-promise-rejected-with\u2467"},{"id":"ref-for-a-promise-rejected-with\u2468"},{"id":"ref-for-a-promise-rejected-with\u2460\u24ea"},{"id":"ref-for-a-promise-rejected-with\u2460\u2460"},{"id":"ref-for-a-promise-rejected-with\u2460\u2461"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-a-promise-rejected-with\u2460\u2462"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-a-promise-rejected-with\u2460\u2463"}],"title":"5.4.7. keys(request, options)"}],"url":"https://webidl.spec.whatwg.org/#a-promise-rejected-with"},
"d0eba3fd": {"dfnID":"d0eba3fd","dfnText":"partial interface","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-partial-interface"}],"title":"7.1. Define API bound to Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-partial-interface\u2460"}],"title":"7.3. Define Event Handler"}],"url":"https://webidl.spec.whatwg.org/#dfn-partial-interface"},
"d14a6f26": {"dfnID":"d14a6f26","dfnText":"key","external":true,"refSections":[{"refs":[{"id":"ref-for-map-key"}],"title":"5.1. Constructs"}],"url":"https://infra.spec.whatwg.org/#map-key"},
"d1ee46ce": {"dfnID":"d1ee46ce","dfnText":"realm (for environment settings object)","external":true,"refSections":[{"refs":[{"id":"ref-for-environment-settings-object's-realm"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-environment-settings-object's-realm\u2460"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-environment-settings-object's-realm\u2461"}],"title":"3.2.2. installing"},{"refs":[{"id":"ref-for-environment-settings-object's-realm\u2462"}],"title":"3.2.3. waiting"},{"refs":[{"id":"ref-for-environment-settings-object's-realm\u2463"}],"title":"3.2.4. active"},{"refs":[{"id":"ref-for-environment-settings-object's-realm\u2464"},{"id":"ref-for-environment-settings-object's-realm\u2465"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-environment-settings-object's-realm\u2466"},{"id":"ref-for-environment-settings-object's-realm\u2467"}],"title":"Reject Job Promise"},{"refs":[{"id":"ref-for-environment-settings-object's-realm\u2468"}],"title":"Install"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm"},
"d25dfb2c": {"dfnID":"d25dfb2c","dfnText":"AbortError","external":true,"refSections":[{"refs":[{"id":"ref-for-aborterror"}],"title":"5.4.4. addAll(requests)"}],"url":"https://webidl.spec.whatwg.org/#aborterror"},
"d3d229b5": {"dfnID":"d3d229b5","dfnText":"opaque filtered response","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-filtered-response-opaque"}],"title":"6.4. Cross-Origin Resources and CORS"}],"url":"https://fetch.spec.whatwg.org/#concept-filtered-response-opaque"},
"d438bc09": {"dfnID":"d438bc09","dfnText":"set up","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-set-up"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream-set-up"},
"d5434eef": {"dfnID":"d5434eef","dfnText":"contains","external":true,"refSections":[{"refs":[{"id":"ref-for-header-list-contains"}],"title":"Request Matches Cached Item"}],"url":"https://fetch.spec.whatwg.org/#header-list-contains"},
"d7af7adc": {"dfnID":"d7af7adc","dfnText":"incumbent settings object","external":true,"refSections":[{"refs":[{"id":"ref-for-incumbent-settings-object"}],"title":"3.1.5. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#incumbent-settings-object"},
"d86d4046": {"dfnID":"d86d4046","dfnText":"VisibilityState","external":true,"refSections":[{"refs":[{"id":"ref-for-page-visibility"},{"id":"ref-for-page-visibility\u2460"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-page-visibility\u2461"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-page-visibility\u2462"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-page-visibility\u2463"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-page-visibility\u2464"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-page-visibility\u2465"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#page-visibility"},
"d8beb430": {"dfnID":"d8beb430","dfnText":"Run CSP initialization for a global object","external":true,"refSections":[{"refs":[{"id":"ref-for-run-global-object-csp-initialization"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://w3c.github.io/webappsec-csp/#run-global-object-csp-initialization"},
"d9482602": {"dfnID":"d9482602","dfnText":"handleEvent(event)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-eventlistener-handleevent"},{"id":"ref-for-dom-eventlistener-handleevent\u2460"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://dom.spec.whatwg.org/#dom-eventlistener-handleevent"},
"dacc9b46": {"dfnID":"dacc9b46","dfnText":"CORS filtered response","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-filtered-response-cors"}],"title":"6.4. Cross-Origin Resources and CORS"}],"url":"https://fetch.spec.whatwg.org/#concept-filtered-response-cors"},
"dacde8b5": {"dfnID":"dacde8b5","dfnText":"a new promise","external":true,"refSections":[{"refs":[{"id":"ref-for-a-new-promise"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-a-new-promise\u2460"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-a-new-promise\u2461"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-a-new-promise\u2462"}],"title":"3.6.1. enable()"},{"refs":[{"id":"ref-for-a-new-promise\u2463"}],"title":"3.6.2. disable()"},{"refs":[{"id":"ref-for-a-new-promise\u2464"}],"title":"3.6.3. setHeaderValue(value)"},{"refs":[{"id":"ref-for-a-new-promise\u2465"}],"title":"3.6.4. getState()"},{"refs":[{"id":"ref-for-a-new-promise\u2466"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-a-new-promise\u2467"}],"title":"5.4.1. match(request, options)"},{"refs":[{"id":"ref-for-a-new-promise\u2468"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-a-new-promise\u2460\u24ea"},{"id":"ref-for-a-new-promise\u2460\u2460"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-a-new-promise\u2460\u2461"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-a-new-promise\u2460\u2462"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-a-new-promise\u2460\u2463"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-a-new-promise\u2460\u2464"}],"title":"5.5.1. match(request, options)"},{"refs":[{"id":"ref-for-a-new-promise\u2460\u2465"}],"title":"5.5.2. has(cacheName)"},{"refs":[{"id":"ref-for-a-new-promise\u2460\u2466"}],"title":"5.5.3. open(cacheName)"},{"refs":[{"id":"ref-for-a-new-promise\u2460\u2467"}],"title":"5.5.4. delete(cacheName)"},{"refs":[{"id":"ref-for-a-new-promise\u2460\u2468"}],"title":"5.5.5. keys()"},{"refs":[{"id":"ref-for-a-new-promise\u2461\u24ea"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://webidl.spec.whatwg.org/#a-new-promise"},
"dae0bfde": {"dfnID":"dae0bfde","dfnText":"serialization of an origin","external":true,"refSections":[{"refs":[{"id":"ref-for-ascii-serialisation-of-an-origin"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-ascii-serialisation-of-an-origin\u2460"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin"},
"db8aa4d8": {"dfnID":"db8aa4d8","dfnText":"stream","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-body-stream"},{"id":"ref-for-concept-body-stream\u2460"},{"id":"ref-for-concept-body-stream\u2461"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-concept-body-stream\u2462"}],"title":"5.4.5. put(request, response)"}],"url":"https://fetch.spec.whatwg.org/#concept-body-stream"},
"dc1cd39b": {"dfnID":"dc1cd39b","dfnText":"URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-url"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-concept-request-url\u2460"},{"id":"ref-for-concept-request-url\u2461"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-request-url\u2462"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-request-url\u2463"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-concept-request-url\u2464"},{"id":"ref-for-concept-request-url\u2465"},{"id":"ref-for-concept-request-url\u2466"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-request-url\u2467"},{"id":"ref-for-concept-request-url\u2468"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-request-url\u2460\u24ea"}],"title":"Match Router Condition"},{"refs":[{"id":"ref-for-concept-request-url\u2460\u2460"},{"id":"ref-for-concept-request-url\u2460\u2461"}],"title":"Request Matches Cached Item"},{"refs":[{"id":"ref-for-concept-request-url\u2460\u2462"}],"title":"Batch Cache Operations"},{"refs":[{"id":"ref-for-concept-request-url\u2460\u2463"}],"title":"Lookup Race Response"}],"url":"https://fetch.spec.whatwg.org/#concept-request-url"},
"dc248371": {"dfnID":"dc248371","dfnText":"owner set","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-WorkerGlobalScope-owner-set"},{"id":"ref-for-concept-WorkerGlobalScope-owner-set\u2460"}],"title":"2.5.2. The worker client case"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set"},
"dca2de17": {"dfnID":"dca2de17","dfnText":"DOMException","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-DOMException"},{"id":"ref-for-idl-DOMException\u2460"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-idl-DOMException\u2461"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-idl-DOMException\u2462"}],"title":"3.6.1. enable()"},{"refs":[{"id":"ref-for-idl-DOMException\u2463"}],"title":"3.6.2. disable()"},{"refs":[{"id":"ref-for-idl-DOMException\u2464"}],"title":"3.6.3. setHeaderValue(value)"},{"refs":[{"id":"ref-for-idl-DOMException\u2465"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-idl-DOMException\u2466"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-idl-DOMException\u2467"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-idl-DOMException\u2468"},{"id":"ref-for-idl-DOMException\u2460\u24ea"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-idl-DOMException\u2460\u2460"},{"id":"ref-for-idl-DOMException\u2460\u2461"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-idl-DOMException\u2460\u2462"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-idl-DOMException\u2460\u2463"},{"id":"ref-for-idl-DOMException\u2460\u2464"},{"id":"ref-for-idl-DOMException\u2460\u2465"}],"title":"Register"},{"refs":[{"id":"ref-for-idl-DOMException\u2460\u2466"},{"id":"ref-for-idl-DOMException\u2460\u2467"},{"id":"ref-for-idl-DOMException\u2460\u2468"}],"title":"Update"},{"refs":[{"id":"ref-for-idl-DOMException\u2461\u24ea"},{"id":"ref-for-idl-DOMException\u2461\u2460"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-idl-DOMException\u2461\u2461"}],"title":"Unregister"},{"refs":[{"id":"ref-for-idl-DOMException\u2461\u2462"},{"id":"ref-for-idl-DOMException\u2461\u2463"}],"title":"Resolve Get Client Promise"},{"refs":[{"id":"ref-for-idl-DOMException\u2461\u2464"}],"title":"Batch Cache Operations"}],"url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"dcf5fafa": {"dfnID":"dcf5fafa","dfnText":"FrozenArray","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-frozen-array"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-idl-frozen-array\u2460"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-idl-frozen-array\u2461"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-idl-frozen-array\u2462"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-idl-frozen-array\u2463"},{"id":"ref-for-idl-frozen-array\u2464"}],"title":"5.4. Cache"}],"url":"https://webidl.spec.whatwg.org/#idl-frozen-array"},
"dcffbccd": {"dfnID":"dcffbccd","dfnText":"URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url"},{"id":"ref-for-concept-url\u2460"},{"id":"ref-for-concept-url\u2461"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-concept-url\u2462"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-concept-url\u2463"},{"id":"ref-for-concept-url\u2464"},{"id":"ref-for-concept-url\u2465"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-concept-url\u2466"},{"id":"ref-for-concept-url\u2467"}],"title":"Create Job"},{"refs":[{"id":"ref-for-concept-url\u2468"},{"id":"ref-for-concept-url\u2460\u24ea"},{"id":"ref-for-concept-url\u2460\u2460"}],"title":"Start Register"},{"refs":[{"id":"ref-for-concept-url\u2460\u2461"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-url\u2460\u2462"}],"title":"Set Registration"},{"refs":[{"id":"ref-for-concept-url\u2460\u2463"}],"title":"Match Service Worker Registration"},{"refs":[{"id":"ref-for-concept-url\u2460\u2464"}],"title":"Get Registration"},{"refs":[{"id":"ref-for-concept-url\u2460\u2465"},{"id":"ref-for-concept-url\u2460\u2466"}],"title":"Is Async Module"}],"url":"https://url.spec.whatwg.org/#concept-url"},
"dd460c8e": {"dfnID":"dd460c8e","dfnText":"is not empty","external":true,"refSections":[{"refs":[{"id":"ref-for-list-is-empty"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-list-is-empty\u2460"}],"title":"Run Job"},{"refs":[{"id":"ref-for-list-is-empty\u2461"}],"title":"Finish Job"},{"refs":[{"id":"ref-for-list-is-empty\u2462"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-list-is-empty\u2463"}],"title":"Batch Cache Operations"}],"url":"https://infra.spec.whatwg.org/#list-is-empty"},
"dd6462cb": {"dfnID":"dd6462cb","dfnText":"script","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-script"}],"title":"2.1. Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-script"},
"de1558f6": {"dfnID":"de1558f6","dfnText":"reading all bytes","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestreamdefaultreader-read-all-bytes"}],"title":"5.4.5. put(request, response)"}],"url":"https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes"},
"de82addd": {"dfnID":"de82addd","dfnText":"filtered response","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-filtered-response"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://fetch.spec.whatwg.org/#concept-filtered-response"},
"df16744f": {"dfnID":"df16744f","dfnText":"MessagePort","external":true,"refSections":[{"refs":[{"id":"ref-for-messageport"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-messageport\u2460"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-messageport\u2461"},{"id":"ref-for-messageport\u2462"},{"id":"ref-for-messageport\u2463"},{"id":"ref-for-messageport\u2464"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-messageport\u2465"}],"title":"4.7.5. event.ports"}],"url":"https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"},
"dfn-active-worker": {"dfnID":"dfn-active-worker","dfnText":"active worker","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-active-worker"},{"id":"ref-for-dfn-active-worker\u2460"},{"id":"ref-for-dfn-active-worker\u2461"},{"id":"ref-for-dfn-active-worker\u2462"},{"id":"ref-for-dfn-active-worker\u2463"},{"id":"ref-for-dfn-active-worker\u2464"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-active-worker\u2465"}],"title":"2.7. User Agent Shutdown"},{"refs":[{"id":"ref-for-dfn-active-worker\u2466"},{"id":"ref-for-dfn-active-worker\u2467"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-dfn-active-worker\u2468"},{"id":"ref-for-dfn-active-worker\u2460\u24ea"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-dfn-active-worker\u2460\u2460"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dfn-active-worker\u2460\u2461"}],"title":"3.6.1. enable()"},{"refs":[{"id":"ref-for-dfn-active-worker\u2460\u2462"}],"title":"3.6.2. disable()"},{"refs":[{"id":"ref-for-dfn-active-worker\u2460\u2463"}],"title":"3.6.3. setHeaderValue(value)"},{"refs":[{"id":"ref-for-dfn-active-worker\u2460\u2464"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-dfn-active-worker\u2460\u2465"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-dfn-active-worker\u2460\u2466"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dfn-active-worker\u2460\u2467"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-dfn-active-worker\u2460\u2468"}],"title":"7.4. Firing Functional Events"},{"refs":[{"id":"ref-for-dfn-active-worker\u2461\u24ea"},{"id":"ref-for-dfn-active-worker\u2461\u2460"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-active-worker\u2461\u2461"},{"id":"ref-for-dfn-active-worker\u2461\u2462"},{"id":"ref-for-dfn-active-worker\u2461\u2463"},{"id":"ref-for-dfn-active-worker\u2461\u2464"},{"id":"ref-for-dfn-active-worker\u2461\u2465"},{"id":"ref-for-dfn-active-worker\u2461\u2466"},{"id":"ref-for-dfn-active-worker\u2461\u2467"},{"id":"ref-for-dfn-active-worker\u2461\u2468"}],"title":"Activate"},{"refs":[{"id":"ref-for-dfn-active-worker\u2462\u24ea"},{"id":"ref-for-dfn-active-worker\u2462\u2460"},{"id":"ref-for-dfn-active-worker\u2462\u2461"},{"id":"ref-for-dfn-active-worker\u2462\u2462"}],"title":"Try Activate"},{"refs":[{"id":"ref-for-dfn-active-worker\u2462\u2463"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-dfn-active-worker\u2462\u2464"},{"id":"ref-for-dfn-active-worker\u2462\u2465"},{"id":"ref-for-dfn-active-worker\u2462\u2466"},{"id":"ref-for-dfn-active-worker\u2462\u2467"},{"id":"ref-for-dfn-active-worker\u2462\u2468"},{"id":"ref-for-dfn-active-worker\u2463\u24ea"},{"id":"ref-for-dfn-active-worker\u2463\u2460"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dfn-active-worker\u2463\u2461"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-dfn-active-worker\u2463\u2462"},{"id":"ref-for-dfn-active-worker\u2463\u2463"},{"id":"ref-for-dfn-active-worker\u2463\u2464"}],"title":"Fire Functional Event"},{"refs":[{"id":"ref-for-dfn-active-worker\u2463\u2465"}],"title":"Handle User Agent Shutdown"},{"refs":[{"id":"ref-for-dfn-active-worker\u2463\u2466"},{"id":"ref-for-dfn-active-worker\u2463\u2467"},{"id":"ref-for-dfn-active-worker\u2463\u2468"}],"title":"Clear Registration"},{"refs":[{"id":"ref-for-dfn-active-worker\u2464\u24ea"},{"id":"ref-for-dfn-active-worker\u2464\u2460"}],"title":"Try Clear Registration"},{"refs":[{"id":"ref-for-dfn-active-worker\u2464\u2461"},{"id":"ref-for-dfn-active-worker\u2464\u2462"},{"id":"ref-for-dfn-active-worker\u2464\u2463"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-dfn-active-worker\u2464\u2464"},{"id":"ref-for-dfn-active-worker\u2464\u2465"}],"title":"Get Newest Worker"},{"refs":[{"id":"ref-for-dfn-active-worker\u2464\u2466"}],"title":"Lookup Race Response"}],"url":"#dfn-active-worker"},
"dfn-bad-import-script-response": {"dfnID":"dfn-bad-import-script-response","dfnText":"bad import script response","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-bad-import-script-response"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-dfn-bad-import-script-response\u2460"}],"title":"Update"}],"url":"#dfn-bad-import-script-response"},
"dfn-cache-batch-operation": {"dfnID":"dfn-cache-batch-operation","dfnText":"cache batch operation","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-cache-batch-operation"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation\u2461"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation\u2462"}],"title":"Batch Cache Operations"}],"url":"#dfn-cache-batch-operation"},
"dfn-cache-batch-operation-options": {"dfnID":"dfn-cache-batch-operation-options","dfnText":"options","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-cache-batch-operation-options"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation-options\u2460"},{"id":"ref-for-dfn-cache-batch-operation-options\u2461"},{"id":"ref-for-dfn-cache-batch-operation-options\u2462"}],"title":"Batch Cache Operations"}],"url":"#dfn-cache-batch-operation-options"},
"dfn-cache-batch-operation-request": {"dfnID":"dfn-cache-batch-operation-request","dfnText":"request","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-cache-batch-operation-request"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation-request\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation-request\u2461"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation-request\u2462"},{"id":"ref-for-dfn-cache-batch-operation-request\u2463"},{"id":"ref-for-dfn-cache-batch-operation-request\u2464"},{"id":"ref-for-dfn-cache-batch-operation-request\u2465"},{"id":"ref-for-dfn-cache-batch-operation-request\u2466"},{"id":"ref-for-dfn-cache-batch-operation-request\u2467"},{"id":"ref-for-dfn-cache-batch-operation-request\u2468"}],"title":"Batch Cache Operations"}],"url":"#dfn-cache-batch-operation-request"},
"dfn-cache-batch-operation-response": {"dfnID":"dfn-cache-batch-operation-response","dfnText":"response","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-cache-batch-operation-response"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation-response\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation-response\u2461"},{"id":"ref-for-dfn-cache-batch-operation-response\u2462"},{"id":"ref-for-dfn-cache-batch-operation-response\u2463"},{"id":"ref-for-dfn-cache-batch-operation-response\u2464"},{"id":"ref-for-dfn-cache-batch-operation-response\u2465"}],"title":"Batch Cache Operations"}],"url":"#dfn-cache-batch-operation-response"},
"dfn-cache-batch-operation-type": {"dfnID":"dfn-cache-batch-operation-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-cache-batch-operation-type"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation-type\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation-type\u2461"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-dfn-cache-batch-operation-type\u2462"},{"id":"ref-for-dfn-cache-batch-operation-type\u2463"},{"id":"ref-for-dfn-cache-batch-operation-type\u2464"},{"id":"ref-for-dfn-cache-batch-operation-type\u2465"}],"title":"Batch Cache Operations"}],"url":"#dfn-cache-batch-operation-type"},
"dfn-classic-scripts-imported-flag": {"dfnID":"dfn-classic-scripts-imported-flag","dfnText":"classic scripts imported flag","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-classic-scripts-imported-flag"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-dfn-classic-scripts-imported-flag\u2460"}],"title":"Update"}],"url":"#dfn-classic-scripts-imported-flag"},
"dfn-client-message-queue": {"dfnID":"dfn-client-message-queue","dfnText":"client message queue","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-client-message-queue"},{"id":"ref-for-dfn-client-message-queue\u2460"},{"id":"ref-for-dfn-client-message-queue\u2461"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dfn-client-message-queue\u2462"}],"title":"3.4.6. startMessages()"},{"refs":[{"id":"ref-for-dfn-client-message-queue\u2463"}],"title":"3.4.7. Event handlers"},{"refs":[{"id":"ref-for-dfn-client-message-queue\u2464"}],"title":"4.2.6. postMessage(message, options)"}],"url":"#dfn-client-message-queue"},
"dfn-containing-job-queue": {"dfnID":"dfn-containing-job-queue","dfnText":"containing job queue","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-containing-job-queue"},{"id":"ref-for-dfn-containing-job-queue\u2460"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-dfn-containing-job-queue\u2461"}],"title":"Finish Job"}],"url":"#dfn-containing-job-queue"},
"dfn-containing-service-worker-registration": {"dfnID":"dfn-containing-service-worker-registration","dfnText":"containing service worker registration","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2460"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2461"}],"title":"4.1.2. registration"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2462"},{"id":"ref-for-dfn-containing-service-worker-registration\u2463"},{"id":"ref-for-dfn-containing-service-worker-registration\u2464"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2465"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2466"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2467"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2468"},{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u24ea"},{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u2460"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u2461"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u2462"},{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u2463"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u2464"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u2465"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u2466"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u2467"},{"id":"ref-for-dfn-containing-service-worker-registration\u2460\u2468"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dfn-containing-service-worker-registration\u2461\u24ea"}],"title":"Lookup Race Response"}],"url":"#dfn-containing-service-worker-registration"},
"dfn-control": {"dfnID":"dfn-control","dfnText":"controlled","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-control"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-dfn-control\u2460"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-dfn-control\u2461"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dfn-control\u2462"}],"title":"Service Worker Script Response"}],"url":"#dfn-control"},
"dfn-count-router-condition-result": {"dfnID":"dfn-count-router-condition-result","dfnText":"count router condition result","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-count-router-condition-result"}],"title":"Check Router Registration Limit"},{"refs":[{"id":"ref-for-dfn-count-router-condition-result\u2460"},{"id":"ref-for-dfn-count-router-condition-result\u2461"}],"title":"Count Router Inner Conditions"}],"url":"#dfn-count-router-condition-result"},
"dfn-count-router-condition-result-condition-count": {"dfnID":"dfn-count-router-condition-result-condition-count","dfnText":"condition count","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-count-router-condition-result-condition-count"}],"title":"Check Router Registration Limit"},{"refs":[{"id":"ref-for-dfn-count-router-condition-result-condition-count\u2460"},{"id":"ref-for-dfn-count-router-condition-result-condition-count\u2461"}],"title":"Count Router Inner Conditions"}],"url":"#dfn-count-router-condition-result-condition-count"},
"dfn-dedicatedworker-client": {"dfnID":"dfn-dedicatedworker-client","dfnText":"dedicated worker client","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-dedicatedworker-client"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-dfn-dedicatedworker-client\u2460"}],"title":"4.2.4. type"},{"refs":[{"id":"ref-for-dfn-dedicatedworker-client\u2461"}],"title":"4.3.2. matchAll(options)"}],"url":"#dfn-dedicatedworker-client"},
"dfn-dfn-count-router-condition-result-quota-exceeded": {"dfnID":"dfn-dfn-count-router-condition-result-quota-exceeded","dfnText":"quota exceeded","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-dfn-count-router-condition-result-quota-exceeded"},{"id":"ref-for-dfn-dfn-count-router-condition-result-quota-exceeded\u2460"}],"title":"Check Router Registration Limit"},{"refs":[{"id":"ref-for-dfn-dfn-count-router-condition-result-quota-exceeded\u2461"},{"id":"ref-for-dfn-dfn-count-router-condition-result-quota-exceeded\u2462"},{"id":"ref-for-dfn-dfn-count-router-condition-result-quota-exceeded\u2463"}],"title":"Count Router Inner Conditions"}],"url":"#dfn-dfn-count-router-condition-result-quota-exceeded"},
"dfn-functional-events": {"dfnID":"dfn-functional-events","dfnText":"Functional events","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-functional-events"}],"title":"2.6. Task Sources"},{"refs":[{"id":"ref-for-dfn-functional-events\u2460"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dfn-functional-events\u2461"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dfn-functional-events\u2462"},{"id":"ref-for-dfn-functional-events\u2463"},{"id":"ref-for-dfn-functional-events\u2464"},{"id":"ref-for-dfn-functional-events\u2465"},{"id":"ref-for-dfn-functional-events\u2466"},{"id":"ref-for-dfn-functional-events\u2467"},{"id":"ref-for-dfn-functional-events\u2468"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-dfn-functional-events\u2460\u24ea"}],"title":"7.2. Define Functional Event"},{"refs":[{"id":"ref-for-dfn-functional-events\u2460\u2460"}],"title":"7.3. Define Event Handler"},{"refs":[{"id":"ref-for-dfn-functional-events\u2460\u2461"}],"title":"7.4. Firing Functional Events"}],"url":"#dfn-functional-events"},
"dfn-handle-fetch-task-source": {"dfnID":"dfn-handle-fetch-task-source","dfnText":"handle fetch task source","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-handle-fetch-task-source"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-handle-fetch-task-source\u2460"},{"id":"ref-for-dfn-handle-fetch-task-source\u2461"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-dfn-handle-fetch-task-source\u2462"}],"title":"Create Fetch Event and Dispatch"}],"url":"#dfn-handle-fetch-task-source"},
"dfn-handle-functional-event-task-source": {"dfnID":"dfn-handle-functional-event-task-source","dfnText":"handle functional event task source","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-handle-functional-event-task-source"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-handle-functional-event-task-source\u2460"},{"id":"ref-for-dfn-handle-functional-event-task-source\u2461"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-dfn-handle-functional-event-task-source\u2462"}],"title":"Fire Functional Event"}],"url":"#dfn-handle-functional-event-task-source"},
"dfn-has-ever-been-evaluated-flag": {"dfnID":"dfn-has-ever-been-evaluated-flag","dfnText":"has ever been evaluated flag","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-has-ever-been-evaluated-flag"},{"id":"ref-for-dfn-has-ever-been-evaluated-flag\u2460"}],"title":"Run Service Worker"}],"url":"#dfn-has-ever-been-evaluated-flag"},
"dfn-installing-worker": {"dfnID":"dfn-installing-worker","dfnText":"installing worker","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-installing-worker"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2460"},{"id":"ref-for-dfn-installing-worker\u2461"}],"title":"2.7. User Agent Shutdown"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2462"},{"id":"ref-for-dfn-installing-worker\u2463"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2464"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2465"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2466"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2467"},{"id":"ref-for-dfn-installing-worker\u2468"},{"id":"ref-for-dfn-installing-worker\u2460\u24ea"},{"id":"ref-for-dfn-installing-worker\u2460\u2460"},{"id":"ref-for-dfn-installing-worker\u2460\u2461"},{"id":"ref-for-dfn-installing-worker\u2460\u2462"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2460\u2463"},{"id":"ref-for-dfn-installing-worker\u2460\u2464"}],"title":"Handle User Agent Shutdown"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2460\u2465"},{"id":"ref-for-dfn-installing-worker\u2460\u2466"},{"id":"ref-for-dfn-installing-worker\u2460\u2467"}],"title":"Clear Registration"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2460\u2468"},{"id":"ref-for-dfn-installing-worker\u2461\u24ea"}],"title":"Try Clear Registration"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2461\u2460"},{"id":"ref-for-dfn-installing-worker\u2461\u2461"},{"id":"ref-for-dfn-installing-worker\u2461\u2462"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-dfn-installing-worker\u2461\u2463"},{"id":"ref-for-dfn-installing-worker\u2461\u2464"}],"title":"Get Newest Worker"}],"url":"#dfn-installing-worker"},
"dfn-job": {"dfnID":"dfn-job","dfnText":"job","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job"},{"id":"ref-for-dfn-job\u2460"},{"id":"ref-for-dfn-job\u2461"},{"id":"ref-for-dfn-job\u2462"},{"id":"ref-for-dfn-job\u2463"},{"id":"ref-for-dfn-job\u2464"},{"id":"ref-for-dfn-job\u2465"},{"id":"ref-for-dfn-job\u2466"},{"id":"ref-for-dfn-job\u2467"},{"id":"ref-for-dfn-job\u2468"},{"id":"ref-for-dfn-job\u2460\u24ea"},{"id":"ref-for-dfn-job\u2460\u2460"},{"id":"ref-for-dfn-job\u2460\u2461"},{"id":"ref-for-dfn-job\u2460\u2462"},{"id":"ref-for-dfn-job\u2460\u2463"},{"id":"ref-for-dfn-job\u2460\u2464"},{"id":"ref-for-dfn-job\u2460\u2465"},{"id":"ref-for-dfn-job\u2460\u2466"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-job\u2460\u2467"},{"id":"ref-for-dfn-job\u2460\u2468"}],"title":"Create Job"},{"refs":[{"id":"ref-for-dfn-job\u2461\u24ea"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-dfn-job\u2461\u2460"}],"title":"Finish Job"},{"refs":[{"id":"ref-for-dfn-job\u2461\u2461"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-dfn-job\u2461\u2462"}],"title":"Reject Job Promise"},{"refs":[{"id":"ref-for-dfn-job\u2461\u2463"}],"title":"Register"},{"refs":[{"id":"ref-for-dfn-job\u2461\u2464"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-job\u2461\u2465"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-job\u2461\u2466"}],"title":"Unregister"}],"url":"#dfn-job"},
"dfn-job-client": {"dfnID":"dfn-job-client","dfnText":"client","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-client"}],"title":"Create Job"},{"refs":[{"id":"ref-for-dfn-job-client\u2460"},{"id":"ref-for-dfn-job-client\u2461"},{"id":"ref-for-dfn-job-client\u2462"},{"id":"ref-for-dfn-job-client\u2463"},{"id":"ref-for-dfn-job-client\u2464"},{"id":"ref-for-dfn-job-client\u2465"},{"id":"ref-for-dfn-job-client\u2466"},{"id":"ref-for-dfn-job-client\u2467"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-dfn-job-client\u2468"},{"id":"ref-for-dfn-job-client\u2460\u24ea"},{"id":"ref-for-dfn-job-client\u2460\u2460"},{"id":"ref-for-dfn-job-client\u2460\u2461"},{"id":"ref-for-dfn-job-client\u2460\u2462"},{"id":"ref-for-dfn-job-client\u2460\u2463"}],"title":"Reject Job Promise"},{"refs":[{"id":"ref-for-dfn-job-client\u2460\u2464"},{"id":"ref-for-dfn-job-client\u2460\u2465"},{"id":"ref-for-dfn-job-client\u2460\u2466"},{"id":"ref-for-dfn-job-client\u2460\u2467"},{"id":"ref-for-dfn-job-client\u2460\u2468"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-job-client\u2461\u24ea"}],"title":"Unregister"}],"url":"#dfn-job-client"},
"dfn-job-equivalent": {"dfnID":"dfn-job-equivalent","dfnText":"equivalent","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-equivalent"}],"title":"Schedule Job"}],"url":"#dfn-job-equivalent"},
"dfn-job-force-bypass-cache-flag": {"dfnID":"dfn-job-force-bypass-cache-flag","dfnText":"force bypass cache flag","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-force-bypass-cache-flag"},{"id":"ref-for-dfn-job-force-bypass-cache-flag\u2460"},{"id":"ref-for-dfn-job-force-bypass-cache-flag\u2461"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-job-force-bypass-cache-flag\u2462"}],"title":"Soft Update"},{"refs":[{"id":"ref-for-dfn-job-force-bypass-cache-flag\u2463"}],"title":"Install"}],"url":"#dfn-job-force-bypass-cache-flag"},
"dfn-job-list-of-equivalent-jobs": {"dfnID":"dfn-job-list-of-equivalent-jobs","dfnText":"list of equivalent jobs","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-list-of-equivalent-jobs"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-dfn-job-list-of-equivalent-jobs\u2460"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-dfn-job-list-of-equivalent-jobs\u2461"}],"title":"Reject Job Promise"}],"url":"#dfn-job-list-of-equivalent-jobs"},
"dfn-job-promise": {"dfnID":"dfn-job-promise","dfnText":"job promise","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-promise"}],"title":"Create Job"},{"refs":[{"id":"ref-for-dfn-job-promise\u2460"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-dfn-job-promise\u2461"},{"id":"ref-for-dfn-job-promise\u2462"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-dfn-job-promise\u2463"},{"id":"ref-for-dfn-job-promise\u2464"}],"title":"Reject Job Promise"},{"refs":[{"id":"ref-for-dfn-job-promise\u2465"}],"title":"Install"}],"url":"#dfn-job-promise"},
"dfn-job-queue": {"dfnID":"dfn-job-queue","dfnText":"job queue","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-queue"},{"id":"ref-for-dfn-job-queue\u2460"},{"id":"ref-for-dfn-job-queue\u2461"},{"id":"ref-for-dfn-job-queue\u2462"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-job-queue\u2463"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-dfn-job-queue\u2464"}],"title":"Run Job"}],"url":"#dfn-job-queue"},
"dfn-job-scope-url": {"dfnID":"dfn-job-scope-url","dfnText":"scope url","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-scope-url"},{"id":"ref-for-dfn-job-scope-url\u2460"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-job-scope-url\u2461"}],"title":"Create Job"},{"refs":[{"id":"ref-for-dfn-job-scope-url\u2462"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-dfn-job-scope-url\u2463"},{"id":"ref-for-dfn-job-scope-url\u2464"},{"id":"ref-for-dfn-job-scope-url\u2465"}],"title":"Register"},{"refs":[{"id":"ref-for-dfn-job-scope-url\u2466"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-job-scope-url\u2467"},{"id":"ref-for-dfn-job-scope-url\u2468"},{"id":"ref-for-dfn-job-scope-url\u2460\u24ea"}],"title":"Unregister"}],"url":"#dfn-job-scope-url"},
"dfn-job-script-url": {"dfnID":"dfn-job-script-url","dfnText":"script url","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-script-url"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-job-script-url\u2460"}],"title":"Create Job"},{"refs":[{"id":"ref-for-dfn-job-script-url\u2461"},{"id":"ref-for-dfn-job-script-url\u2462"},{"id":"ref-for-dfn-job-script-url\u2463"}],"title":"Register"},{"refs":[{"id":"ref-for-dfn-job-script-url\u2464"},{"id":"ref-for-dfn-job-script-url\u2465"},{"id":"ref-for-dfn-job-script-url\u2466"},{"id":"ref-for-dfn-job-script-url\u2467"},{"id":"ref-for-dfn-job-script-url\u2468"},{"id":"ref-for-dfn-job-script-url\u2460\u24ea"},{"id":"ref-for-dfn-job-script-url\u2460\u2460"}],"title":"Update"}],"url":"#dfn-job-script-url"},
"dfn-job-type": {"dfnID":"dfn-job-type","dfnText":"job type","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-type"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-job-type\u2460"},{"id":"ref-for-dfn-job-type\u2461"}],"title":"Create Job"},{"refs":[{"id":"ref-for-dfn-job-type\u2462"},{"id":"ref-for-dfn-job-type\u2463"},{"id":"ref-for-dfn-job-type\u2464"}],"title":"Run Job"},{"refs":[{"id":"ref-for-dfn-job-type\u2465"},{"id":"ref-for-dfn-job-type\u2466"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-dfn-job-type\u2467"}],"title":"Update"}],"url":"#dfn-job-type"},
"dfn-job-update-via-cache-mode": {"dfnID":"dfn-job-update-via-cache-mode","dfnText":"update via cache mode","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-update-via-cache-mode"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-job-update-via-cache-mode\u2460"}],"title":"Start Register"},{"refs":[{"id":"ref-for-dfn-job-update-via-cache-mode\u2461"},{"id":"ref-for-dfn-job-update-via-cache-mode\u2462"}],"title":"Register"},{"refs":[{"id":"ref-for-dfn-job-update-via-cache-mode\u2463"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-job-update-via-cache-mode\u2464"}],"title":"Install"}],"url":"#dfn-job-update-via-cache-mode"},
"dfn-job-worker-type": {"dfnID":"dfn-job-worker-type","dfnText":"worker type","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-job-worker-type"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-dfn-job-worker-type\u2460"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-job-worker-type\u2461"},{"id":"ref-for-dfn-job-worker-type\u2462"}],"title":"Start Register"},{"refs":[{"id":"ref-for-dfn-job-worker-type\u2463"}],"title":"Register"},{"refs":[{"id":"ref-for-dfn-job-worker-type\u2464"},{"id":"ref-for-dfn-job-worker-type\u2465"},{"id":"ref-for-dfn-job-worker-type\u2466"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-job-worker-type\u2467"}],"title":"Soft Update"}],"url":"#dfn-job-worker-type"},
"dfn-last-update-check-time": {"dfnID":"dfn-last-update-check-time","dfnText":"last update check time","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-last-update-check-time"},{"id":"ref-for-dfn-last-update-check-time\u2460"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-last-update-check-time\u2461"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-dfn-last-update-check-time\u2462"},{"id":"ref-for-dfn-last-update-check-time\u2463"}],"title":"Update"}],"url":"#dfn-last-update-check-time"},
"dfn-lifecycle-events": {"dfnID":"dfn-lifecycle-events","dfnText":"Lifecycle events","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-lifecycle-events"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dfn-lifecycle-events\u2460"},{"id":"ref-for-dfn-lifecycle-events\u2461"}],"title":"4.8. Events"}],"url":"#dfn-lifecycle-events"},
"dfn-name-to-cache-map": {"dfnID":"dfn-name-to-cache-map","dfnText":"name to cache map","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-name-to-cache-map"},{"id":"ref-for-dfn-name-to-cache-map\u2460"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-dfn-name-to-cache-map\u2461"},{"id":"ref-for-dfn-name-to-cache-map\u2462"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-dfn-name-to-cache-map\u2463"}],"title":"5.5.5. keys()"},{"refs":[{"id":"ref-for-dfn-name-to-cache-map\u2464"}],"title":"6.8. Privacy"},{"refs":[{"id":"ref-for-dfn-name-to-cache-map\u2465"}],"title":"Handle Fetch"}],"url":"#dfn-name-to-cache-map"},
"dfn-policy-container": {"dfnID":"dfn-policy-container","dfnText":"policy container","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-policy-container"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-policy-container\u2460"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"#dfn-policy-container"},
"dfn-race-response": {"dfnID":"dfn-race-response","dfnText":"race response","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-race-response"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dfn-race-response\u2460"},{"id":"ref-for-dfn-race-response\u2461"},{"id":"ref-for-dfn-race-response\u2462"},{"id":"ref-for-dfn-race-response\u2463"},{"id":"ref-for-dfn-race-response\u2464"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dfn-race-response\u2465"}],"title":"Create Fetch Event and Dispatch"}],"url":"#dfn-race-response"},
"dfn-race-result": {"dfnID":"dfn-race-result","dfnText":"race result","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-race-result"},{"id":"ref-for-dfn-race-result\u2460"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-race-result\u2461"},{"id":"ref-for-dfn-race-result\u2462"},{"id":"ref-for-dfn-race-result\u2463"}],"title":"Handle Fetch"}],"url":"#dfn-race-result"},
"dfn-relevant-name-to-cache-map": {"dfnID":"dfn-relevant-name-to-cache-map","dfnText":"relevant name to cache map","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-relevant-name-to-cache-map"},{"id":"ref-for-dfn-relevant-name-to-cache-map\u2460"}],"title":"5.5.1. match(request, options)"},{"refs":[{"id":"ref-for-dfn-relevant-name-to-cache-map\u2461"}],"title":"5.5.2. has(cacheName)"},{"refs":[{"id":"ref-for-dfn-relevant-name-to-cache-map\u2462"},{"id":"ref-for-dfn-relevant-name-to-cache-map\u2463"}],"title":"5.5.3. open(cacheName)"},{"refs":[{"id":"ref-for-dfn-relevant-name-to-cache-map\u2464"}],"title":"5.5.4. delete(cacheName)"},{"refs":[{"id":"ref-for-dfn-relevant-name-to-cache-map\u2465"}],"title":"5.5.5. keys()"}],"url":"#dfn-relevant-name-to-cache-map"},
"dfn-relevant-request-response-list": {"dfnID":"dfn-relevant-request-response-list","dfnText":"relevant request response list","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-relevant-request-response-list"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-dfn-relevant-request-response-list\u2460"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-dfn-relevant-request-response-list\u2461"}],"title":"Query Cache"},{"refs":[{"id":"ref-for-dfn-relevant-request-response-list\u2462"},{"id":"ref-for-dfn-relevant-request-response-list\u2463"},{"id":"ref-for-dfn-relevant-request-response-list\u2464"}],"title":"Batch Cache Operations"}],"url":"#dfn-relevant-request-response-list"},
"dfn-request-response-list": {"dfnID":"dfn-request-response-list","dfnText":"request response list","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-request-response-list"},{"id":"ref-for-dfn-request-response-list\u2460"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-dfn-request-response-list\u2461"},{"id":"ref-for-dfn-request-response-list\u2462"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-dfn-request-response-list\u2463"}],"title":"5.5.3. open(cacheName)"},{"refs":[{"id":"ref-for-dfn-request-response-list\u2464"}],"title":"6.8. Privacy"},{"refs":[{"id":"ref-for-dfn-request-response-list\u2465"},{"id":"ref-for-dfn-request-response-list\u2466"}],"title":"Query Cache"},{"refs":[{"id":"ref-for-dfn-request-response-list\u2467"},{"id":"ref-for-dfn-request-response-list\u2468"}],"title":"Batch Cache Operations"}],"url":"#dfn-request-response-list"},
"dfn-scope-to-job-queue-map": {"dfnID":"dfn-scope-to-job-queue-map","dfnText":"scope to job queue map","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-scope-to-job-queue-map"},{"id":"ref-for-dfn-scope-to-job-queue-map\u2460"},{"id":"ref-for-dfn-scope-to-job-queue-map\u2461"}],"title":"Schedule Job"}],"url":"#dfn-scope-to-job-queue-map"},
"dfn-scope-to-registration-map": {"dfnID":"dfn-scope-to-registration-map","dfnText":"registration map","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-scope-to-registration-map"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2460"}],"title":"2.3.1. Lifetime"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2461"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2462"}],"title":"6.8. Privacy"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2463"},{"id":"ref-for-dfn-scope-to-registration-map\u2464"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2465"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2466"}],"title":"Handle User Agent Shutdown"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2467"}],"title":"Unregister"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2468"}],"title":"Set Registration"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2460\u24ea"}],"title":"Match Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-scope-to-registration-map\u2460\u2460"}],"title":"Get Registration"}],"url":"#dfn-scope-to-registration-map"},
"dfn-scope-url": {"dfnID":"dfn-scope-url","dfnText":"scope url","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-scope-url"},{"id":"ref-for-dfn-scope-url\u2460"},{"id":"ref-for-dfn-scope-url\u2461"},{"id":"ref-for-dfn-scope-url\u2462"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-scope-url\u2463"}],"title":"2.3.1. Lifetime"},{"refs":[{"id":"ref-for-dfn-scope-url\u2464"}],"title":"3.2.6. scope"},{"refs":[{"id":"ref-for-dfn-scope-url\u2465"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-dfn-scope-url\u2466"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-dfn-scope-url\u2467"},{"id":"ref-for-dfn-scope-url\u2468"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-dfn-scope-url\u2460\u24ea"}],"title":"6.5. Path restriction"},{"refs":[{"id":"ref-for-dfn-scope-url\u2460\u2460"},{"id":"ref-for-dfn-scope-url\u2460\u2461"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-scope-url\u2460\u2462"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-scope-url\u2460\u2463"}],"title":"Soft Update"},{"refs":[{"id":"ref-for-dfn-scope-url\u2460\u2464"},{"id":"ref-for-dfn-scope-url\u2460\u2465"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-scope-url\u2460\u2466"}],"title":"Activate"},{"refs":[{"id":"ref-for-dfn-scope-url\u2460\u2467"}],"title":"Set Registration"},{"refs":[{"id":"ref-for-dfn-scope-url\u2460\u2468"}],"title":"Service Worker Script Response"}],"url":"#dfn-scope-url"},
"dfn-script-resource": {"dfnID":"dfn-script-resource","dfnText":"script resource","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-script-resource"},{"id":"ref-for-dfn-script-resource\u2460"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-dfn-script-resource\u2461"},{"id":"ref-for-dfn-script-resource\u2462"}],"title":"6.2. Content Security Policy"},{"refs":[{"id":"ref-for-dfn-script-resource\u2463"},{"id":"ref-for-dfn-script-resource\u2464"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-script-resource\u2465"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dfn-script-resource\u2466"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-dfn-script-resource\u2467"},{"id":"ref-for-dfn-script-resource\u2468"}],"title":"Service Worker Script Request"},{"refs":[{"id":"ref-for-dfn-script-resource\u2460\u24ea"}],"title":"Service Worker Script Response"},{"refs":[{"id":"ref-for-dfn-script-resource\u2460\u2460"}],"title":"Syntax"}],"url":"#dfn-script-resource"},
"dfn-script-resource-map": {"dfnID":"dfn-script-resource-map","dfnText":"script resource map","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-script-resource-map"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-dfn-script-resource-map\u2460"}],"title":"6.8. Privacy"},{"refs":[{"id":"ref-for-dfn-script-resource-map\u2461"},{"id":"ref-for-dfn-script-resource-map\u2462"},{"id":"ref-for-dfn-script-resource-map\u2463"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-script-resource-map\u2464"}],"title":"Install"}],"url":"#dfn-script-resource-map"},
"dfn-script-url": {"dfnID":"dfn-script-url","dfnText":"script url","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-script-url"}],"title":"3.1.2. scriptURL"},{"refs":[{"id":"ref-for-dfn-script-url\u2460"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-dfn-script-url\u2461"}],"title":"Register"},{"refs":[{"id":"ref-for-dfn-script-url\u2462"},{"id":"ref-for-dfn-script-url\u2463"},{"id":"ref-for-dfn-script-url\u2464"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-script-url\u2465"}],"title":"Soft Update"},{"refs":[{"id":"ref-for-dfn-script-url\u2466"},{"id":"ref-for-dfn-script-url\u2467"},{"id":"ref-for-dfn-script-url\u2468"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dfn-script-url\u2460\u24ea"}],"title":"Parse URL Pattern"},{"refs":[{"id":"ref-for-dfn-script-url\u2460\u2460"}],"title":"Update Worker State"}],"url":"#dfn-script-url"},
"dfn-service-worker": {"dfnID":"dfn-service-worker","dfnText":"service worker","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker"},{"id":"ref-for-dfn-service-worker\u2460"},{"id":"ref-for-dfn-service-worker\u2461"},{"id":"ref-for-dfn-service-worker\u2462"},{"id":"ref-for-dfn-service-worker\u2463"},{"id":"ref-for-dfn-service-worker\u2464"},{"id":"ref-for-dfn-service-worker\u2465"},{"id":"ref-for-dfn-service-worker\u2466"},{"id":"ref-for-dfn-service-worker\u2467"},{"id":"ref-for-dfn-service-worker\u2468"},{"id":"ref-for-dfn-service-worker\u2460\u24ea"},{"id":"ref-for-dfn-service-worker\u2460\u2460"},{"id":"ref-for-dfn-service-worker\u2460\u2461"},{"id":"ref-for-dfn-service-worker\u2460\u2462"}],"title":"1. Motivations"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u2463"},{"id":"ref-for-dfn-service-worker\u2460\u2464"},{"id":"ref-for-dfn-service-worker\u2460\u2465"},{"id":"ref-for-dfn-service-worker\u2460\u2466"},{"id":"ref-for-dfn-service-worker\u2460\u2467"},{"id":"ref-for-dfn-service-worker\u2460\u2468"},{"id":"ref-for-dfn-service-worker\u2461\u24ea"},{"id":"ref-for-dfn-service-worker\u2461\u2460"},{"id":"ref-for-dfn-service-worker\u2461\u2461"},{"id":"ref-for-dfn-service-worker\u2461\u2462"},{"id":"ref-for-dfn-service-worker\u2461\u2463"},{"id":"ref-for-dfn-service-worker\u2461\u2464"},{"id":"ref-for-dfn-service-worker\u2461\u2465"},{"id":"ref-for-dfn-service-worker\u2461\u2466"},{"id":"ref-for-dfn-service-worker\u2461\u2467"},{"id":"ref-for-dfn-service-worker\u2461\u2468"},{"id":"ref-for-dfn-service-worker\u2462\u24ea"},{"id":"ref-for-dfn-service-worker\u2462\u2460"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-dfn-service-worker\u2462\u2461"},{"id":"ref-for-dfn-service-worker\u2462\u2462"}],"title":"2.1.1. Lifetime"},{"refs":[{"id":"ref-for-dfn-service-worker\u2462\u2463"},{"id":"ref-for-dfn-service-worker\u2462\u2464"},{"id":"ref-for-dfn-service-worker\u2462\u2465"},{"id":"ref-for-dfn-service-worker\u2462\u2466"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-service-worker\u2462\u2467"},{"id":"ref-for-dfn-service-worker\u2462\u2468"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-dfn-service-worker\u2463\u24ea"},{"id":"ref-for-dfn-service-worker\u2463\u2460"},{"id":"ref-for-dfn-service-worker\u2463\u2461"}],"title":"2.6. Task Sources"},{"refs":[{"id":"ref-for-dfn-service-worker\u2463\u2462"}],"title":"2.7. User Agent Shutdown"},{"refs":[{"id":"ref-for-dfn-service-worker\u2463\u2463"},{"id":"ref-for-dfn-service-worker\u2463\u2464"},{"id":"ref-for-dfn-service-worker\u2463\u2465"},{"id":"ref-for-dfn-service-worker\u2463\u2466"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-dfn-service-worker\u2463\u2467"},{"id":"ref-for-dfn-service-worker\u2463\u2468"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-dfn-service-worker\u2464\u24ea"}],"title":"3.1.2. scriptURL"},{"refs":[{"id":"ref-for-dfn-service-worker\u2464\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-dfn-service-worker\u2464\u2461"}],"title":"3.2.2. installing"},{"refs":[{"id":"ref-for-dfn-service-worker\u2464\u2462"}],"title":"3.2.3. waiting"},{"refs":[{"id":"ref-for-dfn-service-worker\u2464\u2463"}],"title":"3.2.4. active"},{"refs":[{"id":"ref-for-dfn-service-worker\u2464\u2464"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dfn-service-worker\u2464\u2465"},{"id":"ref-for-dfn-service-worker\u2464\u2466"},{"id":"ref-for-dfn-service-worker\u2464\u2467"},{"id":"ref-for-dfn-service-worker\u2464\u2468"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dfn-service-worker\u2465\u24ea"},{"id":"ref-for-dfn-service-worker\u2465\u2460"},{"id":"ref-for-dfn-service-worker\u2465\u2461"},{"id":"ref-for-dfn-service-worker\u2465\u2462"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dfn-service-worker\u2465\u2463"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-dfn-service-worker\u2465\u2464"},{"id":"ref-for-dfn-service-worker\u2465\u2465"},{"id":"ref-for-dfn-service-worker\u2465\u2466"},{"id":"ref-for-dfn-service-worker\u2465\u2467"},{"id":"ref-for-dfn-service-worker\u2465\u2468"},{"id":"ref-for-dfn-service-worker\u2466\u24ea"},{"id":"ref-for-dfn-service-worker\u2466\u2460"},{"id":"ref-for-dfn-service-worker\u2466\u2461"},{"id":"ref-for-dfn-service-worker\u2466\u2462"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dfn-service-worker\u2466\u2463"},{"id":"ref-for-dfn-service-worker\u2466\u2464"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dfn-service-worker\u2466\u2465"},{"id":"ref-for-dfn-service-worker\u2466\u2466"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-dfn-service-worker\u2466\u2467"},{"id":"ref-for-dfn-service-worker\u2466\u2468"}],"title":"5.2. Understanding Cache Lifetimes"},{"refs":[{"id":"ref-for-dfn-service-worker\u2467\u24ea"},{"id":"ref-for-dfn-service-worker\u2467\u2460"},{"id":"ref-for-dfn-service-worker\u2467\u2461"},{"id":"ref-for-dfn-service-worker\u2467\u2462"},{"id":"ref-for-dfn-service-worker\u2467\u2463"}],"title":"6.1. Secure Context"},{"refs":[{"id":"ref-for-dfn-service-worker\u2467\u2464"}],"title":"6.2. Content Security Policy"},{"refs":[{"id":"ref-for-dfn-service-worker\u2467\u2465"},{"id":"ref-for-dfn-service-worker\u2467\u2466"},{"id":"ref-for-dfn-service-worker\u2467\u2467"}],"title":"6.3.1. Origin restriction"},{"refs":[{"id":"ref-for-dfn-service-worker\u2467\u2468"}],"title":"6.4. Cross-Origin Resources and CORS"},{"refs":[{"id":"ref-for-dfn-service-worker\u2468\u24ea"},{"id":"ref-for-dfn-service-worker\u2468\u2460"},{"id":"ref-for-dfn-service-worker\u2468\u2461"}],"title":"6.7. Implementer Concerns"},{"refs":[{"id":"ref-for-dfn-service-worker\u2468\u2462"},{"id":"ref-for-dfn-service-worker\u2468\u2463"}],"title":"6.8. Privacy"},{"refs":[{"id":"ref-for-dfn-service-worker\u2468\u2464"}],"title":"Start Register"},{"refs":[{"id":"ref-for-dfn-service-worker\u2468\u2465"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-service-worker\u2468\u2466"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-service-worker\u2468\u2467"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dfn-service-worker\u2468\u2468"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u24ea"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u2460"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u2461"}],"title":"Parse URL Pattern"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u2462"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u2463"}],"title":"Match Router Condition"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u2464"}],"title":"Get Router Source"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u2465"}],"title":"Should Skip Event"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u2466"}],"title":"Update Service Worker Extended Events Set"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u2467"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u24ea\u2468"},{"id":"ref-for-dfn-service-worker\u2460\u2460\u24ea"},{"id":"ref-for-dfn-service-worker\u2460\u2460\u2460"}],"title":"Update Worker State"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u2460\u2461"}],"title":"Get Newest Worker"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u2460\u2462"}],"title":"Service Worker Has No Pending Events"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u2460\u2463"},{"id":"ref-for-dfn-service-worker\u2460\u2460\u2464"}],"title":"Service Worker Script Request"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u2460\u2465"}],"title":"Service Worker Script Response"},{"refs":[{"id":"ref-for-dfn-service-worker\u2460\u2460\u2466"}],"title":"Syntax"}],"url":"#dfn-service-worker"},
"dfn-service-worker-client": {"dfnID":"dfn-service-worker-client","dfnText":"service worker client","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-client"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2460"}],"title":"2.1.1. Lifetime"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2461"}],"title":"2.3.1. Lifetime"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2462"},{"id":"ref-for-dfn-service-worker-client\u2463"},{"id":"ref-for-dfn-service-worker-client\u2464"},{"id":"ref-for-dfn-service-worker-client\u2465"},{"id":"ref-for-dfn-service-worker-client\u2466"},{"id":"ref-for-dfn-service-worker-client\u2467"},{"id":"ref-for-dfn-service-worker-client\u2468"},{"id":"ref-for-dfn-service-worker-client\u2460\u24ea"},{"id":"ref-for-dfn-service-worker-client\u2460\u2460"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2460\u2461"},{"id":"ref-for-dfn-service-worker-client\u2460\u2462"},{"id":"ref-for-dfn-service-worker-client\u2460\u2463"},{"id":"ref-for-dfn-service-worker-client\u2460\u2464"},{"id":"ref-for-dfn-service-worker-client\u2460\u2465"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2460\u2466"},{"id":"ref-for-dfn-service-worker-client\u2460\u2467"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2460\u2468"},{"id":"ref-for-dfn-service-worker-client\u2461\u24ea"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2461\u2460"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2461\u2461"},{"id":"ref-for-dfn-service-worker-client\u2461\u2462"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2461\u2463"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2461\u2464"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2461\u2465"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2461\u2466"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2461\u2467"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2461\u2468"},{"id":"ref-for-dfn-service-worker-client\u2462\u24ea"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2462\u2460"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2462\u2461"}],"title":"4.7.2. event.origin"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2462\u2462"},{"id":"ref-for-dfn-service-worker-client\u2462\u2463"}],"title":"6.1. Secure Context"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2462\u2464"}],"title":"6.3.1. Origin restriction"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2462\u2465"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2462\u2466"}],"title":"Create Job"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2462\u2467"}],"title":"Start Register"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2462\u2468"},{"id":"ref-for-dfn-service-worker-client\u2463\u24ea"}],"title":"Activate"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2463\u2460"}],"title":"Try Activate"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2463\u2461"},{"id":"ref-for-dfn-service-worker-client\u2463\u2462"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2463\u2463"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2463\u2464"},{"id":"ref-for-dfn-service-worker-client\u2463\u2465"},{"id":"ref-for-dfn-service-worker-client\u2463\u2466"}],"title":"Handle Service Worker Client Unload"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2463\u2467"}],"title":"Try Clear Registration"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2463\u2468"}],"title":"Notify Controller Change"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2464\u24ea"}],"title":"Create Client"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2464\u2460"}],"title":"Create Window Client"},{"refs":[{"id":"ref-for-dfn-service-worker-client\u2464\u2461"}],"title":"Resolve Get Client Promise"}],"url":"#dfn-service-worker-client"},
"dfn-service-worker-client-browsing-context": {"dfnID":"dfn-service-worker-client-browsing-context","dfnText":"browsing context","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-client-browsing-context"},{"id":"ref-for-dfn-service-worker-client-browsing-context\u2460"},{"id":"ref-for-dfn-service-worker-client-browsing-context\u2461"},{"id":"ref-for-dfn-service-worker-client-browsing-context\u2462"},{"id":"ref-for-dfn-service-worker-client-browsing-context\u2463"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-dfn-service-worker-client-browsing-context\u2464"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-dfn-service-worker-client-browsing-context\u2465"},{"id":"ref-for-dfn-service-worker-client-browsing-context\u2466"}],"title":"4.3.2. matchAll(options)"}],"url":"#dfn-service-worker-client-browsing-context"},
"dfn-service-worker-client-focusstate": {"dfnID":"dfn-service-worker-client-focusstate","dfnText":"focus state","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-client-focusstate"}],"title":"4.2.8. focused"},{"refs":[{"id":"ref-for-dfn-service-worker-client-focusstate\u2460"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-dfn-service-worker-client-focusstate\u2461"}],"title":"Create Window Client"}],"url":"#dfn-service-worker-client-focusstate"},
"dfn-service-worker-client-frame-type": {"dfnID":"dfn-service-worker-client-frame-type","dfnText":"frame type","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-client-frame-type"}],"title":"4.2.2. frameType"},{"refs":[{"id":"ref-for-dfn-service-worker-client-frame-type\u2460"}],"title":"Create Window Client"}],"url":"#dfn-service-worker-client-frame-type"},
"dfn-service-worker-client-service-worker-client": {"dfnID":"dfn-service-worker-client-service-worker-client","dfnText":"service worker client","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2460"}],"title":"4.2.1. url"},{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2461"}],"title":"4.2.3. id"},{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2462"}],"title":"4.2.4. type"},{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2463"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2464"},{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2465"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2466"},{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2467"},{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2468"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2460\u24ea"},{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2460\u2460"},{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2460\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2460\u2462"}],"title":"Create Client"},{"refs":[{"id":"ref-for-dfn-service-worker-client-service-worker-client\u2460\u2463"}],"title":"Create Window Client"}],"url":"#dfn-service-worker-client-service-worker-client"},
"dfn-service-worker-client-visibilitystate": {"dfnID":"dfn-service-worker-client-visibilitystate","dfnText":"visibility state","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-client-visibilitystate"}],"title":"4.2.7. visibilityState"},{"refs":[{"id":"ref-for-dfn-service-worker-client-visibilitystate\u2460"}],"title":"Create Window Client"}],"url":"#dfn-service-worker-client-visibilitystate"},
"dfn-service-worker-events": {"dfnID":"dfn-service-worker-events","dfnText":"service worker events","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-events"}],"title":"4.8. Events"}],"url":"#dfn-service-worker-events"},
"dfn-service-worker-global-object": {"dfnID":"dfn-service-worker-global-object","dfnText":"global object","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-global-object"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2460"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2461"}],"title":"Activate"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2462"},{"id":"ref-for-dfn-service-worker-global-object\u2463"},{"id":"ref-for-dfn-service-worker-global-object\u2464"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2465"},{"id":"ref-for-dfn-service-worker-global-object\u2466"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2467"}],"title":"All Fetch Listeners Are Empty"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2468"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2460\u24ea"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2460\u2460"},{"id":"ref-for-dfn-service-worker-global-object\u2460\u2461"},{"id":"ref-for-dfn-service-worker-global-object\u2460\u2462"},{"id":"ref-for-dfn-service-worker-global-object\u2460\u2463"},{"id":"ref-for-dfn-service-worker-global-object\u2460\u2464"},{"id":"ref-for-dfn-service-worker-global-object\u2460\u2465"},{"id":"ref-for-dfn-service-worker-global-object\u2460\u2466"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2460\u2467"},{"id":"ref-for-dfn-service-worker-global-object\u2460\u2468"}],"title":"Fire Functional Event"},{"refs":[{"id":"ref-for-dfn-service-worker-global-object\u2461\u24ea"}],"title":"Lookup Race Response"}],"url":"#dfn-service-worker-global-object"},
"dfn-service-worker-registration": {"dfnID":"dfn-service-worker-registration","dfnText":"service worker registration","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-registration"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2460"},{"id":"ref-for-dfn-service-worker-registration\u2461"},{"id":"ref-for-dfn-service-worker-registration\u2462"},{"id":"ref-for-dfn-service-worker-registration\u2463"},{"id":"ref-for-dfn-service-worker-registration\u2464"},{"id":"ref-for-dfn-service-worker-registration\u2465"},{"id":"ref-for-dfn-service-worker-registration\u2466"},{"id":"ref-for-dfn-service-worker-registration\u2467"},{"id":"ref-for-dfn-service-worker-registration\u2468"},{"id":"ref-for-dfn-service-worker-registration\u2460\u24ea"},{"id":"ref-for-dfn-service-worker-registration\u2460\u2460"},{"id":"ref-for-dfn-service-worker-registration\u2460\u2461"},{"id":"ref-for-dfn-service-worker-registration\u2460\u2462"},{"id":"ref-for-dfn-service-worker-registration\u2460\u2463"},{"id":"ref-for-dfn-service-worker-registration\u2460\u2464"},{"id":"ref-for-dfn-service-worker-registration\u2460\u2465"},{"id":"ref-for-dfn-service-worker-registration\u2460\u2466"},{"id":"ref-for-dfn-service-worker-registration\u2460\u2467"},{"id":"ref-for-dfn-service-worker-registration\u2460\u2468"},{"id":"ref-for-dfn-service-worker-registration\u2461\u24ea"},{"id":"ref-for-dfn-service-worker-registration\u2461\u2460"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2461\u2461"},{"id":"ref-for-dfn-service-worker-registration\u2461\u2462"},{"id":"ref-for-dfn-service-worker-registration\u2461\u2463"},{"id":"ref-for-dfn-service-worker-registration\u2461\u2464"}],"title":"2.3.1. Lifetime"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2461\u2465"},{"id":"ref-for-dfn-service-worker-registration\u2461\u2466"},{"id":"ref-for-dfn-service-worker-registration\u2461\u2467"}],"title":"2.7. User Agent Shutdown"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2461\u2468"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2462\u24ea"},{"id":"ref-for-dfn-service-worker-registration\u2462\u2460"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2462\u2461"},{"id":"ref-for-dfn-service-worker-registration\u2462\u2462"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2462\u2463"},{"id":"ref-for-dfn-service-worker-registration\u2462\u2464"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2462\u2465"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2462\u2466"},{"id":"ref-for-dfn-service-worker-registration\u2462\u2467"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2462\u2468"},{"id":"ref-for-dfn-service-worker-registration\u2463\u24ea"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2463\u2460"}],"title":"3.6.1. enable()"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2463\u2461"}],"title":"3.6.2. disable()"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2463\u2462"}],"title":"3.6.3. setHeaderValue(value)"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2463\u2463"}],"title":"3.6.4. getState()"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2463\u2464"},{"id":"ref-for-dfn-service-worker-registration\u2463\u2465"}],"title":"6.1. Secure Context"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2463\u2466"}],"title":"6.8. Privacy"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2463\u2467"}],"title":"7.1. Define API bound to Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2463\u2468"}],"title":"7.4. Firing Functional Events"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2464\u24ea"},{"id":"ref-for-dfn-service-worker-registration\u2464\u2460"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2464\u2461"}],"title":"Start Register"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2464\u2462"}],"title":"Soft Update"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2464\u2463"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2464\u2464"}],"title":"Activate"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2464\u2465"}],"title":"Try Activate"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2464\u2466"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2464\u2467"}],"title":"Fire Functional Event"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2464\u2468"}],"title":"Handle Service Worker Client Unload"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2465\u24ea"},{"id":"ref-for-dfn-service-worker-registration\u2465\u2460"}],"title":"Set Registration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2465\u2461"}],"title":"Clear Registration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2465\u2462"}],"title":"Try Clear Registration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2465\u2463"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2465\u2464"}],"title":"Match Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2465\u2465"}],"title":"Get Registration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration\u2465\u2466"}],"title":"Get Newest Worker"}],"url":"#dfn-service-worker-registration"},
"dfn-service-worker-registration-task-queue": {"dfnID":"dfn-service-worker-registration-task-queue","dfnText":"task queues","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-registration-task-queue"},{"id":"ref-for-dfn-service-worker-registration-task-queue\u2460"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-service-worker-registration-task-queue\u2461"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-dfn-service-worker-registration-task-queue\u2462"}],"title":"Terminate Service Worker"}],"url":"#dfn-service-worker-registration-task-queue"},
"dfn-service-worker-registration-unregistered": {"dfnID":"dfn-service-worker-registration-unregistered","dfnText":"unregistered","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-service-worker-registration-unregistered"}],"title":"2.3.1. Lifetime"},{"refs":[{"id":"ref-for-dfn-service-worker-registration-unregistered\u2460"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-dfn-service-worker-registration-unregistered\u2461"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dfn-service-worker-registration-unregistered\u2462"}],"title":"Handle Service Worker Client Unload"}],"url":"#dfn-service-worker-registration-unregistered"},
"dfn-set-of-event-types-to-handle": {"dfnID":"dfn-set-of-event-types-to-handle","dfnText":"set of event types to handle","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-set-of-event-types-to-handle"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-dfn-set-of-event-types-to-handle\u2460"},{"id":"ref-for-dfn-set-of-event-types-to-handle\u2461"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-dfn-set-of-event-types-to-handle\u2462"}],"title":"All Fetch Listeners Are Empty"},{"refs":[{"id":"ref-for-dfn-set-of-event-types-to-handle\u2463"},{"id":"ref-for-dfn-set-of-event-types-to-handle\u2464"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dfn-set-of-event-types-to-handle\u2465"}],"title":"Should Skip Event"}],"url":"#dfn-set-of-event-types-to-handle"},
"dfn-set-of-extended-events": {"dfnID":"dfn-set-of-extended-events","dfnText":"set of extended events","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-set-of-extended-events"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-dfn-set-of-extended-events\u2460"},{"id":"ref-for-dfn-set-of-extended-events\u2461"},{"id":"ref-for-dfn-set-of-extended-events\u2462"}],"title":"Update Service Worker Extended Events Set"},{"refs":[{"id":"ref-for-dfn-set-of-extended-events\u2463"}],"title":"Service Worker Has No Pending Events"}],"url":"#dfn-set-of-extended-events"},
"dfn-set-of-used-scripts": {"dfnID":"dfn-set-of-used-scripts","dfnText":"set of used scripts","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-set-of-used-scripts"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-dfn-set-of-used-scripts\u2460"},{"id":"ref-for-dfn-set-of-used-scripts\u2461"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-dfn-set-of-used-scripts\u2462"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-set-of-used-scripts\u2463"}],"title":"Install"}],"url":"#dfn-set-of-used-scripts"},
"dfn-sharedworker-client": {"dfnID":"dfn-sharedworker-client","dfnText":"shared worker client","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-sharedworker-client"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-dfn-sharedworker-client\u2460"}],"title":"4.2.4. type"},{"refs":[{"id":"ref-for-dfn-sharedworker-client\u2461"}],"title":"4.3.2. matchAll(options)"}],"url":"#dfn-sharedworker-client"},
"dfn-skip-waiting-flag": {"dfnID":"dfn-skip-waiting-flag","dfnText":"skip waiting flag","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-skip-waiting-flag"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dfn-skip-waiting-flag\u2460"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-dfn-skip-waiting-flag\u2461"}],"title":"Try Activate"}],"url":"#dfn-skip-waiting-flag"},
"dfn-state": {"dfnID":"dfn-state","dfnText":"state","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-state"},{"id":"ref-for-dfn-state\u2460"},{"id":"ref-for-dfn-state\u2461"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-state\u2462"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-dfn-state\u2463"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-dfn-state\u2464"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-dfn-state\u2465"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-dfn-state\u2466"}],"title":"Try Activate"},{"refs":[{"id":"ref-for-dfn-state\u2467"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dfn-state\u2468"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-dfn-state\u2460\u24ea"},{"id":"ref-for-dfn-state\u2460\u2460"},{"id":"ref-for-dfn-state\u2460\u2461"},{"id":"ref-for-dfn-state\u2460\u2462"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-dfn-state\u2460\u2463"},{"id":"ref-for-dfn-state\u2460\u2464"}],"title":"Fire Functional Event"},{"refs":[{"id":"ref-for-dfn-state\u2460\u2465"},{"id":"ref-for-dfn-state\u2460\u2466"}],"title":"Update Worker State"}],"url":"#dfn-state"},
"dfn-type": {"dfnID":"dfn-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-type"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-dfn-type\u2460"}],"title":"Register"},{"refs":[{"id":"ref-for-dfn-type\u2461"},{"id":"ref-for-dfn-type\u2462"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-type\u2463"}],"title":"Soft Update"},{"refs":[{"id":"ref-for-dfn-type\u2464"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"#dfn-type"},
"dfn-update-via-cache": {"dfnID":"dfn-update-via-cache","dfnText":"update via cache mode","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-update-via-cache"}],"title":"3.2.7. updateViaCache"},{"refs":[{"id":"ref-for-dfn-update-via-cache\u2460"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-dfn-update-via-cache\u2461"}],"title":"Start Register"},{"refs":[{"id":"ref-for-dfn-update-via-cache\u2462"}],"title":"Register"},{"refs":[{"id":"ref-for-dfn-update-via-cache\u2463"},{"id":"ref-for-dfn-update-via-cache\u2464"},{"id":"ref-for-dfn-update-via-cache\u2465"}],"title":"Update"},{"refs":[{"id":"ref-for-dfn-update-via-cache\u2466"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-update-via-cache\u2467"},{"id":"ref-for-dfn-update-via-cache\u2468"}],"title":"Set Registration"}],"url":"#dfn-update-via-cache"},
"dfn-use": {"dfnID":"dfn-use","dfnText":"using","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-use"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dfn-use\u2460"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-dfn-use\u2461"}],"title":"Activate"},{"refs":[{"id":"ref-for-dfn-use\u2462"}],"title":"Try Activate"},{"refs":[{"id":"ref-for-dfn-use\u2463"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dfn-use\u2464"},{"id":"ref-for-dfn-use\u2465"}],"title":"Handle Service Worker Client Unload"},{"refs":[{"id":"ref-for-dfn-use\u2466"}],"title":"Unregister"},{"refs":[{"id":"ref-for-dfn-use\u2467"}],"title":"Try Clear Registration"}],"url":"#dfn-use"},
"dfn-waiting-worker": {"dfnID":"dfn-waiting-worker","dfnText":"waiting worker","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-waiting-worker"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2460"}],"title":"2.7. User Agent Shutdown"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2461"},{"id":"ref-for-dfn-waiting-worker\u2462"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2463"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2464"},{"id":"ref-for-dfn-waiting-worker\u2465"},{"id":"ref-for-dfn-waiting-worker\u2466"},{"id":"ref-for-dfn-waiting-worker\u2467"}],"title":"Install"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2468"},{"id":"ref-for-dfn-waiting-worker\u2460\u24ea"}],"title":"Activate"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2460\u2460"},{"id":"ref-for-dfn-waiting-worker\u2460\u2461"}],"title":"Try Activate"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2460\u2462"},{"id":"ref-for-dfn-waiting-worker\u2460\u2463"}],"title":"Handle User Agent Shutdown"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2460\u2464"},{"id":"ref-for-dfn-waiting-worker\u2460\u2465"},{"id":"ref-for-dfn-waiting-worker\u2460\u2466"}],"title":"Clear Registration"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2460\u2467"},{"id":"ref-for-dfn-waiting-worker\u2460\u2468"}],"title":"Try Clear Registration"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2461\u24ea"},{"id":"ref-for-dfn-waiting-worker\u2461\u2460"},{"id":"ref-for-dfn-waiting-worker\u2461\u2461"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-dfn-waiting-worker\u2461\u2462"},{"id":"ref-for-dfn-waiting-worker\u2461\u2463"}],"title":"Get Newest Worker"}],"url":"#dfn-waiting-worker"},
"dfn-window-client": {"dfnID":"dfn-window-client","dfnText":"window client","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-window-client"},{"id":"ref-for-dfn-window-client\u2460"},{"id":"ref-for-dfn-window-client\u2461"},{"id":"ref-for-dfn-window-client\u2462"},{"id":"ref-for-dfn-window-client\u2463"},{"id":"ref-for-dfn-window-client\u2464"},{"id":"ref-for-dfn-window-client\u2465"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-dfn-window-client\u2466"},{"id":"ref-for-dfn-window-client\u2467"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-dfn-window-client\u2468"}],"title":"4.2.4. type"},{"refs":[{"id":"ref-for-dfn-window-client\u2460\u24ea"},{"id":"ref-for-dfn-window-client\u2460\u2460"},{"id":"ref-for-dfn-window-client\u2460\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-dfn-window-client\u2460\u2462"},{"id":"ref-for-dfn-window-client\u2460\u2463"}],"title":"Resolve Get Client Promise"}],"url":"#dfn-window-client"},
"dfn-worker-client": {"dfnID":"dfn-worker-client","dfnText":"worker client","external":false,"refSections":[{"refs":[{"id":"ref-for-dfn-worker-client"},{"id":"ref-for-dfn-worker-client\u2460"},{"id":"ref-for-dfn-worker-client\u2461"},{"id":"ref-for-dfn-worker-client\u2462"},{"id":"ref-for-dfn-worker-client\u2463"},{"id":"ref-for-dfn-worker-client\u2464"},{"id":"ref-for-dfn-worker-client\u2465"},{"id":"ref-for-dfn-worker-client\u2466"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-dfn-worker-client\u2467"},{"id":"ref-for-dfn-worker-client\u2468"}],"title":"2.5. Control and Use"},{"refs":[{"id":"ref-for-dfn-worker-client\u2460\u24ea"},{"id":"ref-for-dfn-worker-client\u2460\u2460"}],"title":"4.3.2. matchAll(options)"}],"url":"#dfn-worker-client"},
"dictdef-cachequeryoptions": {"dfnID":"dictdef-cachequeryoptions","dfnText":"CacheQueryOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-cachequeryoptions"},{"id":"ref-for-dictdef-cachequeryoptions\u2460"},{"id":"ref-for-dictdef-cachequeryoptions\u2461"},{"id":"ref-for-dictdef-cachequeryoptions\u2462"},{"id":"ref-for-dictdef-cachequeryoptions\u2463"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-dictdef-cachequeryoptions\u2464"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-dictdef-cachequeryoptions\u2465"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-dictdef-cachequeryoptions\u2466"}],"title":"Query Cache"},{"refs":[{"id":"ref-for-dictdef-cachequeryoptions\u2467"}],"title":"Request Matches Cached Item"}],"url":"#dictdef-cachequeryoptions"},
"dictdef-clientqueryoptions": {"dfnID":"dictdef-clientqueryoptions","dfnText":"ClientQueryOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-clientqueryoptions"}],"title":"4.3. Clients"}],"url":"#dictdef-clientqueryoptions"},
"dictdef-extendableeventinit": {"dfnID":"dictdef-extendableeventinit","dfnText":"ExtendableEventInit","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-extendableeventinit"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dictdef-extendableeventinit\u2460"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-dictdef-extendableeventinit\u2461"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dictdef-extendableeventinit\u2462"}],"title":"4.7. ExtendableMessageEvent"}],"url":"#dictdef-extendableeventinit"},
"dictdef-extendablemessageeventinit": {"dfnID":"dictdef-extendablemessageeventinit","dfnText":"ExtendableMessageEventInit","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-extendablemessageeventinit"}],"title":"4.7. ExtendableMessageEvent"}],"url":"#dictdef-extendablemessageeventinit"},
"dictdef-fetcheventinit": {"dfnID":"dictdef-fetcheventinit","dfnText":"FetchEventInit","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-fetcheventinit"}],"title":"4.6. FetchEvent"}],"url":"#dictdef-fetcheventinit"},
"dictdef-multicachequeryoptions": {"dfnID":"dictdef-multicachequeryoptions","dfnText":"MultiCacheQueryOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-multicachequeryoptions"}],"title":"5.5. CacheStorage"}],"url":"#dictdef-multicachequeryoptions"},
"dictdef-navigationpreloadstate": {"dfnID":"dictdef-navigationpreloadstate","dfnText":"NavigationPreloadState","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-navigationpreloadstate"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-dictdef-navigationpreloadstate\u2460"}],"title":"3.6.4. getState()"}],"url":"#dictdef-navigationpreloadstate"},
"dictdef-registrationoptions": {"dfnID":"dictdef-registrationoptions","dfnText":"RegistrationOptions","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-registrationoptions"}],"title":"3.4. ServiceWorkerContainer"}],"url":"#dictdef-registrationoptions"},
"dictdef-routercondition": {"dfnID":"dictdef-routercondition","dfnText":"RouterCondition","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-routercondition"},{"id":"ref-for-dictdef-routercondition\u2460"},{"id":"ref-for-dictdef-routercondition\u2461"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-dictdef-routercondition\u2462"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-dictdef-routercondition\u2463"}],"title":"Match Router Condition"},{"refs":[{"id":"ref-for-dictdef-routercondition\u2464"}],"title":"Count Router Inner Conditions"}],"url":"#dictdef-routercondition"},
"dictdef-routerrule": {"dfnID":"dictdef-routerrule","dfnText":"RouterRule","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-routerrule"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-dictdef-routerrule\u2460"},{"id":"ref-for-dictdef-routerrule\u2461"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-dictdef-routerrule\u2462"}],"title":"4.5.1. event.addRoutes(rules)"}],"url":"#dictdef-routerrule"},
"dictdef-routersourcedict": {"dfnID":"dictdef-routersourcedict","dfnText":"RouterSourceDict","external":false,"refSections":[{"refs":[{"id":"ref-for-dictdef-routersourcedict"}],"title":"4.5. InstallEvent"}],"url":"#dictdef-routersourcedict"},
"dom-cache-add": {"dfnID":"dom-cache-add","dfnText":"add(request)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cache-add"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-dom-cache-add\u2460"}],"title":"5.4.3. add(request)"}],"url":"#dom-cache-add"},
"dom-cache-add-request-request": {"dfnID":"dom-cache-add-request-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-cache-add-request-request"},
"dom-cache-addall": {"dfnID":"dom-cache-addall","dfnText":"addAll(requests)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cache-addall"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-dom-cache-addall\u2460"}],"title":"5.4.3. add(request)"},{"refs":[{"id":"ref-for-dom-cache-addall\u2461"}],"title":"5.4.4. addAll(requests)"}],"url":"#dom-cache-addall"},
"dom-cache-addall-requests-requests": {"dfnID":"dom-cache-addall-requests-requests","dfnText":"requests","external":false,"refSections":[],"url":"#dom-cache-addall-requests-requests"},
"dom-cache-delete": {"dfnID":"dom-cache-delete","dfnText":"delete(request, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cache-delete"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-dom-cache-delete\u2460"}],"title":"5.4.6. delete(request, options)"}],"url":"#dom-cache-delete"},
"dom-cache-delete-request-options-options": {"dfnID":"dom-cache-delete-request-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-cache-delete-request-options-options"},
"dom-cache-delete-request-options-request": {"dfnID":"dom-cache-delete-request-options-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-cache-delete-request-options-request"},
"dom-cache-keys": {"dfnID":"dom-cache-keys","dfnText":"keys(request, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cache-keys"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-dom-cache-keys\u2460"}],"title":"5.4.7. keys(request, options)"}],"url":"#dom-cache-keys"},
"dom-cache-keys-request-options-options": {"dfnID":"dom-cache-keys-request-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-cache-keys-request-options-options"},
"dom-cache-keys-request-options-request": {"dfnID":"dom-cache-keys-request-options-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-cache-keys-request-options-request"},
"dom-cache-match": {"dfnID":"dom-cache-match","dfnText":"match(request, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cache-match"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-dom-cache-match\u2460"}],"title":"5.4.1. match(request, options)"},{"refs":[{"id":"ref-for-dom-cache-match\u2461"},{"id":"ref-for-dom-cache-match\u2462"},{"id":"ref-for-dom-cache-match\u2463"},{"id":"ref-for-dom-cache-match\u2464"}],"title":"5.5.1. match(request, options)"}],"url":"#dom-cache-match"},
"dom-cache-match-request-options-options": {"dfnID":"dom-cache-match-request-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-cache-match-request-options-options"},
"dom-cache-match-request-options-request": {"dfnID":"dom-cache-match-request-options-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-cache-match-request-options-request"},
"dom-cache-matchall": {"dfnID":"dom-cache-matchall","dfnText":"matchAll(request, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cache-matchall"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-dom-cache-matchall\u2460"}],"title":"5.4.1. match(request, options)"},{"refs":[{"id":"ref-for-dom-cache-matchall\u2461"}],"title":"5.4.2. matchAll(request, options)"}],"url":"#dom-cache-matchall"},
"dom-cache-matchall-request-options-options": {"dfnID":"dom-cache-matchall-request-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-cache-matchall-request-options-options"},
"dom-cache-matchall-request-options-request": {"dfnID":"dom-cache-matchall-request-options-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-cache-matchall-request-options-request"},
"dom-cache-put": {"dfnID":"dom-cache-put","dfnText":"put(request, response)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cache-put"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-dom-cache-put\u2460"}],"title":"5.4.5. put(request, response)"}],"url":"#dom-cache-put"},
"dom-cache-put-request-response-request": {"dfnID":"dom-cache-put-request-response-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-cache-put-request-response-request"},
"dom-cache-put-request-response-response": {"dfnID":"dom-cache-put-request-response-response","dfnText":"response","external":false,"refSections":[],"url":"#dom-cache-put-request-response-response"},
"dom-cachequeryoptions-ignoremethod": {"dfnID":"dom-cachequeryoptions-ignoremethod","dfnText":"ignoreMethod","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cachequeryoptions-ignoremethod"}],"title":"Request Matches Cached Item"}],"url":"#dom-cachequeryoptions-ignoremethod"},
"dom-cachequeryoptions-ignoresearch": {"dfnID":"dom-cachequeryoptions-ignoresearch","dfnText":"ignoreSearch","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cachequeryoptions-ignoresearch"}],"title":"Request Matches Cached Item"}],"url":"#dom-cachequeryoptions-ignoresearch"},
"dom-cachequeryoptions-ignorevary": {"dfnID":"dom-cachequeryoptions-ignorevary","dfnText":"ignoreVary","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cachequeryoptions-ignorevary"}],"title":"Request Matches Cached Item"}],"url":"#dom-cachequeryoptions-ignorevary"},
"dom-cachestorage-delete": {"dfnID":"dom-cachestorage-delete","dfnText":"delete(cacheName)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cachestorage-delete"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-dom-cachestorage-delete\u2460"}],"title":"5.5.4. delete(cacheName)"}],"url":"#dom-cachestorage-delete"},
"dom-cachestorage-delete-cachename-cachename": {"dfnID":"dom-cachestorage-delete-cachename-cachename","dfnText":"cacheName","external":false,"refSections":[],"url":"#dom-cachestorage-delete-cachename-cachename"},
"dom-cachestorage-has": {"dfnID":"dom-cachestorage-has","dfnText":"has(cacheName)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cachestorage-has"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-dom-cachestorage-has\u2460"}],"title":"5.5.2. has(cacheName)"},{"refs":[{"id":"ref-for-dom-cachestorage-has\u2461"}],"title":"5.5.4. delete(cacheName)"}],"url":"#dom-cachestorage-has"},
"dom-cachestorage-has-cachename-cachename": {"dfnID":"dom-cachestorage-has-cachename-cachename","dfnText":"cacheName","external":false,"refSections":[],"url":"#dom-cachestorage-has-cachename-cachename"},
"dom-cachestorage-keys": {"dfnID":"dom-cachestorage-keys","dfnText":"keys()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cachestorage-keys"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-dom-cachestorage-keys\u2460"}],"title":"5.5.5. keys()"}],"url":"#dom-cachestorage-keys"},
"dom-cachestorage-match": {"dfnID":"dom-cachestorage-match","dfnText":"match(request, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cachestorage-match"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-dom-cachestorage-match\u2460"}],"title":"5.5.1. match(request, options)"}],"url":"#dom-cachestorage-match"},
"dom-cachestorage-match-request-options-options": {"dfnID":"dom-cachestorage-match-request-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-cachestorage-match-request-options-options"},
"dom-cachestorage-match-request-options-request": {"dfnID":"dom-cachestorage-match-request-options-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-cachestorage-match-request-options-request"},
"dom-cachestorage-open": {"dfnID":"dom-cachestorage-open","dfnText":"open(cacheName)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-cachestorage-open"}],"title":"5.5. CacheStorage"},{"refs":[{"id":"ref-for-dom-cachestorage-open\u2460"}],"title":"5.5.3. open(cacheName)"}],"url":"#dom-cachestorage-open"},
"dom-cachestorage-open-cachename-cachename": {"dfnID":"dom-cachestorage-open-cachename-cachename","dfnText":"cacheName","external":false,"refSections":[],"url":"#dom-cachestorage-open-cachename-cachename"},
"dom-client-frametype": {"dfnID":"dom-client-frametype","dfnText":"frameType","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-client-frametype"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-client-frametype\u2460"}],"title":"4.2.2. frameType"}],"url":"#dom-client-frametype"},
"dom-client-id": {"dfnID":"dom-client-id","dfnText":"id","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-client-id"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-client-id\u2460"}],"title":"4.2.3. id"}],"url":"#dom-client-id"},
"dom-client-postmessage": {"dfnID":"dom-client-postmessage","dfnText":"postMessage(message, transfer)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-client-postmessage"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-client-postmessage\u2460"}],"title":"4.2.5. postMessage(message, transfer)"}],"url":"#dom-client-postmessage"},
"dom-client-postmessage-message-options": {"dfnID":"dom-client-postmessage-message-options","dfnText":"postMessage(message, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-client-postmessage-message-options"},{"id":"ref-for-dom-client-postmessage-message-options\u2460"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dom-client-postmessage-message-options\u2461"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-client-postmessage-message-options\u2462"}],"title":"4.2.5. postMessage(message, transfer)"},{"refs":[{"id":"ref-for-dom-client-postmessage-message-options\u2463"}],"title":"4.2.6. postMessage(message, options)"}],"url":"#dom-client-postmessage-message-options"},
"dom-client-postmessage-message-options-message": {"dfnID":"dom-client-postmessage-message-options-message","dfnText":"message","external":false,"refSections":[],"url":"#dom-client-postmessage-message-options-message"},
"dom-client-postmessage-message-options-options": {"dfnID":"dom-client-postmessage-message-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-client-postmessage-message-options-options"},
"dom-client-postmessage-message-transfer-message": {"dfnID":"dom-client-postmessage-message-transfer-message","dfnText":"message","external":false,"refSections":[],"url":"#dom-client-postmessage-message-transfer-message"},
"dom-client-postmessage-message-transfer-transfer": {"dfnID":"dom-client-postmessage-message-transfer-transfer","dfnText":"transfer","external":false,"refSections":[],"url":"#dom-client-postmessage-message-transfer-transfer"},
"dom-client-type": {"dfnID":"dom-client-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-client-type"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-client-type\u2460"}],"title":"4.2.4. type"}],"url":"#dom-client-type"},
"dom-client-url": {"dfnID":"dom-client-url","dfnText":"url","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-client-url"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-client-url\u2460"}],"title":"4.2.1. url"}],"url":"#dom-client-url"},
"dom-clientqueryoptions-includeuncontrolled": {"dfnID":"dom-clientqueryoptions-includeuncontrolled","dfnText":"includeUncontrolled","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clientqueryoptions-includeuncontrolled"}],"title":"4.3.2. matchAll(options)"}],"url":"#dom-clientqueryoptions-includeuncontrolled"},
"dom-clientqueryoptions-type": {"dfnID":"dom-clientqueryoptions-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clientqueryoptions-type"},{"id":"ref-for-dom-clientqueryoptions-type\u2460"},{"id":"ref-for-dom-clientqueryoptions-type\u2461"}],"title":"4.3.2. matchAll(options)"}],"url":"#dom-clientqueryoptions-type"},
"dom-clients-claim": {"dfnID":"dom-clients-claim","dfnText":"claim()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clients-claim"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-dom-clients-claim\u2460"}],"title":"4.3.4. claim()"}],"url":"#dom-clients-claim"},
"dom-clients-get": {"dfnID":"dom-clients-get","dfnText":"get(id)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clients-get"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-dom-clients-get\u2460"}],"title":"4.3.1. get(id)"}],"url":"#dom-clients-get"},
"dom-clients-get-id-id": {"dfnID":"dom-clients-get-id-id","dfnText":"id","external":false,"refSections":[],"url":"#dom-clients-get-id-id"},
"dom-clients-matchall": {"dfnID":"dom-clients-matchall","dfnText":"matchAll(options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clients-matchall"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-dom-clients-matchall\u2460"}],"title":"4.3.2. matchAll(options)"}],"url":"#dom-clients-matchall"},
"dom-clients-matchall-options-options": {"dfnID":"dom-clients-matchall-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-clients-matchall-options-options"},
"dom-clients-openwindow": {"dfnID":"dom-clients-openwindow","dfnText":"openWindow(url)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clients-openwindow"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-dom-clients-openwindow\u2460"}],"title":"4.3.3. openWindow(url)"}],"url":"#dom-clients-openwindow"},
"dom-clients-openwindow-url-url": {"dfnID":"dom-clients-openwindow-url-url","dfnText":"url","external":false,"refSections":[],"url":"#dom-clients-openwindow-url-url"},
"dom-clienttype-all": {"dfnID":"dom-clienttype-all","dfnText":"\"all\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clienttype-all"},{"id":"ref-for-dom-clienttype-all\u2460"},{"id":"ref-for-dom-clienttype-all\u2461"}],"title":"4.3.2. matchAll(options)"}],"url":"#dom-clienttype-all"},
"dom-clienttype-sharedworker": {"dfnID":"dom-clienttype-sharedworker","dfnText":"\"sharedworker\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clienttype-sharedworker"}],"title":"4.2.4. type"},{"refs":[{"id":"ref-for-dom-clienttype-sharedworker\u2460"}],"title":"4.3.2. matchAll(options)"}],"url":"#dom-clienttype-sharedworker"},
"dom-clienttype-window": {"dfnID":"dom-clienttype-window","dfnText":"\"window\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clienttype-window"},{"id":"ref-for-dom-clienttype-window\u2460"}],"title":"4.2.4. type"},{"refs":[{"id":"ref-for-dom-clienttype-window\u2461"}],"title":"4.3.2. matchAll(options)"}],"url":"#dom-clienttype-window"},
"dom-clienttype-worker": {"dfnID":"dom-clienttype-worker","dfnText":"\"worker\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-clienttype-worker"}],"title":"4.2.4. type"},{"refs":[{"id":"ref-for-dom-clienttype-worker\u2460"}],"title":"4.3.2. matchAll(options)"}],"url":"#dom-clienttype-worker"},
"dom-extendableevent-extendableevent": {"dfnID":"dom-extendableevent-extendableevent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-extendableevent-extendableevent"},
"dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict": {"dfnID":"dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict","dfnText":"eventInitDict","external":false,"refSections":[],"url":"#dom-extendableevent-extendableevent-type-eventinitdict-eventinitdict"},
"dom-extendableevent-extendableevent-type-eventinitdict-type": {"dfnID":"dom-extendableevent-extendableevent-type-eventinitdict-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-extendableevent-extendableevent-type-eventinitdict-type"},
"dom-extendableevent-waituntil": {"dfnID":"dom-extendableevent-waituntil","dfnText":"waitUntil(f)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-extendableevent-waituntil"},{"id":"ref-for-dom-extendableevent-waituntil\u2462"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-dom-extendableevent-waituntil\u2460"},{"id":"ref-for-dom-extendableevent-waituntil\u2461"}],"title":"4.4.1. event.waitUntil(f)"},{"refs":[{"id":"ref-for-dom-extendableevent-waituntil\u2463"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-dom-extendableevent-waituntil\u2464"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-dom-extendableevent-waituntil\u2465"}],"title":"4.7. ExtendableMessageEvent"}],"url":"#dom-extendableevent-waituntil"},
"dom-extendableevent-waituntil-f-f": {"dfnID":"dom-extendableevent-waituntil-f-f","dfnText":"f","external":false,"refSections":[],"url":"#dom-extendableevent-waituntil-f-f"},
"dom-extendablemessageevent-data": {"dfnID":"dom-extendablemessageevent-data","dfnText":"data","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-extendablemessageevent-data"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-dom-extendablemessageevent-data\u2460"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-dom-extendablemessageevent-data\u2461"}],"title":"4.7.1. event.data"}],"url":"#dom-extendablemessageevent-data"},
"dom-extendablemessageevent-extendablemessageevent": {"dfnID":"dom-extendablemessageevent-extendablemessageevent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-extendablemessageevent-extendablemessageevent"},
"dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict": {"dfnID":"dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict","dfnText":"eventInitDict","external":false,"refSections":[],"url":"#dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-eventinitdict"},
"dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type": {"dfnID":"dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-extendablemessageevent-extendablemessageevent-type-eventinitdict-type"},
"dom-extendablemessageevent-lasteventid": {"dfnID":"dom-extendablemessageevent-lasteventid","dfnText":"lastEventId","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-extendablemessageevent-lasteventid"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-dom-extendablemessageevent-lasteventid\u2460"}],"title":"4.7.3. event.lastEventId"}],"url":"#dom-extendablemessageevent-lasteventid"},
"dom-extendablemessageevent-origin": {"dfnID":"dom-extendablemessageevent-origin","dfnText":"origin","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-extendablemessageevent-origin"},{"id":"ref-for-dom-extendablemessageevent-origin\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-dom-extendablemessageevent-origin\u2461"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-dom-extendablemessageevent-origin\u2462"}],"title":"4.7.2. event.origin"}],"url":"#dom-extendablemessageevent-origin"},
"dom-extendablemessageevent-ports": {"dfnID":"dom-extendablemessageevent-ports","dfnText":"ports","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-extendablemessageevent-ports"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-dom-extendablemessageevent-ports\u2460"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-dom-extendablemessageevent-ports\u2461"}],"title":"4.7.5. event.ports"}],"url":"#dom-extendablemessageevent-ports"},
"dom-extendablemessageevent-source": {"dfnID":"dom-extendablemessageevent-source","dfnText":"source","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-extendablemessageevent-source"},{"id":"ref-for-dom-extendablemessageevent-source\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-dom-extendablemessageevent-source\u2461"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-dom-extendablemessageevent-source\u2462"}],"title":"4.7.4. event.source"}],"url":"#dom-extendablemessageevent-source"},
"dom-extendablemessageeventinit-data": {"dfnID":"dom-extendablemessageeventinit-data","dfnText":"data","external":false,"refSections":[],"url":"#dom-extendablemessageeventinit-data"},
"dom-extendablemessageeventinit-lasteventid": {"dfnID":"dom-extendablemessageeventinit-lasteventid","dfnText":"lastEventId","external":false,"refSections":[],"url":"#dom-extendablemessageeventinit-lasteventid"},
"dom-extendablemessageeventinit-origin": {"dfnID":"dom-extendablemessageeventinit-origin","dfnText":"origin","external":false,"refSections":[],"url":"#dom-extendablemessageeventinit-origin"},
"dom-extendablemessageeventinit-ports": {"dfnID":"dom-extendablemessageeventinit-ports","dfnText":"ports","external":false,"refSections":[],"url":"#dom-extendablemessageeventinit-ports"},
"dom-extendablemessageeventinit-source": {"dfnID":"dom-extendablemessageeventinit-source","dfnText":"source","external":false,"refSections":[],"url":"#dom-extendablemessageeventinit-source"},
"dom-fetchevent-clientid": {"dfnID":"dom-fetchevent-clientid","dfnText":"clientId","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fetchevent-clientid"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dom-fetchevent-clientid\u2460"}],"title":"4.6.3. event.clientId"},{"refs":[{"id":"ref-for-dom-fetchevent-clientid\u2461"}],"title":"Create Fetch Event and Dispatch"}],"url":"#dom-fetchevent-clientid"},
"dom-fetchevent-fetchevent": {"dfnID":"dom-fetchevent-fetchevent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-fetchevent-fetchevent"},
"dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict": {"dfnID":"dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict","dfnText":"eventInitDict","external":false,"refSections":[],"url":"#dom-fetchevent-fetchevent-type-eventinitdict-eventinitdict"},
"dom-fetchevent-fetchevent-type-eventinitdict-type": {"dfnID":"dom-fetchevent-fetchevent-type-eventinitdict-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-fetchevent-fetchevent-type-eventinitdict-type"},
"dom-fetchevent-handled": {"dfnID":"dom-fetchevent-handled","dfnText":"handled","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fetchevent-handled"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dom-fetchevent-handled\u2460"}],"title":"4.6.6. event.handled"},{"refs":[{"id":"ref-for-dom-fetchevent-handled\u2461"}],"title":"Create Fetch Event and Dispatch"}],"url":"#dom-fetchevent-handled"},
"dom-fetchevent-preloadresponse": {"dfnID":"dom-fetchevent-preloadresponse","dfnText":"preloadResponse","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fetchevent-preloadresponse"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dom-fetchevent-preloadresponse\u2460"}],"title":"4.6.2. event.preloadResponse"},{"refs":[{"id":"ref-for-dom-fetchevent-preloadresponse\u2461"}],"title":"Create Fetch Event and Dispatch"}],"url":"#dom-fetchevent-preloadresponse"},
"dom-fetchevent-replacesclientid": {"dfnID":"dom-fetchevent-replacesclientid","dfnText":"replacesClientId","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fetchevent-replacesclientid"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dom-fetchevent-replacesclientid\u2460"}],"title":"4.6.5. event.replacesClientId"},{"refs":[{"id":"ref-for-dom-fetchevent-replacesclientid\u2461"}],"title":"Create Fetch Event and Dispatch"}],"url":"#dom-fetchevent-replacesclientid"},
"dom-fetchevent-request": {"dfnID":"dom-fetchevent-request","dfnText":"request","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fetchevent-request"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dom-fetchevent-request\u2460"}],"title":"4.6.1. event.request"},{"refs":[{"id":"ref-for-dom-fetchevent-request\u2461"}],"title":"Create Fetch Event and Dispatch"}],"url":"#dom-fetchevent-request"},
"dom-fetchevent-respondwith": {"dfnID":"dom-fetchevent-respondwith","dfnText":"respondWith(r)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fetchevent-respondwith"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dom-fetchevent-respondwith\u2460"},{"id":"ref-for-dom-fetchevent-respondwith\u2461"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-dom-fetchevent-respondwith\u2462"}],"title":"6.4. Cross-Origin Resources and CORS"}],"url":"#dom-fetchevent-respondwith"},
"dom-fetchevent-respondwith-r-r": {"dfnID":"dom-fetchevent-respondwith-r-r","dfnText":"r","external":false,"refSections":[],"url":"#dom-fetchevent-respondwith-r-r"},
"dom-fetchevent-resultingclientid": {"dfnID":"dom-fetchevent-resultingclientid","dfnText":"resultingClientId","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-fetchevent-resultingclientid"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-dom-fetchevent-resultingclientid\u2460"}],"title":"4.6.4. event.resultingClientId"},{"refs":[{"id":"ref-for-dom-fetchevent-resultingclientid\u2461"}],"title":"Create Fetch Event and Dispatch"}],"url":"#dom-fetchevent-resultingclientid"},
"dom-fetcheventinit-clientid": {"dfnID":"dom-fetcheventinit-clientid","dfnText":"clientId","external":false,"refSections":[],"url":"#dom-fetcheventinit-clientid"},
"dom-fetcheventinit-handled": {"dfnID":"dom-fetcheventinit-handled","dfnText":"handled","external":false,"refSections":[],"url":"#dom-fetcheventinit-handled"},
"dom-fetcheventinit-preloadresponse": {"dfnID":"dom-fetcheventinit-preloadresponse","dfnText":"preloadResponse","external":false,"refSections":[],"url":"#dom-fetcheventinit-preloadresponse"},
"dom-fetcheventinit-replacesclientid": {"dfnID":"dom-fetcheventinit-replacesclientid","dfnText":"replacesClientId","external":false,"refSections":[],"url":"#dom-fetcheventinit-replacesclientid"},
"dom-fetcheventinit-request": {"dfnID":"dom-fetcheventinit-request","dfnText":"request","external":false,"refSections":[],"url":"#dom-fetcheventinit-request"},
"dom-fetcheventinit-resultingclientid": {"dfnID":"dom-fetcheventinit-resultingclientid","dfnText":"resultingClientId","external":false,"refSections":[],"url":"#dom-fetcheventinit-resultingclientid"},
"dom-frametype-auxiliary": {"dfnID":"dom-frametype-auxiliary","dfnText":"\"auxiliary\"","external":false,"refSections":[],"url":"#dom-frametype-auxiliary"},
"dom-frametype-nested": {"dfnID":"dom-frametype-nested","dfnText":"\"nested\"","external":false,"refSections":[],"url":"#dom-frametype-nested"},
"dom-frametype-none": {"dfnID":"dom-frametype-none","dfnText":"\"none\"","external":false,"refSections":[],"url":"#dom-frametype-none"},
"dom-frametype-top-level": {"dfnID":"dom-frametype-top-level","dfnText":"\"top-level\"","external":false,"refSections":[],"url":"#dom-frametype-top-level"},
"dom-installevent-addroutes": {"dfnID":"dom-installevent-addroutes","dfnText":"addRoutes(rules)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-installevent-addroutes"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-dom-installevent-addroutes\u2460"},{"id":"ref-for-dom-installevent-addroutes\u2461"},{"id":"ref-for-dom-installevent-addroutes\u2462"}],"title":"4.5.1. event.addRoutes(rules)"}],"url":"#dom-installevent-addroutes"},
"dom-installevent-addroutes-rules-rules": {"dfnID":"dom-installevent-addroutes-rules-rules","dfnText":"rules","external":false,"refSections":[],"url":"#dom-installevent-addroutes-rules-rules"},
"dom-installevent-installevent": {"dfnID":"dom-installevent-installevent","dfnText":"constructor","external":false,"refSections":[],"url":"#dom-installevent-installevent"},
"dom-installevent-installevent-type-eventinitdict-eventinitdict": {"dfnID":"dom-installevent-installevent-type-eventinitdict-eventinitdict","dfnText":"eventInitDict","external":false,"refSections":[],"url":"#dom-installevent-installevent-type-eventinitdict-eventinitdict"},
"dom-installevent-installevent-type-eventinitdict-type": {"dfnID":"dom-installevent-installevent-type-eventinitdict-type","dfnText":"type","external":false,"refSections":[],"url":"#dom-installevent-installevent-type-eventinitdict-type"},
"dom-multicachequeryoptions-cachename": {"dfnID":"dom-multicachequeryoptions-cachename","dfnText":"cacheName","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-multicachequeryoptions-cachename"},{"id":"ref-for-dom-multicachequeryoptions-cachename\u2460"}],"title":"5.5.1. match(request, options)"}],"url":"#dom-multicachequeryoptions-cachename"},
"dom-navigationpreloadmanager-disable": {"dfnID":"dom-navigationpreloadmanager-disable","dfnText":"disable()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-navigationpreloadmanager-disable"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-dom-navigationpreloadmanager-disable\u2460"}],"title":"3.6.2. disable()"}],"url":"#dom-navigationpreloadmanager-disable"},
"dom-navigationpreloadmanager-enable": {"dfnID":"dom-navigationpreloadmanager-enable","dfnText":"enable()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-navigationpreloadmanager-enable"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-dom-navigationpreloadmanager-enable\u2460"}],"title":"3.6.1. enable()"}],"url":"#dom-navigationpreloadmanager-enable"},
"dom-navigationpreloadmanager-getstate": {"dfnID":"dom-navigationpreloadmanager-getstate","dfnText":"getState()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-navigationpreloadmanager-getstate"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-dom-navigationpreloadmanager-getstate\u2460"}],"title":"3.6.4. getState()"}],"url":"#dom-navigationpreloadmanager-getstate"},
"dom-navigationpreloadmanager-setheadervalue": {"dfnID":"dom-navigationpreloadmanager-setheadervalue","dfnText":"setHeaderValue(value)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-navigationpreloadmanager-setheadervalue"}],"title":"3.6. NavigationPreloadManager"},{"refs":[{"id":"ref-for-dom-navigationpreloadmanager-setheadervalue\u2460"}],"title":"3.6.3. setHeaderValue(value)"}],"url":"#dom-navigationpreloadmanager-setheadervalue"},
"dom-navigationpreloadmanager-setheadervalue-value-value": {"dfnID":"dom-navigationpreloadmanager-setheadervalue-value-value","dfnText":"value","external":false,"refSections":[],"url":"#dom-navigationpreloadmanager-setheadervalue-value-value"},
"dom-navigationpreloadstate-enabled": {"dfnID":"dom-navigationpreloadstate-enabled","dfnText":"enabled","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-navigationpreloadstate-enabled"}],"title":"3.6.4. getState()"}],"url":"#dom-navigationpreloadstate-enabled"},
"dom-navigationpreloadstate-headervalue": {"dfnID":"dom-navigationpreloadstate-headervalue","dfnText":"headerValue","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-navigationpreloadstate-headervalue"}],"title":"3.6.4. getState()"}],"url":"#dom-navigationpreloadstate-headervalue"},
"dom-registrationoptions-scope": {"dfnID":"dom-registrationoptions-scope","dfnText":"scope","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-registrationoptions-scope"},{"id":"ref-for-dom-registrationoptions-scope\u2460"}],"title":"3.4.3. register(scriptURL, options)"}],"url":"#dom-registrationoptions-scope"},
"dom-registrationoptions-type": {"dfnID":"dom-registrationoptions-type","dfnText":"type","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-registrationoptions-type"}],"title":"3.4.3. register(scriptURL, options)"}],"url":"#dom-registrationoptions-type"},
"dom-registrationoptions-updateviacache": {"dfnID":"dom-registrationoptions-updateviacache","dfnText":"updateViaCache","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-registrationoptions-updateviacache"}],"title":"3.4.3. register(scriptURL, options)"}],"url":"#dom-registrationoptions-updateviacache"},
"dom-routercondition-not": {"dfnID":"dom-routercondition-not","dfnText":"not","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routercondition-not"},{"id":"ref-for-dom-routercondition-not\u2460"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-dom-routercondition-not\u2461"},{"id":"ref-for-dom-routercondition-not\u2462"},{"id":"ref-for-dom-routercondition-not\u2463"}],"title":"Match Router Condition"},{"refs":[{"id":"ref-for-dom-routercondition-not\u2464"}],"title":"Check Router Registration Limit"},{"refs":[{"id":"ref-for-dom-routercondition-not\u2465"},{"id":"ref-for-dom-routercondition-not\u2466"}],"title":"Count Router Inner Conditions"}],"url":"#dom-routercondition-not"},
"dom-routercondition-or": {"dfnID":"dom-routercondition-or","dfnText":"_or","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routercondition-or"},{"id":"ref-for-dom-routercondition-or\u2460"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-dom-routercondition-or\u2461"},{"id":"ref-for-dom-routercondition-or\u2462"},{"id":"ref-for-dom-routercondition-or\u2463"}],"title":"Match Router Condition"},{"refs":[{"id":"ref-for-dom-routercondition-or\u2464"}],"title":"Check Router Registration Limit"},{"refs":[{"id":"ref-for-dom-routercondition-or\u2465"},{"id":"ref-for-dom-routercondition-or\u2466"}],"title":"Count Router Inner Conditions"}],"url":"#dom-routercondition-or"},
"dom-routercondition-requestdestination": {"dfnID":"dom-routercondition-requestdestination","dfnText":"requestDestination","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routercondition-requestdestination"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-dom-routercondition-requestdestination\u2460"},{"id":"ref-for-dom-routercondition-requestdestination\u2461"}],"title":"Match Router Condition"}],"url":"#dom-routercondition-requestdestination"},
"dom-routercondition-requestmethod": {"dfnID":"dom-routercondition-requestmethod","dfnText":"requestMethod","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routercondition-requestmethod"},{"id":"ref-for-dom-routercondition-requestmethod\u2460"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-dom-routercondition-requestmethod\u2461"},{"id":"ref-for-dom-routercondition-requestmethod\u2462"}],"title":"Match Router Condition"}],"url":"#dom-routercondition-requestmethod"},
"dom-routercondition-requestmode": {"dfnID":"dom-routercondition-requestmode","dfnText":"requestMode","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routercondition-requestmode"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-dom-routercondition-requestmode\u2460"},{"id":"ref-for-dom-routercondition-requestmode\u2461"}],"title":"Match Router Condition"}],"url":"#dom-routercondition-requestmode"},
"dom-routercondition-runningstatus": {"dfnID":"dom-routercondition-runningstatus","dfnText":"runningStatus","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routercondition-runningstatus"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-dom-routercondition-runningstatus\u2460"},{"id":"ref-for-dom-routercondition-runningstatus\u2461"}],"title":"Match Router Condition"}],"url":"#dom-routercondition-runningstatus"},
"dom-routercondition-urlpattern": {"dfnID":"dom-routercondition-urlpattern","dfnText":"urlPattern","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routercondition-urlpattern"},{"id":"ref-for-dom-routercondition-urlpattern\u2460"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-dom-routercondition-urlpattern\u2461"},{"id":"ref-for-dom-routercondition-urlpattern\u2462"}],"title":"Match Router Condition"}],"url":"#dom-routercondition-urlpattern"},
"dom-routerrule-condition": {"dfnID":"dom-routerrule-condition","dfnText":"condition","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routerrule-condition"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-dom-routerrule-condition\u2460"}],"title":"Check Router Registration Limit"},{"refs":[{"id":"ref-for-dom-routerrule-condition\u2461"}],"title":"Get Router Source"}],"url":"#dom-routerrule-condition"},
"dom-routerrule-source": {"dfnID":"dom-routerrule-source","dfnText":"source","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routerrule-source"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-dom-routerrule-source\u2460"}],"title":"Get Router Source"}],"url":"#dom-routerrule-source"},
"dom-routersourcedict-cachename": {"dfnID":"dom-routersourcedict-cachename","dfnText":"cacheName","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routersourcedict-cachename"},{"id":"ref-for-dom-routersourcedict-cachename\u2460"},{"id":"ref-for-dom-routersourcedict-cachename\u2461"}],"title":"Handle Fetch"}],"url":"#dom-routersourcedict-cachename"},
"dom-routersourceenum-cache": {"dfnID":"dom-routersourceenum-cache","dfnText":"\"cache\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routersourceenum-cache"},{"id":"ref-for-dom-routersourceenum-cache\u2460"}],"title":"Handle Fetch"}],"url":"#dom-routersourceenum-cache"},
"dom-routersourceenum-fetch-event": {"dfnID":"dom-routersourceenum-fetch-event","dfnText":"\"fetch-event\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routersourceenum-fetch-event"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-dom-routersourceenum-fetch-event\u2460"},{"id":"ref-for-dom-routersourceenum-fetch-event\u2461"},{"id":"ref-for-dom-routersourceenum-fetch-event\u2462"},{"id":"ref-for-dom-routersourceenum-fetch-event\u2463"}],"title":"Handle Fetch"}],"url":"#dom-routersourceenum-fetch-event"},
"dom-routersourceenum-network": {"dfnID":"dom-routersourceenum-network","dfnText":"\"network\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routersourceenum-network"},{"id":"ref-for-dom-routersourceenum-network\u2460"},{"id":"ref-for-dom-routersourceenum-network\u2461"},{"id":"ref-for-dom-routersourceenum-network\u2462"},{"id":"ref-for-dom-routersourceenum-network\u2463"},{"id":"ref-for-dom-routersourceenum-network\u2464"}],"title":"Handle Fetch"}],"url":"#dom-routersourceenum-network"},
"dom-routersourceenum-race-network-and-fetch-handler": {"dfnID":"dom-routersourceenum-race-network-and-fetch-handler","dfnText":"\"race-network-and-fetch-handler\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-routersourceenum-race-network-and-fetch-handler"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dom-routersourceenum-race-network-and-fetch-handler\u2460"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-dom-routersourceenum-race-network-and-fetch-handler\u2461"}],"title":"Handle Fetch"}],"url":"#dom-routersourceenum-race-network-and-fetch-handler"},
"dom-runningstatus-not-running": {"dfnID":"dom-runningstatus-not-running","dfnText":"\"not-running\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-runningstatus-not-running"}],"title":"Match Router Condition"}],"url":"#dom-runningstatus-not-running"},
"dom-runningstatus-running": {"dfnID":"dom-runningstatus-running","dfnText":"\"running\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-runningstatus-running"}],"title":"Match Router Condition"}],"url":"#dom-runningstatus-running"},
"dom-serviceworker-onstatechange": {"dfnID":"dom-serviceworker-onstatechange","dfnText":"onstatechange","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworker-onstatechange"}],"title":"3.1. ServiceWorker"}],"url":"#dom-serviceworker-onstatechange"},
"dom-serviceworker-postmessage": {"dfnID":"dom-serviceworker-postmessage","dfnText":"postMessage(message, transfer)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworker-postmessage"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-dom-serviceworker-postmessage\u2460"}],"title":"3.1.4. postMessage(message, transfer)"}],"url":"#dom-serviceworker-postmessage"},
"dom-serviceworker-postmessage-message-options": {"dfnID":"dom-serviceworker-postmessage-message-options","dfnText":"postMessage(message, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworker-postmessage-message-options"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-dom-serviceworker-postmessage-message-options\u2460"}],"title":"3.1.4. postMessage(message, transfer)"},{"refs":[{"id":"ref-for-dom-serviceworker-postmessage-message-options\u2461"}],"title":"3.1.5. postMessage(message, options)"}],"url":"#dom-serviceworker-postmessage-message-options"},
"dom-serviceworker-postmessage-message-options-message": {"dfnID":"dom-serviceworker-postmessage-message-options-message","dfnText":"message","external":false,"refSections":[],"url":"#dom-serviceworker-postmessage-message-options-message"},
"dom-serviceworker-postmessage-message-options-options": {"dfnID":"dom-serviceworker-postmessage-message-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-serviceworker-postmessage-message-options-options"},
"dom-serviceworker-postmessage-message-transfer-message": {"dfnID":"dom-serviceworker-postmessage-message-transfer-message","dfnText":"message","external":false,"refSections":[],"url":"#dom-serviceworker-postmessage-message-transfer-message"},
"dom-serviceworker-postmessage-message-transfer-transfer": {"dfnID":"dom-serviceworker-postmessage-message-transfer-transfer","dfnText":"transfer","external":false,"refSections":[],"url":"#dom-serviceworker-postmessage-message-transfer-transfer"},
"dom-serviceworker-scripturl": {"dfnID":"dom-serviceworker-scripturl","dfnText":"scriptURL","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworker-scripturl"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-dom-serviceworker-scripturl\u2460"}],"title":"3.1.2. scriptURL"}],"url":"#dom-serviceworker-scripturl"},
"dom-serviceworker-state": {"dfnID":"dom-serviceworker-state","dfnText":"state","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworker-state"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-dom-serviceworker-state\u2460"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-dom-serviceworker-state\u2461"}],"title":"3.1.3. state"},{"refs":[{"id":"ref-for-dom-serviceworker-state\u2462"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-dom-serviceworker-state\u2463"}],"title":"Update Worker State"}],"url":"#dom-serviceworker-state"},
"dom-serviceworkercontainer-controller": {"dfnID":"dom-serviceworkercontainer-controller","dfnText":"controller","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkercontainer-controller"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dom-serviceworkercontainer-controller\u2460"},{"id":"ref-for-dom-serviceworkercontainer-controller\u2461"}],"title":"3.4.1. controller"},{"refs":[{"id":"ref-for-dom-serviceworkercontainer-controller\u2462"}],"title":"3.5. Events"}],"url":"#dom-serviceworkercontainer-controller"},
"dom-serviceworkercontainer-getregistration": {"dfnID":"dom-serviceworkercontainer-getregistration","dfnText":"getRegistration(clientURL)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkercontainer-getregistration"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dom-serviceworkercontainer-getregistration\u2460"}],"title":"3.4.4. getRegistration(clientURL)"}],"url":"#dom-serviceworkercontainer-getregistration"},
"dom-serviceworkercontainer-getregistration-clienturl-clienturl": {"dfnID":"dom-serviceworkercontainer-getregistration-clienturl-clienturl","dfnText":"clientURL","external":false,"refSections":[],"url":"#dom-serviceworkercontainer-getregistration-clienturl-clienturl"},
"dom-serviceworkercontainer-getregistrations": {"dfnID":"dom-serviceworkercontainer-getregistrations","dfnText":"getRegistrations()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkercontainer-getregistrations"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dom-serviceworkercontainer-getregistrations\u2460"}],"title":"3.4.5. getRegistrations()"}],"url":"#dom-serviceworkercontainer-getregistrations"},
"dom-serviceworkercontainer-oncontrollerchange": {"dfnID":"dom-serviceworkercontainer-oncontrollerchange","dfnText":"oncontrollerchange","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkercontainer-oncontrollerchange"}],"title":"3.4. ServiceWorkerContainer"}],"url":"#dom-serviceworkercontainer-oncontrollerchange"},
"dom-serviceworkercontainer-onmessage": {"dfnID":"dom-serviceworkercontainer-onmessage","dfnText":"onmessage","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkercontainer-onmessage"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dom-serviceworkercontainer-onmessage\u2460"}],"title":"3.4.7. Event handlers"}],"url":"#dom-serviceworkercontainer-onmessage"},
"dom-serviceworkercontainer-onmessageerror": {"dfnID":"dom-serviceworkercontainer-onmessageerror","dfnText":"onmessageerror","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkercontainer-onmessageerror"}],"title":"3.4. ServiceWorkerContainer"}],"url":"#dom-serviceworkercontainer-onmessageerror"},
"dom-serviceworkercontainer-ready": {"dfnID":"dom-serviceworkercontainer-ready","dfnText":"ready","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkercontainer-ready"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dom-serviceworkercontainer-ready\u2460"}],"title":"3.4.2. ready"}],"url":"#dom-serviceworkercontainer-ready"},
"dom-serviceworkercontainer-register": {"dfnID":"dom-serviceworkercontainer-register","dfnText":"register(scriptURL, options)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkercontainer-register"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dom-serviceworkercontainer-register\u2460"},{"id":"ref-for-dom-serviceworkercontainer-register\u2461"}],"title":"3.4.3. register(scriptURL, options)"}],"url":"#dom-serviceworkercontainer-register"},
"dom-serviceworkercontainer-register-scripturl-options-options": {"dfnID":"dom-serviceworkercontainer-register-scripturl-options-options","dfnText":"options","external":false,"refSections":[],"url":"#dom-serviceworkercontainer-register-scripturl-options-options"},
"dom-serviceworkercontainer-register-scripturl-options-scripturl": {"dfnID":"dom-serviceworkercontainer-register-scripturl-options-scripturl","dfnText":"scriptURL","external":false,"refSections":[],"url":"#dom-serviceworkercontainer-register-scripturl-options-scripturl"},
"dom-serviceworkercontainer-startmessages": {"dfnID":"dom-serviceworkercontainer-startmessages","dfnText":"startMessages()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkercontainer-startmessages"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-dom-serviceworkercontainer-startmessages\u2460"}],"title":"3.4.6. startMessages()"}],"url":"#dom-serviceworkercontainer-startmessages"},
"dom-serviceworkerglobalscope-clients": {"dfnID":"dom-serviceworkerglobalscope-clients","dfnText":"clients","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-clients"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-clients\u2460"}],"title":"4.1.1. clients"}],"url":"#dom-serviceworkerglobalscope-clients"},
"dom-serviceworkerglobalscope-onactivate": {"dfnID":"dom-serviceworkerglobalscope-onactivate","dfnText":"onactivate","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-onactivate"}],"title":"4.1. ServiceWorkerGlobalScope"}],"url":"#dom-serviceworkerglobalscope-onactivate"},
"dom-serviceworkerglobalscope-onfetch": {"dfnID":"dom-serviceworkerglobalscope-onfetch","dfnText":"onfetch","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-onfetch"}],"title":"4.1. ServiceWorkerGlobalScope"}],"url":"#dom-serviceworkerglobalscope-onfetch"},
"dom-serviceworkerglobalscope-oninstall": {"dfnID":"dom-serviceworkerglobalscope-oninstall","dfnText":"oninstall","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-oninstall"}],"title":"4.1. ServiceWorkerGlobalScope"}],"url":"#dom-serviceworkerglobalscope-oninstall"},
"dom-serviceworkerglobalscope-onmessage": {"dfnID":"dom-serviceworkerglobalscope-onmessage","dfnText":"onmessage","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-onmessage"}],"title":"4.1. ServiceWorkerGlobalScope"}],"url":"#dom-serviceworkerglobalscope-onmessage"},
"dom-serviceworkerglobalscope-onmessageerror": {"dfnID":"dom-serviceworkerglobalscope-onmessageerror","dfnText":"onmessageerror","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-onmessageerror"}],"title":"4.1. ServiceWorkerGlobalScope"}],"url":"#dom-serviceworkerglobalscope-onmessageerror"},
"dom-serviceworkerglobalscope-registration": {"dfnID":"dom-serviceworkerglobalscope-registration","dfnText":"registration","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-registration"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-registration\u2460"}],"title":"4.1.2. registration"}],"url":"#dom-serviceworkerglobalscope-registration"},
"dom-serviceworkerglobalscope-serviceworker": {"dfnID":"dom-serviceworkerglobalscope-serviceworker","dfnText":"serviceWorker","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-serviceworker"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-serviceworker\u2460"}],"title":"4.1.3. serviceWorker"}],"url":"#dom-serviceworkerglobalscope-serviceworker"},
"dom-serviceworkerglobalscope-skipwaiting": {"dfnID":"dom-serviceworkerglobalscope-skipwaiting","dfnText":"skipWaiting()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-skipwaiting"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-skipwaiting\u2460"},{"id":"ref-for-dom-serviceworkerglobalscope-skipwaiting\u2461"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-dom-serviceworkerglobalscope-skipwaiting\u2462"}],"title":"Install"}],"url":"#dom-serviceworkerglobalscope-skipwaiting"},
"dom-serviceworkerregistration-active": {"dfnID":"dom-serviceworkerregistration-active","dfnText":"active","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-active"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-active\u2460"},{"id":"ref-for-dom-serviceworkerregistration-active\u2461"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-active\u2462"}],"title":"3.2.4. active"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-active\u2463"}],"title":"Update Registration State"}],"url":"#dom-serviceworkerregistration-active"},
"dom-serviceworkerregistration-installing": {"dfnID":"dom-serviceworkerregistration-installing","dfnText":"installing","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-installing"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-installing\u2460"},{"id":"ref-for-dom-serviceworkerregistration-installing\u2461"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-installing\u2462"}],"title":"3.2.2. installing"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-installing\u2463"}],"title":"Update Registration State"}],"url":"#dom-serviceworkerregistration-installing"},
"dom-serviceworkerregistration-navigationpreload": {"dfnID":"dom-serviceworkerregistration-navigationpreload","dfnText":"navigationPreload","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-navigationpreload"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-navigationpreload\u2460"}],"title":"3.2.5. navigationPreload"}],"url":"#dom-serviceworkerregistration-navigationpreload"},
"dom-serviceworkerregistration-onupdatefound": {"dfnID":"dom-serviceworkerregistration-onupdatefound","dfnText":"onupdatefound","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-onupdatefound"}],"title":"3.2. ServiceWorkerRegistration"}],"url":"#dom-serviceworkerregistration-onupdatefound"},
"dom-serviceworkerregistration-scope": {"dfnID":"dom-serviceworkerregistration-scope","dfnText":"scope","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-scope"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-scope\u2460"}],"title":"3.2.6. scope"}],"url":"#dom-serviceworkerregistration-scope"},
"dom-serviceworkerregistration-unregister": {"dfnID":"dom-serviceworkerregistration-unregister","dfnText":"unregister()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-unregister"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-unregister\u2460"},{"id":"ref-for-dom-serviceworkerregistration-unregister\u2461"},{"id":"ref-for-dom-serviceworkerregistration-unregister\u2462"}],"title":"3.2.9. unregister()"}],"url":"#dom-serviceworkerregistration-unregister"},
"dom-serviceworkerregistration-update": {"dfnID":"dom-serviceworkerregistration-update","dfnText":"update()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-update"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-update\u2460"}],"title":"3.2.8. update()"}],"url":"#dom-serviceworkerregistration-update"},
"dom-serviceworkerregistration-updateviacache": {"dfnID":"dom-serviceworkerregistration-updateviacache","dfnText":"updateViaCache","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-updateviacache"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-updateviacache\u2460"}],"title":"3.2.7. updateViaCache"}],"url":"#dom-serviceworkerregistration-updateviacache"},
"dom-serviceworkerregistration-waiting": {"dfnID":"dom-serviceworkerregistration-waiting","dfnText":"waiting","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-serviceworkerregistration-waiting"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-waiting\u2460"},{"id":"ref-for-dom-serviceworkerregistration-waiting\u2461"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-waiting\u2462"}],"title":"3.2.3. waiting"},{"refs":[{"id":"ref-for-dom-serviceworkerregistration-waiting\u2463"}],"title":"Update Registration State"}],"url":"#dom-serviceworkerregistration-waiting"},
"dom-serviceworkerstate-activated": {"dfnID":"dom-serviceworkerstate-activated","dfnText":"\"activated\"","external":false,"refSections":[],"url":"#dom-serviceworkerstate-activated"},
"dom-serviceworkerstate-activating": {"dfnID":"dom-serviceworkerstate-activating","dfnText":"\"activating\"","external":false,"refSections":[],"url":"#dom-serviceworkerstate-activating"},
"dom-serviceworkerstate-installed": {"dfnID":"dom-serviceworkerstate-installed","dfnText":"\"installed\"","external":false,"refSections":[],"url":"#dom-serviceworkerstate-installed"},
"dom-serviceworkerstate-installing": {"dfnID":"dom-serviceworkerstate-installing","dfnText":"\"installing\"","external":false,"refSections":[],"url":"#dom-serviceworkerstate-installing"},
"dom-serviceworkerstate-parsed": {"dfnID":"dom-serviceworkerstate-parsed","dfnText":"\"parsed\"","external":false,"refSections":[],"url":"#dom-serviceworkerstate-parsed"},
"dom-serviceworkerstate-redundant": {"dfnID":"dom-serviceworkerstate-redundant","dfnText":"\"redundant\"","external":false,"refSections":[],"url":"#dom-serviceworkerstate-redundant"},
"dom-serviceworkerupdateviacache-all": {"dfnID":"dom-serviceworkerupdateviacache-all","dfnText":"\"all\"","external":false,"refSections":[],"url":"#dom-serviceworkerupdateviacache-all"},
"dom-serviceworkerupdateviacache-imports": {"dfnID":"dom-serviceworkerupdateviacache-imports","dfnText":"\"imports\"","external":false,"refSections":[],"url":"#dom-serviceworkerupdateviacache-imports"},
"dom-serviceworkerupdateviacache-none": {"dfnID":"dom-serviceworkerupdateviacache-none","dfnText":"\"none\"","external":false,"refSections":[],"url":"#dom-serviceworkerupdateviacache-none"},
"dom-windowclient-ancestororigins": {"dfnID":"dom-windowclient-ancestororigins","dfnText":"ancestorOrigins","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-windowclient-ancestororigins"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-windowclient-ancestororigins\u2460"}],"title":"4.2.9. ancestorOrigins"}],"url":"#dom-windowclient-ancestororigins"},
"dom-windowclient-focus": {"dfnID":"dom-windowclient-focus","dfnText":"focus()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-windowclient-focus"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-windowclient-focus\u2460"}],"title":"4.2.10. focus()"}],"url":"#dom-windowclient-focus"},
"dom-windowclient-focused": {"dfnID":"dom-windowclient-focused","dfnText":"focused","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-windowclient-focused"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-windowclient-focused\u2460"}],"title":"4.2.8. focused"}],"url":"#dom-windowclient-focused"},
"dom-windowclient-navigate": {"dfnID":"dom-windowclient-navigate","dfnText":"navigate(url)","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-windowclient-navigate"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-windowclient-navigate\u2460"}],"title":"4.2.11. navigate(url)"}],"url":"#dom-windowclient-navigate"},
"dom-windowclient-navigate-url-url": {"dfnID":"dom-windowclient-navigate-url-url","dfnText":"url","external":false,"refSections":[],"url":"#dom-windowclient-navigate-url-url"},
"dom-windowclient-visibilitystate": {"dfnID":"dom-windowclient-visibilitystate","dfnText":"visibilityState","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-windowclient-visibilitystate"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-dom-windowclient-visibilitystate\u2460"}],"title":"4.2.7. visibilityState"}],"url":"#dom-windowclient-visibilitystate"},
"e0eefdd9": {"dfnID":"e0eefdd9","dfnText":"origin (for MessageEvent)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-messageevent-origin"},{"id":"ref-for-dom-messageevent-origin\u2460"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin"},
"e10e7eb7": {"dfnID":"e10e7eb7","dfnText":"DOM manipulation task source","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-manipulation-task-source"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2460"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2461"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2462"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2463"},{"id":"ref-for-dom-manipulation-task-source\u2464"},{"id":"ref-for-dom-manipulation-task-source\u2465"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2466"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2467"},{"id":"ref-for-dom-manipulation-task-source\u2468"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2460\u24ea"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2460\u2460"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2460\u2461"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2460\u2462"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2460\u2463"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2460\u2464"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2460\u2465"},{"id":"ref-for-dom-manipulation-task-source\u2460\u2466"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2460\u2467"},{"id":"ref-for-dom-manipulation-task-source\u2460\u2468"}],"title":"Reject Job Promise"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2461\u24ea"},{"id":"ref-for-dom-manipulation-task-source\u2461\u2460"}],"title":"Install"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2461\u2461"},{"id":"ref-for-dom-manipulation-task-source\u2461\u2462"}],"title":"Activate"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2461\u2463"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2461\u2464"}],"title":"Update Worker State"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2461\u2465"}],"title":"Notify Controller Change"},{"refs":[{"id":"ref-for-dom-manipulation-task-source\u2461\u2466"},{"id":"ref-for-dom-manipulation-task-source\u2461\u2467"},{"id":"ref-for-dom-manipulation-task-source\u2461\u2468"},{"id":"ref-for-dom-manipulation-task-source\u2462\u24ea"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"},
"e270bd2a": {"dfnID":"e270bd2a","dfnText":"task","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-task"},{"id":"ref-for-concept-task\u2460"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-concept-task\u2461"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-concept-task\u2462"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-task\u2463"}],"title":"Install"},{"refs":[{"id":"ref-for-concept-task\u2464"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-concept-task\u2465"},{"id":"ref-for-concept-task\u2466"},{"id":"ref-for-concept-task\u2467"}],"title":"Terminate Service Worker"},{"refs":[{"id":"ref-for-concept-task\u2468"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-concept-task\u2460\u24ea"}],"title":"Notify Controller Change"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"e2b69bfa": {"dfnID":"e2b69bfa","dfnText":"highWaterMark","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-set-up-highwatermark"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#readablestream-set-up-highwatermark"},
"e2f31f82": {"dfnID":"e2f31f82","dfnText":"NormalCompletion","external":true,"refSections":[{"refs":[{"id":"ref-for-sec-normalcompletion"}],"title":"Run Service Worker"}],"url":"https://tc39.es/ecma262/#sec-normalcompletion"},
"e3201629": {"dfnID":"e3201629","dfnText":"response (for Response)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-response"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-concept-response-response\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-response-response\u2461"},{"id":"ref-for-concept-response-response\u2462"},{"id":"ref-for-concept-response-response\u2463"}],"title":"6.4. Cross-Origin Resources and CORS"}],"url":"https://fetch.spec.whatwg.org/#concept-response-response"},
"e3288657": {"dfnID":"e3288657","dfnText":"responsible event loop","external":true,"refSections":[{"refs":[{"id":"ref-for-responsible-event-loop"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-responsible-event-loop\u2461"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-responsible-event-loop\u2462"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-responsible-event-loop\u2463"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-responsible-event-loop\u2464"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-responsible-event-loop\u2465"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-responsible-event-loop\u2466"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-responsible-event-loop\u2467"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-responsible-event-loop\u2468"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460\u24ea"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460\u2460"},{"id":"ref-for-responsible-event-loop\u2460\u2461"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460\u2462"},{"id":"ref-for-responsible-event-loop\u2460\u2463"}],"title":"Reject Job Promise"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460\u2464"}],"title":"Install"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460\u2465"}],"title":"Activate"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460\u2466"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460\u2467"}],"title":"Update Registration State"},{"refs":[{"id":"ref-for-responsible-event-loop\u2460\u2468"}],"title":"Update Worker State"},{"refs":[{"id":"ref-for-responsible-event-loop\u2461\u24ea"}],"title":"Notify Controller Change"},{"refs":[{"id":"ref-for-responsible-event-loop\u2461\u2460"},{"id":"ref-for-responsible-event-loop\u2461\u2461"},{"id":"ref-for-responsible-event-loop\u2461\u2462"},{"id":"ref-for-responsible-event-loop\u2461\u2463"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"},
"e34ca041": {"dfnID":"e34ca041","dfnText":"map of active timers","external":true,"refSections":[{"refs":[{"id":"ref-for-map-of-active-timers"}],"title":"Run Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#map-of-active-timers"},
"e3e2d506": {"dfnID":"e3e2d506","dfnText":"cancel (for ReadableStream)","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-cancel"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://streams.spec.whatwg.org/#readablestream-cancel"},
"e5bf7ea1": {"dfnID":"e5bf7ea1","dfnText":"web worker","external":true,"refSections":[{"refs":[{"id":"ref-for-workers"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-workers\u2460"},{"id":"ref-for-workers\u2461"}],"title":"Update"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#workers"},
"e6defb69": {"dfnID":"e6defb69","dfnText":"cache state","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-cache-state"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-concept-response-cache-state\u2460"},{"id":"ref-for-concept-response-cache-state\u2461"}],"title":"Update"}],"url":"https://fetch.spec.whatwg.org/#concept-response-cache-state"},
"e7cb09fb": {"dfnID":"e7cb09fb","dfnText":"StructuredDeserializeWithTransfer","external":true,"refSections":[{"refs":[{"id":"ref-for-structureddeserializewithtransfer"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-structureddeserializewithtransfer\u2460"}],"title":"4.2.6. postMessage(message, options)"}],"url":"https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"},
"e806d5a8": {"dfnID":"e806d5a8","dfnText":"Headers","external":true,"refSections":[{"refs":[{"id":"ref-for-headers"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-headers\u2460"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-headers\u2461"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-headers\u2462"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#headers"},
"e99bd18e": {"dfnID":"e99bd18e","dfnText":"relevant global object","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-global"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-concept-relevant-global\u2460"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-concept-relevant-global\u2461"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-concept-relevant-global\u2462"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-concept-relevant-global\u2463"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-concept-relevant-global\u2464"},{"id":"ref-for-concept-relevant-global\u2465"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-concept-relevant-global\u2466"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-concept-relevant-global\u2467"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-concept-relevant-global\u2468"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"e9ac3051": {"dfnID":"e9ac3051","dfnText":"WorkerLocation","external":true,"refSections":[{"refs":[{"id":"ref-for-workerlocation"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#workerlocation"},
"e9c58cef": {"dfnID":"e9c58cef","dfnText":"time origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-settings-object-time-origin"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"},
"ea6f3f13": {"dfnID":"ea6f3f13","dfnText":"run a worker","external":true,"refSections":[{"refs":[{"id":"ref-for-run-a-worker"}],"title":"2.5.2. The worker client case"}],"url":"https://html.spec.whatwg.org/multipage/workers.html#run-a-worker"},
"eb1b1af3": {"dfnID":"eb1b1af3","dfnText":"network error","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-network-error"},{"id":"ref-for-concept-network-error\u2460"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-concept-network-error\u2461"},{"id":"ref-for-concept-network-error\u2462"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-concept-network-error\u2463"},{"id":"ref-for-concept-network-error\u2464"},{"id":"ref-for-concept-network-error\u2465"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-network-error\u2466"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-network-error\u2467"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#concept-network-error"},
"eb72b0d8": {"dfnID":"eb72b0d8","dfnText":"PerformanceResourceTiming","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-performanceresourcetiming"}],"title":"2.2. Service Worker Timing"}],"url":"https://w3c.github.io/resource-timing/#dom-performanceresourcetiming"},
"ed948033": {"dfnID":"ed948033","dfnText":"fragment","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-url-fragment"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-concept-url-fragment\u2460"},{"id":"ref-for-concept-url-fragment\u2461"},{"id":"ref-for-concept-url-fragment\u2462"},{"id":"ref-for-concept-url-fragment\u2463"},{"id":"ref-for-concept-url-fragment\u2464"},{"id":"ref-for-concept-url-fragment\u2465"}],"title":"Start Register"}],"url":"https://url.spec.whatwg.org/#concept-url-fragment"},
"ee1a333c": {"dfnID":"ee1a333c","dfnText":"parser metadata","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-parser-metadata"}],"title":"Update"}],"url":"https://fetch.spec.whatwg.org/#concept-request-parser-metadata"},
"ee7bba09": {"dfnID":"ee7bba09","dfnText":"response","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-concept-response\u2460"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-concept-response\u2461"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-concept-response\u2462"},{"id":"ref-for-concept-response\u2463"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-concept-response\u2464"}],"title":"5.1. Constructs"},{"refs":[{"id":"ref-for-concept-response\u2465"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-concept-response\u2466"},{"id":"ref-for-concept-response\u2467"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-concept-response\u2468"},{"id":"ref-for-concept-response\u2460\u24ea"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-response\u2460\u2460"},{"id":"ref-for-concept-response\u2460\u2461"},{"id":"ref-for-concept-response\u2460\u2462"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-concept-response\u2460\u2463"},{"id":"ref-for-concept-response\u2460\u2464"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-concept-response\u2460\u2465"}],"title":"Request Matches Cached Item"},{"refs":[{"id":"ref-for-concept-response\u2460\u2466"},{"id":"ref-for-concept-response\u2460\u2467"}],"title":"Lookup Race Response"}],"url":"https://fetch.spec.whatwg.org/#concept-response"},
"efd1ec5d": {"dfnID":"efd1ec5d","dfnText":"object","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-object"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-idl-object\u2460"}],"title":"4.2. Client"}],"url":"https://webidl.spec.whatwg.org/#idl-object"},
"enumdef-clienttype": {"dfnID":"enumdef-clienttype","dfnText":"ClientType","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-clienttype"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-enumdef-clienttype\u2460"}],"title":"4.3. Clients"}],"url":"#enumdef-clienttype"},
"enumdef-frametype": {"dfnID":"enumdef-frametype","dfnText":"FrameType","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-frametype"}],"title":"4.2. Client"}],"url":"#enumdef-frametype"},
"enumdef-routersourceenum": {"dfnID":"enumdef-routersourceenum","dfnText":"RouterSourceEnum","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-routersourceenum"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-enumdef-routersourceenum\u2460"}],"title":"Appendix A: Algorithms"}],"url":"#enumdef-routersourceenum"},
"enumdef-runningstatus": {"dfnID":"enumdef-runningstatus","dfnText":"RunningStatus","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-runningstatus"}],"title":"4.5. InstallEvent"}],"url":"#enumdef-runningstatus"},
"enumdef-serviceworkerstate": {"dfnID":"enumdef-serviceworkerstate","dfnText":"ServiceWorkerState","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-serviceworkerstate"},{"id":"ref-for-enumdef-serviceworkerstate\u2460"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-enumdef-serviceworkerstate\u2461"}],"title":"3.1.3. state"}],"url":"#enumdef-serviceworkerstate"},
"enumdef-serviceworkerupdateviacache": {"dfnID":"enumdef-serviceworkerupdateviacache","dfnText":"ServiceWorkerUpdateViaCache","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-serviceworkerupdateviacache"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-enumdef-serviceworkerupdateviacache\u2460"}],"title":"3.4. ServiceWorkerContainer"}],"url":"#enumdef-serviceworkerupdateviacache"},
"environment-settings-object-service-worker-object-map": {"dfnID":"environment-settings-object-service-worker-object-map","dfnText":"service worker object map","external":false,"refSections":[{"refs":[{"id":"ref-for-environment-settings-object-service-worker-object-map"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-environment-settings-object-service-worker-object-map\u2460"}],"title":"Update Worker State"}],"url":"#environment-settings-object-service-worker-object-map"},
"environment-settings-object-service-worker-registration-object-map": {"dfnID":"environment-settings-object-service-worker-registration-object-map","dfnText":"service worker registration object map","external":false,"refSections":[{"refs":[{"id":"ref-for-environment-settings-object-service-worker-registration-object-map"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"}],"url":"#environment-settings-object-service-worker-registration-object-map"},
"eventdef-serviceworker-statechange": {"dfnID":"eventdef-serviceworker-statechange","dfnText":"statechange","external":false,"refSections":[{"refs":[{"id":"ref-for-eventdef-serviceworker-statechange"}],"title":"3.1.6. Event handler"},{"refs":[{"id":"ref-for-eventdef-serviceworker-statechange\u2460"}],"title":"Update Worker State"}],"url":"#eventdef-serviceworker-statechange"},
"eventdef-serviceworkerglobalscope-message": {"dfnID":"eventdef-serviceworkerglobalscope-message","dfnText":"message","external":false,"refSections":[{"refs":[{"id":"ref-for-eventdef-serviceworkerglobalscope-message"}],"title":"2.1.2. Events"},{"refs":[{"id":"ref-for-eventdef-serviceworkerglobalscope-message\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-eventdef-serviceworkerglobalscope-message\u2461"}],"title":"4.1.5. Event handlers"},{"refs":[{"id":"ref-for-eventdef-serviceworkerglobalscope-message\u2462"},{"id":"ref-for-eventdef-serviceworkerglobalscope-message\u2463"}],"title":"4.7. ExtendableMessageEvent"}],"url":"#eventdef-serviceworkerglobalscope-message"},
"eventdef-serviceworkerglobalscope-messageerror": {"dfnID":"eventdef-serviceworkerglobalscope-messageerror","dfnText":"messageerror","external":false,"refSections":[{"refs":[{"id":"ref-for-eventdef-serviceworkerglobalscope-messageerror"}],"title":"2.1.2. Events"},{"refs":[{"id":"ref-for-eventdef-serviceworkerglobalscope-messageerror\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-eventdef-serviceworkerglobalscope-messageerror\u2461"}],"title":"4.1.5. Event handlers"}],"url":"#eventdef-serviceworkerglobalscope-messageerror"},
"extendableevent": {"dfnID":"extendableevent","dfnText":"ExtendableEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-extendableevent"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-extendableevent\u2460"},{"id":"ref-for-extendableevent\u2461"},{"id":"ref-for-extendableevent\u2462"},{"id":"ref-for-extendableevent\u2463"},{"id":"ref-for-extendableevent\u2464"},{"id":"ref-for-extendableevent\u2465"},{"id":"ref-for-extendableevent\u2466"},{"id":"ref-for-extendableevent\u2467"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-extendableevent\u2468"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-extendableevent\u2460\u24ea"},{"id":"ref-for-extendableevent\u2460\u2460"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-extendableevent\u2460\u2461"},{"id":"ref-for-extendableevent\u2460\u2462"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-extendableevent\u2460\u2463"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-extendableevent\u2460\u2464"}],"title":"7.2. Define Functional Event"},{"refs":[{"id":"ref-for-extendableevent\u2460\u2465"}],"title":"Activate"},{"refs":[{"id":"ref-for-extendableevent\u2460\u2466"},{"id":"ref-for-extendableevent\u2460\u2467"}],"title":"Fire Functional Event"}],"url":"#extendableevent"},
"extendableevent-active": {"dfnID":"extendableevent-active","dfnText":"active","external":false,"refSections":[{"refs":[{"id":"ref-for-extendableevent-active"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-extendableevent-active\u2460"}],"title":"Install"},{"refs":[{"id":"ref-for-extendableevent-active\u2461"}],"title":"Activate"},{"refs":[{"id":"ref-for-extendableevent-active\u2462"},{"id":"ref-for-extendableevent-active\u2463"}],"title":"Update Service Worker Extended Events Set"},{"refs":[{"id":"ref-for-extendableevent-active\u2464"}],"title":"Service Worker Has No Pending Events"}],"url":"#extendableevent-active"},
"extendableevent-add-lifetime-promise": {"dfnID":"extendableevent-add-lifetime-promise","dfnText":"add lifetime promise","external":false,"refSections":[{"refs":[{"id":"ref-for-extendableevent-add-lifetime-promise"}],"title":"4.4.1. event.waitUntil(f)"},{"refs":[{"id":"ref-for-extendableevent-add-lifetime-promise\u2460"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-extendableevent-add-lifetime-promise\u2461"}],"title":"4.6.7. event.respondWith(r)"}],"url":"#extendableevent-add-lifetime-promise"},
"extendableevent-extend-lifetime-promises": {"dfnID":"extendableevent-extend-lifetime-promises","dfnText":"extend lifetime promises","external":false,"refSections":[{"refs":[{"id":"ref-for-extendableevent-extend-lifetime-promises"},{"id":"ref-for-extendableevent-extend-lifetime-promises\u2460"},{"id":"ref-for-extendableevent-extend-lifetime-promises\u2461"},{"id":"ref-for-extendableevent-extend-lifetime-promises\u2462"},{"id":"ref-for-extendableevent-extend-lifetime-promises\u2463"},{"id":"ref-for-extendableevent-extend-lifetime-promises\u2464"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-extendableevent-extend-lifetime-promises\u2465"},{"id":"ref-for-extendableevent-extend-lifetime-promises\u2466"}],"title":"Install"},{"refs":[{"id":"ref-for-extendableevent-extend-lifetime-promises\u2467"}],"title":"Unregister"}],"url":"#extendableevent-extend-lifetime-promises"},
"extendableevent-pending-promises-count": {"dfnID":"extendableevent-pending-promises-count","dfnText":"pending promises count","external":false,"refSections":[{"refs":[{"id":"ref-for-extendableevent-pending-promises-count"},{"id":"ref-for-extendableevent-pending-promises-count\u2460"},{"id":"ref-for-extendableevent-pending-promises-count\u2461"},{"id":"ref-for-extendableevent-pending-promises-count\u2462"},{"id":"ref-for-extendableevent-pending-promises-count\u2463"},{"id":"ref-for-extendableevent-pending-promises-count\u2464"}],"title":"4.4. ExtendableEvent"}],"url":"#extendableevent-pending-promises-count"},
"extendableevent-timed-out-flag": {"dfnID":"extendableevent-timed-out-flag","dfnText":"timed out flag","external":false,"refSections":[{"refs":[{"id":"ref-for-extendableevent-timed-out-flag"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-extendableevent-timed-out-flag\u2460"}],"title":"Install"}],"url":"#extendableevent-timed-out-flag"},
"extendablemessageevent": {"dfnID":"extendablemessageevent","dfnText":"ExtendableMessageEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-extendablemessageevent"},{"id":"ref-for-extendablemessageevent\u2460"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-extendablemessageevent\u2461"},{"id":"ref-for-extendablemessageevent\u2462"}],"title":"4.7. ExtendableMessageEvent"},{"refs":[{"id":"ref-for-extendablemessageevent\u2463"}],"title":"4.8. Events"}],"url":"#extendablemessageevent"},
"f0951476": {"dfnID":"f0951476","dfnText":"EventHandler","external":true,"refSections":[{"refs":[{"id":"ref-for-eventhandler"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-eventhandler\u2460"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-eventhandler\u2461"},{"id":"ref-for-eventhandler\u2462"},{"id":"ref-for-eventhandler\u2463"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-eventhandler\u2464"},{"id":"ref-for-eventhandler\u2465"},{"id":"ref-for-eventhandler\u2466"},{"id":"ref-for-eventhandler\u2467"},{"id":"ref-for-eventhandler\u2468"}],"title":"4.1. ServiceWorkerGlobalScope"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"f0e85418": {"dfnID":"f0e85418","dfnText":"close steps","external":true,"refSections":[{"refs":[{"id":"ref-for-read-request-close-steps"}],"title":"4.6.7. event.respondWith(r)"}],"url":"https://streams.spec.whatwg.org/#read-request-close-steps"},
"f0fdbfa4": {"dfnID":"f0fdbfa4","dfnText":"fetch a classic worker script","external":true,"refSections":[{"refs":[{"id":"ref-for-fetch-a-classic-worker-script"},{"id":"ref-for-fetch-a-classic-worker-script\u2460"}],"title":"Update"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script"},
"f14ed351": {"dfnID":"f14ed351","dfnText":"upon rejection","external":true,"refSections":[{"refs":[{"id":"ref-for-upon-rejection"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-upon-rejection\u2460"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-upon-rejection\u2461"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-upon-rejection\u2462"}],"title":"Install"}],"url":"https://webidl.spec.whatwg.org/#upon-rejection"},
"f1d0e483": {"dfnID":"f1d0e483","dfnText":"value","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-value"}],"title":"All Fetch Listeners Are Empty"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-value"},
"f33a5993": {"dfnID":"f33a5993","dfnText":"disturbed","external":true,"refSections":[{"refs":[{"id":"ref-for-is-readable-stream-disturbed"}],"title":"5.4.5. put(request, response)"}],"url":"https://streams.spec.whatwg.org/#is-readable-stream-disturbed"},
"f5265332": {"dfnID":"f5265332","dfnText":"execution ready flag","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-execution-ready-flag"},{"id":"ref-for-concept-environment-execution-ready-flag\u2460"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-concept-environment-execution-ready-flag\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-concept-environment-execution-ready-flag\u2462"}],"title":"4.3.4. claim()"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag"},
"f78d5b5c": {"dfnID":"f78d5b5c","dfnText":"origin","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-origin"}],"title":"2.5. Control and Use"}],"url":"https://fetch.spec.whatwg.org/#concept-request-origin"},
"f7b00a8b": {"dfnID":"f7b00a8b","dfnText":"header list (for response)","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-response-header-list"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-concept-response-header-list\u2460"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-concept-response-header-list\u2461"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-concept-response-header-list\u2462"},{"id":"ref-for-concept-response-header-list\u2463"}],"title":"Update"},{"refs":[{"id":"ref-for-concept-response-header-list\u2464"}],"title":"Request Matches Cached Item"}],"url":"https://fetch.spec.whatwg.org/#concept-response-header-list"},
"f7bf85cd": {"dfnID":"f7bf85cd","dfnText":"forbidden method","external":true,"refSections":[{"refs":[{"id":"ref-for-forbidden-method"}],"title":"Verify Router Condition"}],"url":"https://fetch.spec.whatwg.org/#forbidden-method"},
"f7e0ea10": {"dfnID":"f7e0ea10","dfnText":"abort a running script","external":true,"refSections":[{"refs":[{"id":"ref-for-abort-a-running-script"}],"title":"Terminate Service Worker"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#abort-a-running-script"},
"f937b7b6": {"dfnID":"f937b7b6","dfnText":"continue","external":true,"refSections":[{"refs":[{"id":"ref-for-iteration-continue"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-iteration-continue\u2460"},{"id":"ref-for-iteration-continue\u2461"},{"id":"ref-for-iteration-continue\u2462"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-iteration-continue\u2463"},{"id":"ref-for-iteration-continue\u2464"},{"id":"ref-for-iteration-continue\u2465"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-iteration-continue\u2466"}],"title":"Reject Job Promise"},{"refs":[{"id":"ref-for-iteration-continue\u2467"}],"title":"Activate"},{"refs":[{"id":"ref-for-iteration-continue\u2468"}],"title":"Handle Fetch"}],"url":"https://infra.spec.whatwg.org/#iteration-continue"},
"f9da6f1f": {"dfnID":"f9da6f1f","dfnText":"Request","external":true,"refSections":[{"refs":[{"id":"ref-for-request"},{"id":"ref-for-request\u2460"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-request\u2461"}],"title":"5.4. Cache"},{"refs":[{"id":"ref-for-request\u2462"},{"id":"ref-for-request\u2463"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-request\u2464"},{"id":"ref-for-request\u2465"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-request\u2466"},{"id":"ref-for-request\u2467"}],"title":"5.4.5. put(request, response)"},{"refs":[{"id":"ref-for-request\u2468"},{"id":"ref-for-request\u2460\u24ea"}],"title":"5.4.6. delete(request, options)"},{"refs":[{"id":"ref-for-request\u2460\u2460"},{"id":"ref-for-request\u2460\u2461"},{"id":"ref-for-request\u2460\u2462"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-request\u2460\u2463"}],"title":"Create Fetch Event and Dispatch"}],"url":"https://fetch.spec.whatwg.org/#request"},
"fa4ea124": {"dfnID":"fa4ea124","dfnText":"initiator","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-request-initiator"}],"title":"5.4.4. addAll(requests)"}],"url":"https://fetch.spec.whatwg.org/#concept-request-initiator"},
"fa5ee9c5": {"dfnID":"fa5ee9c5","dfnText":"creation URL","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-environment-creation-url"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-concept-environment-creation-url\u2460"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-concept-environment-creation-url\u2461"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-concept-environment-creation-url\u2462"}],"title":"4.2.1. url"},{"refs":[{"id":"ref-for-concept-environment-creation-url\u2463"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-concept-environment-creation-url\u2464"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-concept-environment-creation-url\u2465"}],"title":"Create Job"},{"refs":[{"id":"ref-for-concept-environment-creation-url\u2466"}],"title":"Activate"},{"refs":[{"id":"ref-for-concept-environment-creation-url\u2467"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-concept-environment-creation-url\u2468"}],"title":"Resolve Get Client Promise"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"},
"fe07e8b2": {"dfnID":"fe07e8b2","dfnText":"focusing steps","external":true,"refSections":[{"refs":[{"id":"ref-for-focusing-steps"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-focusing-steps\u2460"},{"id":"ref-for-focusing-steps\u2461"},{"id":"ref-for-focusing-steps\u2462"}],"title":"4.3.2. matchAll(options)"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps"},
"fetchevent": {"dfnID":"fetchevent","dfnText":"FetchEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-fetchevent"},{"id":"ref-for-fetchevent\u2460"},{"id":"ref-for-fetchevent\u2461"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-fetchevent\u2462"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-fetchevent\u2463"}],"title":"Create Fetch Event and Dispatch"}],"url":"#fetchevent"},
"fetchevent-potential-response": {"dfnID":"fetchevent-potential-response","dfnText":"potential response","external":false,"refSections":[{"refs":[{"id":"ref-for-fetchevent-potential-response"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-fetchevent-potential-response\u2460"}],"title":"Create Fetch Event and Dispatch"}],"url":"#fetchevent-potential-response"},
"fetchevent-respond-with-entered-flag": {"dfnID":"fetchevent-respond-with-entered-flag","dfnText":"respond-with entered flag","external":false,"refSections":[{"refs":[{"id":"ref-for-fetchevent-respond-with-entered-flag"},{"id":"ref-for-fetchevent-respond-with-entered-flag\u2460"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-fetchevent-respond-with-entered-flag\u2461"}],"title":"Create Fetch Event and Dispatch"}],"url":"#fetchevent-respond-with-entered-flag"},
"fetchevent-respond-with-error-flag": {"dfnID":"fetchevent-respond-with-error-flag","dfnText":"respond-with error flag","external":false,"refSections":[{"refs":[{"id":"ref-for-fetchevent-respond-with-error-flag"},{"id":"ref-for-fetchevent-respond-with-error-flag\u2460"},{"id":"ref-for-fetchevent-respond-with-error-flag\u2461"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-fetchevent-respond-with-error-flag\u2462"}],"title":"Create Fetch Event and Dispatch"}],"url":"#fetchevent-respond-with-error-flag"},
"fetchevent-wait-to-respond-flag": {"dfnID":"fetchevent-wait-to-respond-flag","dfnText":"wait to respond flag","external":false,"refSections":[{"refs":[{"id":"ref-for-fetchevent-wait-to-respond-flag"},{"id":"ref-for-fetchevent-wait-to-respond-flag\u2460"},{"id":"ref-for-fetchevent-wait-to-respond-flag\u2461"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-fetchevent-wait-to-respond-flag\u2462"},{"id":"ref-for-fetchevent-wait-to-respond-flag\u2463"}],"title":"Create Fetch Event and Dispatch"}],"url":"#fetchevent-wait-to-respond-flag"},
"ffba9cf8": {"dfnID":"ffba9cf8","dfnText":"locked","external":true,"refSections":[{"refs":[{"id":"ref-for-readablestream-locked"},{"id":"ref-for-readablestream-locked\u2460"}],"title":"5.4.5. put(request, response)"}],"url":"https://streams.spec.whatwg.org/#readablestream-locked"},
"finish-job": {"dfnID":"finish-job","dfnText":"Finish Job","external":false,"refSections":[{"refs":[{"id":"ref-for-finish-job"},{"id":"ref-for-finish-job\u2460"},{"id":"ref-for-finish-job\u2461"},{"id":"ref-for-finish-job\u2462"}],"title":"Register"},{"refs":[{"id":"ref-for-finish-job\u2463"},{"id":"ref-for-finish-job\u2464"},{"id":"ref-for-finish-job\u2465"},{"id":"ref-for-finish-job\u2466"},{"id":"ref-for-finish-job\u2467"}],"title":"Update"},{"refs":[{"id":"ref-for-finish-job\u2468"},{"id":"ref-for-finish-job\u2460\u24ea"}],"title":"Install"},{"refs":[{"id":"ref-for-finish-job\u2460\u2460"},{"id":"ref-for-finish-job\u2460\u2461"},{"id":"ref-for-finish-job\u2460\u2462"}],"title":"Unregister"}],"url":"#finish-job"},
"fire-functional-event": {"dfnID":"fire-functional-event","dfnText":"Fire Functional Event","external":false,"refSections":[{"refs":[{"id":"ref-for-fire-functional-event"}],"title":"7.4. Firing Functional Events"},{"refs":[{"id":"ref-for-fire-functional-event\u2460"},{"id":"ref-for-fire-functional-event\u2461"}],"title":"Fire Functional Event"}],"url":"#fire-functional-event"},
"get-frame-type": {"dfnID":"get-frame-type","dfnText":"Get Frame Type","external":false,"refSections":[{"refs":[{"id":"ref-for-get-frame-type"}],"title":"4.2.10. focus()"},{"refs":[{"id":"ref-for-get-frame-type\u2460"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-get-frame-type\u2461"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-get-frame-type\u2462"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-get-frame-type\u2463"}],"title":"Resolve Get Client Promise"}],"url":"#get-frame-type"},
"get-newest-worker": {"dfnID":"get-newest-worker","dfnText":"Get Newest Worker","external":false,"refSections":[{"refs":[{"id":"ref-for-get-newest-worker"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-get-newest-worker\u2460"}],"title":"Register"},{"refs":[{"id":"ref-for-get-newest-worker\u2461"}],"title":"Update"},{"refs":[{"id":"ref-for-get-newest-worker\u2462"}],"title":"Soft Update"},{"refs":[{"id":"ref-for-get-newest-worker\u2463"}],"title":"Install"}],"url":"#get-newest-worker"},
"get-registration": {"dfnID":"get-registration","dfnText":"Get Registration","external":false,"refSections":[{"refs":[{"id":"ref-for-get-registration"}],"title":"Register"},{"refs":[{"id":"ref-for-get-registration\u2460"}],"title":"Update"},{"refs":[{"id":"ref-for-get-registration\u2461"}],"title":"Unregister"},{"refs":[{"id":"ref-for-get-registration\u2462"}],"title":"Match Service Worker Registration"}],"url":"#get-registration"},
"get-router-source": {"dfnID":"get-router-source","dfnText":"Get Router Source","external":false,"refSections":[{"refs":[{"id":"ref-for-get-router-source"}],"title":"Handle Fetch"}],"url":"#get-router-source"},
"get-the-service-worker-object": {"dfnID":"get-the-service-worker-object","dfnText":"get the service worker object","external":false,"refSections":[{"refs":[{"id":"ref-for-get-the-service-worker-object"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-get-the-service-worker-object\u2460"},{"id":"ref-for-get-the-service-worker-object\u2461"},{"id":"ref-for-get-the-service-worker-object\u2462"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-get-the-service-worker-object\u2463"}],"title":"3.4.1. controller"},{"refs":[{"id":"ref-for-get-the-service-worker-object\u2464"}],"title":"4.1.3. serviceWorker"},{"refs":[{"id":"ref-for-get-the-service-worker-object\u2465"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-get-the-service-worker-object\u2466"},{"id":"ref-for-get-the-service-worker-object\u2467"},{"id":"ref-for-get-the-service-worker-object\u2468"}],"title":"Update Registration State"}],"url":"#get-the-service-worker-object"},
"get-the-service-worker-registration-object": {"dfnID":"get-the-service-worker-registration-object","dfnText":"get the service worker registration object","external":false,"refSections":[{"refs":[{"id":"ref-for-get-the-service-worker-registration-object"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-get-the-service-worker-registration-object\u2460"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-get-the-service-worker-registration-object\u2461"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-get-the-service-worker-registration-object\u2462"}],"title":"4.1.2. registration"},{"refs":[{"id":"ref-for-get-the-service-worker-registration-object\u2463"},{"id":"ref-for-get-the-service-worker-registration-object\u2464"}],"title":"Resolve Job Promise"},{"refs":[{"id":"ref-for-get-the-service-worker-registration-object\u2465"}],"title":"Activate"}],"url":"#get-the-service-worker-registration-object"},
"global-caches-attribute": {"dfnID":"global-caches-attribute","dfnText":"caches","external":false,"refSections":[{"refs":[{"id":"ref-for-global-caches-attribute"},{"id":"ref-for-global-caches-attribute\u2460"}],"title":"5.3. self.caches"},{"refs":[{"id":"ref-for-global-caches-attribute\u2461"}],"title":"5.3.1. caches"}],"url":"#global-caches-attribute"},
"handle-fetch": {"dfnID":"handle-fetch","dfnText":"Handle Fetch","external":false,"refSections":[{"refs":[{"id":"ref-for-handle-fetch\u2460"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-handle-fetch\u2461"},{"id":"ref-for-handle-fetch\u2462"}],"title":"4.6.7. event.respondWith(r)"},{"refs":[{"id":"ref-for-handle-fetch\u2463"},{"id":"ref-for-handle-fetch\u2464"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-handle-fetch\u2465"}],"title":"6.7. Implementer Concerns"},{"refs":[{"id":"ref-for-handle-fetch\u2466"}],"title":"Handle Fetch"}],"url":"#handle-fetch"},
"handle-service-worker-client-unload": {"dfnID":"handle-service-worker-client-unload","dfnText":"Handle Service Worker Client Unload","external":false,"refSections":[{"refs":[{"id":"ref-for-handle-service-worker-client-unload"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-handle-service-worker-client-unload\u2460"}],"title":"Install"},{"refs":[{"id":"ref-for-handle-service-worker-client-unload\u2461"}],"title":"Unregister"}],"url":"#handle-service-worker-client-unload"},
"handle-user-agent-shutdown": {"dfnID":"handle-user-agent-shutdown","dfnText":"Handle User Agent Shutdown","external":false,"refSections":[{"refs":[{"id":"ref-for-handle-user-agent-shutdown"}],"title":"2.7. User Agent Shutdown"}],"url":"#handle-user-agent-shutdown"},
"importscripts-method": {"dfnID":"importscripts-method","dfnText":"importScripts(urls)","external":false,"refSections":[{"refs":[{"id":"ref-for-importscripts-method"}],"title":"6.3.1. Origin restriction"},{"refs":[{"id":"ref-for-importscripts-method\u2460"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-importscripts-method\u2461"}],"title":"Update"}],"url":"#importscripts-method"},
"install": {"dfnID":"install","dfnText":"Install","external":false,"refSections":[{"refs":[{"id":"ref-for-install"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-install\u2460"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-install\u2461"}],"title":"Update"}],"url":"#install"},
"installevent": {"dfnID":"installevent","dfnText":"InstallEvent","external":false,"refSections":[{"refs":[{"id":"ref-for-installevent"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-installevent\u2460"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-installevent\u2461"}],"title":"Install"}],"url":"#installevent"},
"is-async-module": {"dfnID":"is-async-module","dfnText":"Is Async Module","external":false,"refSections":[{"refs":[{"id":"ref-for-is-async-module"}],"title":"Update"},{"refs":[{"id":"ref-for-is-async-module\u2460"}],"title":"Is Async Module"}],"url":"#is-async-module"},
"job-referrer": {"dfnID":"job-referrer","dfnText":"referrer","external":false,"refSections":[{"refs":[{"id":"ref-for-job-referrer"}],"title":"Create Job"},{"refs":[{"id":"ref-for-job-referrer\u2460"}],"title":"Start Register"},{"refs":[{"id":"ref-for-job-referrer\u2461"},{"id":"ref-for-job-referrer\u2462"}],"title":"Register"}],"url":"#job-referrer"},
"job-storage-key": {"dfnID":"job-storage-key","dfnText":"storage key","external":false,"refSections":[{"refs":[{"id":"ref-for-job-storage-key"}],"title":"Create Job"},{"refs":[{"id":"ref-for-job-storage-key\u2460"},{"id":"ref-for-job-storage-key\u2461"}],"title":"Register"},{"refs":[{"id":"ref-for-job-storage-key\u2462"}],"title":"Update"},{"refs":[{"id":"ref-for-job-storage-key\u2463"}],"title":"Unregister"}],"url":"#job-storage-key"},
"lookup-race-response": {"dfnID":"lookup-race-response","dfnText":"Lookup Race Response","external":false,"refSections":[],"url":"#lookup-race-response"},
"match-router-condition": {"dfnID":"match-router-condition","dfnText":"Match Router Condition","external":false,"refSections":[{"refs":[{"id":"ref-for-match-router-condition"},{"id":"ref-for-match-router-condition\u2460"}],"title":"Match Router Condition"},{"refs":[{"id":"ref-for-match-router-condition\u2461"}],"title":"Get Router Source"}],"url":"#match-router-condition"},
"match-service-worker-registration": {"dfnID":"match-service-worker-registration","dfnText":"Match Service Worker Registration","external":false,"refSections":[{"refs":[{"id":"ref-for-match-service-worker-registration"}],"title":"2.5.1. The window client case"},{"refs":[{"id":"ref-for-match-service-worker-registration\u2460"}],"title":"2.5.2. The worker client case"},{"refs":[{"id":"ref-for-match-service-worker-registration\u2461"}],"title":"3.1.2. scriptURL"},{"refs":[{"id":"ref-for-match-service-worker-registration\u2462"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-match-service-worker-registration\u2463"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-match-service-worker-registration\u2464"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-match-service-worker-registration\u2465"}],"title":"Activate"},{"refs":[{"id":"ref-for-match-service-worker-registration\u2466"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-match-service-worker-registration\u2467"}],"title":"Lookup Race Response"}],"url":"#match-service-worker-registration"},
"navigationpreloadmanager": {"dfnID":"navigationpreloadmanager","dfnText":"NavigationPreloadManager","external":false,"refSections":[{"refs":[{"id":"ref-for-navigationpreloadmanager"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-navigationpreloadmanager\u2460"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-navigationpreloadmanager\u2461"}],"title":"3.2.5. navigationPreload"},{"refs":[{"id":"ref-for-navigationpreloadmanager\u2462"}],"title":"3.6. NavigationPreloadManager"}],"url":"#navigationpreloadmanager"},
"navigator-service-worker-attribute": {"dfnID":"navigator-service-worker-attribute","dfnText":"serviceWorker","external":false,"refSections":[{"refs":[{"id":"ref-for-navigator-service-worker-attribute"},{"id":"ref-for-navigator-service-worker-attribute\u2460"},{"id":"ref-for-navigator-service-worker-attribute\u2461"}],"title":"3.3. navigator.serviceWorker"}],"url":"#navigator-service-worker-attribute"},
"notify-controller-change": {"dfnID":"notify-controller-change","dfnText":"Notify Controller Change","external":false,"refSections":[{"refs":[{"id":"ref-for-notify-controller-change"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-notify-controller-change\u2460"}],"title":"Activate"}],"url":"#notify-controller-change"},
"parse-url-pattern": {"dfnID":"parse-url-pattern","dfnText":"Parse URL Pattern","external":false,"refSections":[{"refs":[{"id":"ref-for-parse-url-pattern"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-parse-url-pattern\u2460"}],"title":"Match Router Condition"}],"url":"#parse-url-pattern"},
"query-cache": {"dfnID":"query-cache","dfnText":"Query Cache","external":false,"refSections":[{"refs":[{"id":"ref-for-query-cache"}],"title":"5.4.2. matchAll(request, options)"},{"refs":[{"id":"ref-for-query-cache\u2460"}],"title":"5.4.7. keys(request, options)"},{"refs":[{"id":"ref-for-query-cache\u2461"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-query-cache\u2462"},{"id":"ref-for-query-cache\u2463"},{"id":"ref-for-query-cache\u2464"}],"title":"Batch Cache Operations"}],"url":"#query-cache"},
"race-response-value": {"dfnID":"race-response-value","dfnText":"value","external":false,"refSections":[{"refs":[{"id":"ref-for-race-response-value"},{"id":"ref-for-race-response-value\u2460"},{"id":"ref-for-race-response-value\u2461"},{"id":"ref-for-race-response-value\u2462"},{"id":"ref-for-race-response-value\u2463"},{"id":"ref-for-race-response-value\u2464"},{"id":"ref-for-race-response-value\u2465"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-race-response-value\u2466"},{"id":"ref-for-race-response-value\u2467"},{"id":"ref-for-race-response-value\u2468"},{"id":"ref-for-race-response-value\u2460\u24ea"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-race-response-value\u2460\u2460"},{"id":"ref-for-race-response-value\u2460\u2461"},{"id":"ref-for-race-response-value\u2460\u2462"}],"title":"Lookup Race Response"}],"url":"#race-response-value"},
"race-result-routed-response": {"dfnID":"race-result-routed-response","dfnText":"routed response","external":false,"refSections":[{"refs":[{"id":"ref-for-race-result-routed-response"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-race-result-routed-response\u2460"},{"id":"ref-for-race-result-routed-response\u2461"},{"id":"ref-for-race-result-routed-response\u2462"}],"title":"Handle Fetch"}],"url":"#race-result-routed-response"},
"race-result-used-route": {"dfnID":"race-result-used-route","dfnText":"used route","external":false,"refSections":[{"refs":[{"id":"ref-for-race-result-used-route"}],"title":"Appendix A: Algorithms"},{"refs":[{"id":"ref-for-race-result-used-route\u2460"},{"id":"ref-for-race-result-used-route\u2461"},{"id":"ref-for-race-result-used-route\u2462"},{"id":"ref-for-race-result-used-route\u2463"}],"title":"Handle Fetch"}],"url":"#race-result-used-route"},
"register": {"dfnID":"register","dfnText":"Register","external":false,"refSections":[{"refs":[{"id":"ref-for-register"}],"title":"2.3.1. Lifetime"},{"refs":[{"id":"ref-for-register\u2460"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-register\u2461"}],"title":"Run Job"}],"url":"#register"},
"reject-job-promise": {"dfnID":"reject-job-promise","dfnText":"Reject Job Promise","external":false,"refSections":[{"refs":[{"id":"ref-for-reject-job-promise"},{"id":"ref-for-reject-job-promise\u2460"},{"id":"ref-for-reject-job-promise\u2461"}],"title":"Register"},{"refs":[{"id":"ref-for-reject-job-promise\u2462"},{"id":"ref-for-reject-job-promise\u2463"},{"id":"ref-for-reject-job-promise\u2464"},{"id":"ref-for-reject-job-promise\u2465"},{"id":"ref-for-reject-job-promise\u2466"},{"id":"ref-for-reject-job-promise\u2467"},{"id":"ref-for-reject-job-promise\u2468"}],"title":"Update"},{"refs":[{"id":"ref-for-reject-job-promise\u2460\u24ea"}],"title":"Unregister"}],"url":"#reject-job-promise"},
"request-matches-cached-item": {"dfnID":"request-matches-cached-item","dfnText":"Request Matches Cached Item","external":false,"refSections":[{"refs":[{"id":"ref-for-request-matches-cached-item"}],"title":"Query Cache"}],"url":"#request-matches-cached-item"},
"resolve-get-client-promise": {"dfnID":"resolve-get-client-promise","dfnText":"Resolve Get Client Promise","external":false,"refSections":[{"refs":[{"id":"ref-for-resolve-get-client-promise"}],"title":"4.3.1. get(id)"}],"url":"#resolve-get-client-promise"},
"resolve-job-promise": {"dfnID":"resolve-job-promise","dfnText":"Resolve Job Promise","external":false,"refSections":[{"refs":[{"id":"ref-for-resolve-job-promise"}],"title":"Register"},{"refs":[{"id":"ref-for-resolve-job-promise\u2460"}],"title":"Update"},{"refs":[{"id":"ref-for-resolve-job-promise\u2461"}],"title":"Install"},{"refs":[{"id":"ref-for-resolve-job-promise\u2462"},{"id":"ref-for-resolve-job-promise\u2463"}],"title":"Unregister"}],"url":"#resolve-job-promise"},
"run-job": {"dfnID":"run-job","dfnText":"Run Job","external":false,"refSections":[{"refs":[{"id":"ref-for-run-job"}],"title":"Schedule Job"},{"refs":[{"id":"ref-for-run-job\u2460"}],"title":"Finish Job"}],"url":"#run-job"},
"run-service-worker": {"dfnID":"run-service-worker","dfnText":"Run Service Worker","external":false,"refSections":[{"refs":[{"id":"ref-for-run-service-worker"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-run-service-worker\u2460"}],"title":"6.2. Content Security Policy"},{"refs":[{"id":"ref-for-run-service-worker\u2461"},{"id":"ref-for-run-service-worker\u2462"}],"title":"Update"},{"refs":[{"id":"ref-for-run-service-worker\u2463"}],"title":"Install"},{"refs":[{"id":"ref-for-run-service-worker\u2464"}],"title":"Activate"},{"refs":[{"id":"ref-for-run-service-worker\u2465"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-run-service-worker\u2466"},{"id":"ref-for-run-service-worker\u2467"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-run-service-worker\u2468"}],"title":"Fire Functional Event"}],"url":"#run-service-worker"},
"schedule-job": {"dfnID":"schedule-job","dfnText":"Schedule Job","external":false,"refSections":[{"refs":[{"id":"ref-for-schedule-job"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-schedule-job\u2460"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-schedule-job\u2461"}],"title":"Start Register"},{"refs":[{"id":"ref-for-schedule-job\u2462"}],"title":"Soft Update"}],"url":"#schedule-job"},
"service-worker": {"dfnID":"service-worker","dfnText":"Service-Worker","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker"}],"title":"6.6. Service worker script request"}],"url":"#service-worker"},
"service-worker-all-fetch-listeners-are-empty-flag": {"dfnID":"service-worker-all-fetch-listeners-are-empty-flag","dfnText":"all fetch listeners are empty flag","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-all-fetch-listeners-are-empty-flag"},{"id":"ref-for-service-worker-all-fetch-listeners-are-empty-flag\u2460"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-service-worker-all-fetch-listeners-are-empty-flag\u2461"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-service-worker-all-fetch-listeners-are-empty-flag\u2462"}],"title":"Create Fetch Event and Dispatch"}],"url":"#service-worker-all-fetch-listeners-are-empty-flag"},
"service-worker-allowed": {"dfnID":"service-worker-allowed","dfnText":"Service-Worker-Allowed","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-allowed"}],"title":"6.5. Path restriction"},{"refs":[{"id":"ref-for-service-worker-allowed\u2460"}],"title":"Update"}],"url":"#service-worker-allowed"},
"service-worker-client-discarded-flag": {"dfnID":"service-worker-client-discarded-flag","dfnText":"discarded flag","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-client-discarded-flag"},{"id":"ref-for-service-worker-client-discarded-flag\u2460"}],"title":"2.4. Service Worker Client"},{"refs":[{"id":"ref-for-service-worker-client-discarded-flag\u2461"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-service-worker-client-discarded-flag\u2462"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-service-worker-client-discarded-flag\u2463"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-service-worker-client-discarded-flag\u2464"}],"title":"Resolve Get Client Promise"}],"url":"#service-worker-client-discarded-flag"},
"service-worker-client-origin": {"dfnID":"service-worker-client-origin","dfnText":"origin","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-client-origin"},{"id":"ref-for-service-worker-client-origin\u2460"}],"title":"2.5.2. The worker client case"}],"url":"#service-worker-client-origin"},
"service-worker-container-controllerchange-event": {"dfnID":"service-worker-container-controllerchange-event","dfnText":"controllerchange","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-container-controllerchange-event"}],"title":"3.4.7. Event handlers"}],"url":"#service-worker-container-controllerchange-event"},
"service-worker-container-message-event": {"dfnID":"service-worker-container-message-event","dfnText":"message","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-container-message-event"}],"title":"3.4.7. Event handlers"}],"url":"#service-worker-container-message-event"},
"service-worker-container-messageerror-event": {"dfnID":"service-worker-container-messageerror-event","dfnText":"messageerror","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-container-messageerror-event"}],"title":"3.4.7. Event handlers"},{"refs":[{"id":"ref-for-service-worker-container-messageerror-event\u2460"}],"title":"4.2.6. postMessage(message, options)"}],"url":"#service-worker-container-messageerror-event"},
"service-worker-global-scope-activate-event": {"dfnID":"service-worker-global-scope-activate-event","dfnText":"activate","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-global-scope-activate-event"}],"title":"2.1.2. Events"},{"refs":[{"id":"ref-for-service-worker-global-scope-activate-event\u2460"}],"title":"4.1.5. Event handlers"},{"refs":[{"id":"ref-for-service-worker-global-scope-activate-event\u2461"},{"id":"ref-for-service-worker-global-scope-activate-event\u2462"},{"id":"ref-for-service-worker-global-scope-activate-event\u2463"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-service-worker-global-scope-activate-event\u2464"}],"title":"Activate"}],"url":"#service-worker-global-scope-activate-event"},
"service-worker-global-scope-fetch-event": {"dfnID":"service-worker-global-scope-fetch-event","dfnText":"fetch","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-global-scope-fetch-event"}],"title":"2.1.2. Events"},{"refs":[{"id":"ref-for-service-worker-global-scope-fetch-event\u2460"}],"title":"2.6. Task Sources"},{"refs":[{"id":"ref-for-service-worker-global-scope-fetch-event\u2461"}],"title":"4.1.5. Event handlers"},{"refs":[{"id":"ref-for-service-worker-global-scope-fetch-event\u2462"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-service-worker-global-scope-fetch-event\u2463"},{"id":"ref-for-service-worker-global-scope-fetch-event\u2464"}],"title":"4.6. FetchEvent"},{"refs":[{"id":"ref-for-service-worker-global-scope-fetch-event\u2465"}],"title":"6.7. Implementer Concerns"},{"refs":[{"id":"ref-for-service-worker-global-scope-fetch-event\u2466"}],"title":"Create Fetch Event and Dispatch"}],"url":"#service-worker-global-scope-fetch-event"},
"service-worker-global-scope-install-event": {"dfnID":"service-worker-global-scope-install-event","dfnText":"install","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-global-scope-install-event"}],"title":"2.1.2. Events"},{"refs":[{"id":"ref-for-service-worker-global-scope-install-event\u2460"}],"title":"4.1.5. Event handlers"},{"refs":[{"id":"ref-for-service-worker-global-scope-install-event\u2461"},{"id":"ref-for-service-worker-global-scope-install-event\u2462"},{"id":"ref-for-service-worker-global-scope-install-event\u2463"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-service-worker-global-scope-install-event\u2464"}],"title":"Install"}],"url":"#service-worker-global-scope-install-event"},
"service-worker-has-no-pending-events": {"dfnID":"service-worker-has-no-pending-events","dfnText":"Service Worker Has No Pending Events","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-has-no-pending-events"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-service-worker-has-no-pending-events\u2460"}],"title":"Try Activate"},{"refs":[{"id":"ref-for-service-worker-has-no-pending-events\u2461"},{"id":"ref-for-service-worker-has-no-pending-events\u2462"},{"id":"ref-for-service-worker-has-no-pending-events\u2463"}],"title":"Try Clear Registration"}],"url":"#service-worker-has-no-pending-events"},
"service-worker-list-of-router-rules": {"dfnID":"service-worker-list-of-router-rules","dfnText":"list of router rules","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-list-of-router-rules"},{"id":"ref-for-service-worker-list-of-router-rules\u2460"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-service-worker-list-of-router-rules\u2461"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-service-worker-list-of-router-rules\u2462"}],"title":"Check Router Registration Limit"},{"refs":[{"id":"ref-for-service-worker-list-of-router-rules\u2463"}],"title":"Get Router Source"}],"url":"#service-worker-list-of-router-rules"},
"service-worker-registration-navigation-preload-enabled-flag": {"dfnID":"service-worker-registration-navigation-preload-enabled-flag","dfnText":"navigation preload enabled flag","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-registration-navigation-preload-enabled-flag"}],"title":"3.6.1. enable()"},{"refs":[{"id":"ref-for-service-worker-registration-navigation-preload-enabled-flag\u2460"}],"title":"3.6.2. disable()"},{"refs":[{"id":"ref-for-service-worker-registration-navigation-preload-enabled-flag\u2461"}],"title":"3.6.4. getState()"},{"refs":[{"id":"ref-for-service-worker-registration-navigation-preload-enabled-flag\u2462"}],"title":"Handle Fetch"}],"url":"#service-worker-registration-navigation-preload-enabled-flag"},
"service-worker-registration-navigation-preload-header-value": {"dfnID":"service-worker-registration-navigation-preload-header-value","dfnText":"navigation preload header value","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-registration-navigation-preload-header-value"}],"title":"3.6.3. setHeaderValue(value)"},{"refs":[{"id":"ref-for-service-worker-registration-navigation-preload-header-value\u2460"}],"title":"3.6.4. getState()"},{"refs":[{"id":"ref-for-service-worker-registration-navigation-preload-header-value\u2461"}],"title":"Handle Fetch"}],"url":"#service-worker-registration-navigation-preload-header-value"},
"service-worker-registration-navigationpreloadmanager": {"dfnID":"service-worker-registration-navigationpreloadmanager","dfnText":"NavigationPreloadManager","external":false,"refSections":[],"url":"#service-worker-registration-navigationpreloadmanager"},
"service-worker-registration-stale": {"dfnID":"service-worker-registration-stale","dfnText":"stale","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-registration-stale"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-service-worker-registration-stale\u2460"},{"id":"ref-for-service-worker-registration-stale\u2461"}],"title":"Update"},{"refs":[{"id":"ref-for-service-worker-registration-stale\u2462"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-service-worker-registration-stale\u2463"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-service-worker-registration-stale\u2464"},{"id":"ref-for-service-worker-registration-stale\u2465"},{"id":"ref-for-service-worker-registration-stale\u2466"}],"title":"Fire Functional Event"}],"url":"#service-worker-registration-stale"},
"service-worker-registration-storage-key": {"dfnID":"service-worker-registration-storage-key","dfnText":"storage key","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-registration-storage-key"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2460"}],"title":"2.3.1. Lifetime"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2461"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2462"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2463"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2464"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2465"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2466"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2467"},{"id":"ref-for-service-worker-registration-storage-key\u2468"}],"title":"Update"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2460\u24ea"}],"title":"Soft Update"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2460\u2460"}],"title":"Install"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2460\u2461"}],"title":"Activate"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2460\u2462"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2460\u2463"}],"title":"Unregister"},{"refs":[{"id":"ref-for-service-worker-registration-storage-key\u2460\u2464"}],"title":"Set Registration"}],"url":"#service-worker-registration-storage-key"},
"service-worker-registration-updatefound-event": {"dfnID":"service-worker-registration-updatefound-event","dfnText":"updatefound","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-registration-updatefound-event"}],"title":"3.2.10. Event handler"}],"url":"#service-worker-registration-updatefound-event"},
"service-worker-running": {"dfnID":"service-worker-running","dfnText":"running","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-running"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-service-worker-running\u2460"},{"id":"ref-for-service-worker-running\u2461"},{"id":"ref-for-service-worker-running\u2462"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-service-worker-running\u2463"},{"id":"ref-for-service-worker-running\u2464"}],"title":"Match Router Condition"}],"url":"#service-worker-running"},
"service-worker-service-worker-queue": {"dfnID":"service-worker-service-worker-queue","dfnText":"[[service worker queue]]","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-service-worker-queue"}],"title":"4.5.1. event.addRoutes(rules)"}],"url":"#service-worker-service-worker-queue"},
"service-worker-start-status": {"dfnID":"service-worker-start-status","dfnText":"start status","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-start-status"}],"title":"Setup ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-service-worker-start-status\u2460"},{"id":"ref-for-service-worker-start-status\u2461"},{"id":"ref-for-service-worker-start-status\u2462"},{"id":"ref-for-service-worker-start-status\u2463"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-service-worker-start-status\u2464"}],"title":"Terminate Service Worker"}],"url":"#service-worker-start-status"},
"service-worker-timing-info": {"dfnID":"service-worker-timing-info","dfnText":"service worker timing info","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-timing-info"},{"id":"ref-for-service-worker-timing-info\u2460"},{"id":"ref-for-service-worker-timing-info\u2461"},{"id":"ref-for-service-worker-timing-info\u2462"},{"id":"ref-for-service-worker-timing-info\u2463"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-service-worker-timing-info\u2464"}],"title":"Create Fetch Event and Dispatch"}],"url":"#service-worker-timing-info"},
"service-worker-timing-info-fetch-event-dispatch-time": {"dfnID":"service-worker-timing-info-fetch-event-dispatch-time","dfnText":"fetch event dispatch time","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-timing-info-fetch-event-dispatch-time"}],"title":"Create Fetch Event and Dispatch"}],"url":"#service-worker-timing-info-fetch-event-dispatch-time"},
"service-worker-timing-info-start-time": {"dfnID":"service-worker-timing-info-start-time","dfnText":"start time","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-timing-info-start-time"}],"title":"Create Fetch Event and Dispatch"}],"url":"#service-worker-timing-info-start-time"},
"service-worker-timing-info-worker-cache-lookup-start": {"dfnID":"service-worker-timing-info-worker-cache-lookup-start","dfnText":"worker cache lookup start","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-timing-info-worker-cache-lookup-start"}],"title":"Handle Fetch"}],"url":"#service-worker-timing-info-worker-cache-lookup-start"},
"service-worker-timing-info-worker-final-router-source": {"dfnID":"service-worker-timing-info-worker-final-router-source","dfnText":"worker final router source","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-timing-info-worker-final-router-source"},{"id":"ref-for-service-worker-timing-info-worker-final-router-source\u2460"},{"id":"ref-for-service-worker-timing-info-worker-final-router-source\u2461"},{"id":"ref-for-service-worker-timing-info-worker-final-router-source\u2462"},{"id":"ref-for-service-worker-timing-info-worker-final-router-source\u2463"},{"id":"ref-for-service-worker-timing-info-worker-final-router-source\u2464"},{"id":"ref-for-service-worker-timing-info-worker-final-router-source\u2465"}],"title":"Handle Fetch"}],"url":"#service-worker-timing-info-worker-final-router-source"},
"service-worker-timing-info-worker-matched-router-source": {"dfnID":"service-worker-timing-info-worker-matched-router-source","dfnText":"worker matched router source","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-timing-info-worker-matched-router-source"},{"id":"ref-for-service-worker-timing-info-worker-matched-router-source\u2460"},{"id":"ref-for-service-worker-timing-info-worker-matched-router-source\u2461"}],"title":"Handle Fetch"}],"url":"#service-worker-timing-info-worker-matched-router-source"},
"service-worker-timing-info-worker-router-evaluation-start": {"dfnID":"service-worker-timing-info-worker-router-evaluation-start","dfnText":"worker router evaluation start","external":false,"refSections":[{"refs":[{"id":"ref-for-service-worker-timing-info-worker-router-evaluation-start"}],"title":"Handle Fetch"}],"url":"#service-worker-timing-info-worker-router-evaluation-start"},
"serviceworker": {"dfnID":"serviceworker","dfnText":"ServiceWorker","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworker"}],"title":"2.1.1. Lifetime"},{"refs":[{"id":"ref-for-serviceworker\u2460"},{"id":"ref-for-serviceworker\u2461"},{"id":"ref-for-serviceworker\u2462"},{"id":"ref-for-serviceworker\u2463"},{"id":"ref-for-serviceworker\u2464"},{"id":"ref-for-serviceworker\u2465"}],"title":"3.1. ServiceWorker"},{"refs":[{"id":"ref-for-serviceworker\u2466"},{"id":"ref-for-serviceworker\u2467"},{"id":"ref-for-serviceworker\u2468"}],"title":"3.1.1. Getting ServiceWorker instances"},{"refs":[{"id":"ref-for-serviceworker\u2460\u24ea"}],"title":"3.1.6. Event handler"},{"refs":[{"id":"ref-for-serviceworker\u2460\u2460"},{"id":"ref-for-serviceworker\u2460\u2461"},{"id":"ref-for-serviceworker\u2460\u2462"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-serviceworker\u2460\u2463"}],"title":"3.2.2. installing"},{"refs":[{"id":"ref-for-serviceworker\u2460\u2464"}],"title":"3.2.3. waiting"},{"refs":[{"id":"ref-for-serviceworker\u2460\u2465"}],"title":"3.2.4. active"},{"refs":[{"id":"ref-for-serviceworker\u2460\u2466"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-serviceworker\u2460\u2467"},{"id":"ref-for-serviceworker\u2460\u2468"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-serviceworker\u2461\u24ea"},{"id":"ref-for-serviceworker\u2461\u2460"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-serviceworker\u2461\u2461"},{"id":"ref-for-serviceworker\u2461\u2462"}],"title":"4.7. ExtendableMessageEvent"}],"url":"#serviceworker"},
"serviceworkercontainer": {"dfnID":"serviceworkercontainer","dfnText":"ServiceWorkerContainer","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkercontainer"},{"id":"ref-for-serviceworkercontainer\u2460"},{"id":"ref-for-serviceworkercontainer\u2461"}],"title":"3.3. navigator.serviceWorker"},{"refs":[{"id":"ref-for-serviceworkercontainer\u2462"},{"id":"ref-for-serviceworkercontainer\u2463"},{"id":"ref-for-serviceworkercontainer\u2464"},{"id":"ref-for-serviceworkercontainer\u2465"},{"id":"ref-for-serviceworkercontainer\u2466"},{"id":"ref-for-serviceworkercontainer\u2467"},{"id":"ref-for-serviceworkercontainer\u2468"},{"id":"ref-for-serviceworkercontainer\u2460\u24ea"},{"id":"ref-for-serviceworkercontainer\u2460\u2460"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-serviceworkercontainer\u2460\u2461"}],"title":"3.4.7. Event handlers"},{"refs":[{"id":"ref-for-serviceworkercontainer\u2460\u2462"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-serviceworkercontainer\u2460\u2463"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-serviceworkercontainer\u2460\u2464"}],"title":"Activate"},{"refs":[{"id":"ref-for-serviceworkercontainer\u2460\u2465"}],"title":"Notify Controller Change"}],"url":"#serviceworkercontainer"},
"serviceworkercontainer-ready-promise": {"dfnID":"serviceworkercontainer-ready-promise","dfnText":"ready promise","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkercontainer-ready-promise"},{"id":"ref-for-serviceworkercontainer-ready-promise\u2460"},{"id":"ref-for-serviceworkercontainer-ready-promise\u2461"},{"id":"ref-for-serviceworkercontainer-ready-promise\u2462"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-serviceworkercontainer-ready-promise\u2463"}],"title":"Activate"}],"url":"#serviceworkercontainer-ready-promise"},
"serviceworkercontainer-service-worker-client": {"dfnID":"serviceworkercontainer-service-worker-client","dfnText":"service worker client","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkercontainer-service-worker-client"}],"title":"3.4.1. controller"},{"refs":[{"id":"ref-for-serviceworkercontainer-service-worker-client\u2460"}],"title":"3.4.2. ready"},{"refs":[{"id":"ref-for-serviceworkercontainer-service-worker-client\u2461"}],"title":"3.4.3. register(scriptURL, options)"},{"refs":[{"id":"ref-for-serviceworkercontainer-service-worker-client\u2462"}],"title":"3.4.4. getRegistration(clientURL)"},{"refs":[{"id":"ref-for-serviceworkercontainer-service-worker-client\u2463"}],"title":"3.4.5. getRegistrations()"},{"refs":[{"id":"ref-for-serviceworkercontainer-service-worker-client\u2464"},{"id":"ref-for-serviceworkercontainer-service-worker-client\u2465"},{"id":"ref-for-serviceworkercontainer-service-worker-client\u2466"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-serviceworkercontainer-service-worker-client\u2467"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-serviceworkercontainer-service-worker-client\u2468"}],"title":"Notify Controller Change"}],"url":"#serviceworkercontainer-service-worker-client"},
"serviceworkerglobalscope": {"dfnID":"serviceworkerglobalscope","dfnText":"ServiceWorkerGlobalScope","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkerglobalscope"}],"title":"2.1. Service Worker"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2460"},{"id":"ref-for-serviceworkerglobalscope\u2461"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2462"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2463"},{"id":"ref-for-serviceworkerglobalscope\u2464"},{"id":"ref-for-serviceworkerglobalscope\u2465"},{"id":"ref-for-serviceworkerglobalscope\u2466"},{"id":"ref-for-serviceworkerglobalscope\u2467"},{"id":"ref-for-serviceworkerglobalscope\u2468"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2460\u24ea"}],"title":"4.1.5. Event handlers"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2460\u2460"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2460\u2461"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2460\u2462"}],"title":"5.4.4. addAll(requests)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2460\u2463"},{"id":"ref-for-serviceworkerglobalscope\u2460\u2464"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2460\u2465"}],"title":"7.3. Define Event Handler"},{"refs":[{"id":"ref-for-serviceworkerglobalscope\u2460\u2466"},{"id":"ref-for-serviceworkerglobalscope\u2460\u2467"},{"id":"ref-for-serviceworkerglobalscope\u2460\u2468"},{"id":"ref-for-serviceworkerglobalscope\u2461\u24ea"},{"id":"ref-for-serviceworkerglobalscope\u2461\u2460"}],"title":"Setup ServiceWorkerGlobalScope"}],"url":"#serviceworkerglobalscope"},
"serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag": {"dfnID":"serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag","dfnText":"force bypass cache for import scripts flag","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag\u2460"}],"title":"Run Service Worker"}],"url":"#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag"},
"serviceworkerglobalscope-race-response-map": {"dfnID":"serviceworkerglobalscope-race-response-map","dfnText":"race response map","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkerglobalscope-race-response-map"},{"id":"ref-for-serviceworkerglobalscope-race-response-map\u2460"},{"id":"ref-for-serviceworkerglobalscope-race-response-map\u2461"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-race-response-map\u2462"}],"title":"Lookup Race Response"}],"url":"#serviceworkerglobalscope-race-response-map"},
"serviceworkerglobalscope-service-worker": {"dfnID":"serviceworkerglobalscope-service-worker","dfnText":"service worker","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2461"}],"title":"4.1.2. registration"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2462"}],"title":"4.1.3. serviceWorker"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2463"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2464"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2465"}],"title":"4.2.6. postMessage(message, options)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2466"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2467"}],"title":"4.2.11. navigate(url)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2468"}],"title":"4.3.1. get(id)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u24ea"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u2460"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u2461"}],"title":"4.3.3. openWindow(url)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u2462"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u2463"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u2464"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u2465"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u2466"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u2467"}],"title":"4.3.4. claim()"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2460\u2468"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2461\u24ea"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2461\u2460"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2461\u2461"},{"id":"ref-for-serviceworkerglobalscope-service-worker\u2461\u2462"}],"title":"4.8. Events"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2461\u2463"}],"title":"6.3.2. importScripts(urls)"},{"refs":[{"id":"ref-for-serviceworkerglobalscope-service-worker\u2461\u2464"}],"title":"Run Service Worker"}],"url":"#serviceworkerglobalscope-service-worker"},
"serviceworkerregistration": {"dfnID":"serviceworkerregistration","dfnText":"ServiceWorkerRegistration","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkerregistration"}],"title":"2.3.1. Lifetime"},{"refs":[{"id":"ref-for-serviceworkerregistration\u2460"},{"id":"ref-for-serviceworkerregistration\u2461"},{"id":"ref-for-serviceworkerregistration\u2462"}],"title":"3.2. ServiceWorkerRegistration"},{"refs":[{"id":"ref-for-serviceworkerregistration\u2463"},{"id":"ref-for-serviceworkerregistration\u2464"},{"id":"ref-for-serviceworkerregistration\u2465"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-serviceworkerregistration\u2466"}],"title":"3.2.10. Event handler"},{"refs":[{"id":"ref-for-serviceworkerregistration\u2467"},{"id":"ref-for-serviceworkerregistration\u2468"},{"id":"ref-for-serviceworkerregistration\u2460\u24ea"},{"id":"ref-for-serviceworkerregistration\u2460\u2460"}],"title":"3.4. ServiceWorkerContainer"},{"refs":[{"id":"ref-for-serviceworkerregistration\u2460\u2461"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-serviceworkerregistration\u2460\u2462"}],"title":"4.1. ServiceWorkerGlobalScope"},{"refs":[{"id":"ref-for-serviceworkerregistration\u2460\u2463"}],"title":"7.1. Define API bound to Service Worker Registration"},{"refs":[{"id":"ref-for-serviceworkerregistration\u2460\u2464"}],"title":"Install"},{"refs":[{"id":"ref-for-serviceworkerregistration\u2460\u2465"}],"title":"Update Registration State"}],"url":"#serviceworkerregistration"},
"serviceworkerregistration-service-worker-registration": {"dfnID":"serviceworkerregistration-service-worker-registration","dfnText":"service worker registration","external":false,"refSections":[{"refs":[{"id":"ref-for-serviceworkerregistration-service-worker-registration"}],"title":"3.2.1. Getting ServiceWorkerRegistration instances"},{"refs":[{"id":"ref-for-serviceworkerregistration-service-worker-registration\u2460"}],"title":"3.2.5. navigationPreload"},{"refs":[{"id":"ref-for-serviceworkerregistration-service-worker-registration\u2461"}],"title":"3.2.6. scope"},{"refs":[{"id":"ref-for-serviceworkerregistration-service-worker-registration\u2462"}],"title":"3.2.7. updateViaCache"},{"refs":[{"id":"ref-for-serviceworkerregistration-service-worker-registration\u2463"}],"title":"3.2.8. update()"},{"refs":[{"id":"ref-for-serviceworkerregistration-service-worker-registration\u2464"}],"title":"3.2.9. unregister()"},{"refs":[{"id":"ref-for-serviceworkerregistration-service-worker-registration\u2465"}],"title":"3.5. Events"},{"refs":[{"id":"ref-for-serviceworkerregistration-service-worker-registration\u2466"}],"title":"Install"}],"url":"#serviceworkerregistration-service-worker-registration"},
"set-registration": {"dfnID":"set-registration","dfnText":"Set Registration","external":false,"refSections":[{"refs":[{"id":"ref-for-set-registration"}],"title":"Register"}],"url":"#set-registration"},
"setup-serviceworkerglobalscope": {"dfnID":"setup-serviceworkerglobalscope","dfnText":"Setup ServiceWorkerGlobalScope","external":false,"refSections":[{"refs":[{"id":"ref-for-setup-serviceworkerglobalscope"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-setup-serviceworkerglobalscope\u2460"}],"title":"Handle Fetch"}],"url":"#setup-serviceworkerglobalscope"},
"should-skip-event": {"dfnID":"should-skip-event","dfnText":"Should Skip Event","external":false,"refSections":[{"refs":[{"id":"ref-for-should-skip-event"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-should-skip-event\u2460"}],"title":"Install"},{"refs":[{"id":"ref-for-should-skip-event\u2461"}],"title":"Activate"},{"refs":[{"id":"ref-for-should-skip-event\u2462"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-should-skip-event\u2463"}],"title":"Fire Functional Event"}],"url":"#should-skip-event"},
"soft-update": {"dfnID":"soft-update","dfnText":"Soft Update","external":false,"refSections":[{"refs":[{"id":"ref-for-soft-update"}],"title":"Update"},{"refs":[{"id":"ref-for-soft-update\u2460"},{"id":"ref-for-soft-update\u2461"},{"id":"ref-for-soft-update\u2462"}],"title":"Handle Fetch"},{"refs":[{"id":"ref-for-soft-update\u2463"},{"id":"ref-for-soft-update\u2464"},{"id":"ref-for-soft-update\u2465"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-soft-update\u2466"},{"id":"ref-for-soft-update\u2467"},{"id":"ref-for-soft-update\u2468"}],"title":"Fire Functional Event"}],"url":"#soft-update"},
"start-register": {"dfnID":"start-register","dfnText":"Start Register","external":false,"refSections":[{"refs":[{"id":"ref-for-start-register"}],"title":"3.4.3. register(scriptURL, options)"}],"url":"#start-register"},
"terminate-service-worker": {"dfnID":"terminate-service-worker","dfnText":"Terminate Service Worker","external":false,"refSections":[{"refs":[{"id":"ref-for-terminate-service-worker"}],"title":"2.1.1. Lifetime"},{"refs":[{"id":"ref-for-terminate-service-worker\u2460"}],"title":"2.3. Service Worker Registration"},{"refs":[{"id":"ref-for-terminate-service-worker\u2461"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-terminate-service-worker\u2462"}],"title":"Install"},{"refs":[{"id":"ref-for-terminate-service-worker\u2463"}],"title":"Activate"},{"refs":[{"id":"ref-for-terminate-service-worker\u2464"}],"title":"Run Service Worker"},{"refs":[{"id":"ref-for-terminate-service-worker\u2465"}],"title":"Handle Service Worker Client Unload"},{"refs":[{"id":"ref-for-terminate-service-worker\u2466"},{"id":"ref-for-terminate-service-worker\u2467"},{"id":"ref-for-terminate-service-worker\u2468"}],"title":"Clear Registration"}],"url":"#terminate-service-worker"},
"try-activate": {"dfnID":"try-activate","dfnText":"Try Activate","external":false,"refSections":[{"refs":[{"id":"ref-for-try-activate"}],"title":"4.1.4. skipWaiting()"},{"refs":[{"id":"ref-for-try-activate\u2460"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-try-activate\u2461"},{"id":"ref-for-try-activate\u2462"}],"title":"Install"},{"refs":[{"id":"ref-for-try-activate\u2463"}],"title":"Handle Service Worker Client Unload"}],"url":"#try-activate"},
"try-clear-registration": {"dfnID":"try-clear-registration","dfnText":"Try Clear Registration","external":false,"refSections":[{"refs":[{"id":"ref-for-try-clear-registration"}],"title":"4.4. ExtendableEvent"},{"refs":[{"id":"ref-for-try-clear-registration\u2460"}],"title":"Handle Service Worker Client Unload"},{"refs":[{"id":"ref-for-try-clear-registration\u2461"},{"id":"ref-for-try-clear-registration\u2462"}],"title":"Unregister"}],"url":"#try-clear-registration"},
"typedefdef-routersource": {"dfnID":"typedefdef-routersource","dfnText":"RouterSource","external":false,"refSections":[{"refs":[{"id":"ref-for-typedefdef-routersource"}],"title":"4.5. InstallEvent"},{"refs":[{"id":"ref-for-typedefdef-routersource\u2460"}],"title":"Get Router Source"}],"url":"#typedefdef-routersource"},
"unregister": {"dfnID":"unregister","dfnText":"Unregister","external":false,"refSections":[{"refs":[{"id":"ref-for-unregister"}],"title":"Run Job"}],"url":"#unregister"},
"update": {"dfnID":"update","dfnText":"Update","external":false,"refSections":[{"refs":[{"id":"ref-for-update"}],"title":"Run Job"},{"refs":[{"id":"ref-for-update\u2460"}],"title":"Register"},{"refs":[{"id":"ref-for-update\u2461"}],"title":"Update"}],"url":"#update"},
"update-registration-state": {"dfnID":"update-registration-state","dfnText":"Update Registration State","external":false,"refSections":[{"refs":[{"id":"ref-for-update-registration-state"},{"id":"ref-for-update-registration-state\u2460"},{"id":"ref-for-update-registration-state\u2461"},{"id":"ref-for-update-registration-state\u2462"}],"title":"Install"},{"refs":[{"id":"ref-for-update-registration-state\u2463"},{"id":"ref-for-update-registration-state\u2464"}],"title":"Activate"},{"refs":[{"id":"ref-for-update-registration-state\u2465"},{"id":"ref-for-update-registration-state\u2466"},{"id":"ref-for-update-registration-state\u2467"}],"title":"Clear Registration"}],"url":"#update-registration-state"},
"update-service-worker-extended-events-set": {"dfnID":"update-service-worker-extended-events-set","dfnText":"Update Service Worker Extended Events Set","external":false,"refSections":[{"refs":[{"id":"ref-for-update-service-worker-extended-events-set"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-update-service-worker-extended-events-set\u2460"}],"title":"Create Fetch Event and Dispatch"},{"refs":[{"id":"ref-for-update-service-worker-extended-events-set\u2461"}],"title":"Fire Functional Event"}],"url":"#update-service-worker-extended-events-set"},
"update-worker-state": {"dfnID":"update-worker-state","dfnText":"Update Worker State","external":false,"refSections":[{"refs":[{"id":"ref-for-update-worker-state"},{"id":"ref-for-update-worker-state\u2460"},{"id":"ref-for-update-worker-state\u2461"},{"id":"ref-for-update-worker-state\u2462"},{"id":"ref-for-update-worker-state\u2463"}],"title":"Install"},{"refs":[{"id":"ref-for-update-worker-state\u2464"},{"id":"ref-for-update-worker-state\u2465"},{"id":"ref-for-update-worker-state\u2466"}],"title":"Activate"},{"refs":[{"id":"ref-for-update-worker-state\u2467"},{"id":"ref-for-update-worker-state\u2468"},{"id":"ref-for-update-worker-state\u2460\u24ea"}],"title":"Clear Registration"}],"url":"#update-worker-state"},
"verify-router-condition": {"dfnID":"verify-router-condition","dfnText":"Verify Router Condition","external":false,"refSections":[{"refs":[{"id":"ref-for-verify-router-condition"}],"title":"4.5.1. event.addRoutes(rules)"},{"refs":[{"id":"ref-for-verify-router-condition\u2460"},{"id":"ref-for-verify-router-condition\u2461"}],"title":"Verify Router Condition"},{"refs":[{"id":"ref-for-verify-router-condition\u2462"}],"title":"Match Router Condition"}],"url":"#verify-router-condition"},
"windowclient": {"dfnID":"windowclient","dfnText":"WindowClient","external":false,"refSections":[{"refs":[{"id":"ref-for-windowclient"}],"title":"3.1.5. postMessage(message, options)"},{"refs":[{"id":"ref-for-windowclient\u2460"},{"id":"ref-for-windowclient\u2461"},{"id":"ref-for-windowclient\u2462"},{"id":"ref-for-windowclient\u2463"},{"id":"ref-for-windowclient\u2464"},{"id":"ref-for-windowclient\u2465"}],"title":"4.2. Client"},{"refs":[{"id":"ref-for-windowclient\u2466"}],"title":"4.3. Clients"},{"refs":[{"id":"ref-for-windowclient\u2467"},{"id":"ref-for-windowclient\u2468"}],"title":"4.3.2. matchAll(options)"},{"refs":[{"id":"ref-for-windowclient\u2460\u24ea"},{"id":"ref-for-windowclient\u2460\u2460"}],"title":"Create Window Client"}],"url":"#windowclient"},
"windowclient-ancestor-origins-array": {"dfnID":"windowclient-ancestor-origins-array","dfnText":"ancestor origins array","external":false,"refSections":[{"refs":[{"id":"ref-for-windowclient-ancestor-origins-array"}],"title":"4.2.9. ancestorOrigins"},{"refs":[{"id":"ref-for-windowclient-ancestor-origins-array\u2460"}],"title":"Create Window Client"}],"url":"#windowclient-ancestor-origins-array"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-position-annos */
"use strict";
{
function repositionAnnoPanels(){
    const panels = [...document.querySelectorAll("[data-anno-for]")];
    hydratePanels(panels);
    let vSoFar = 0;
    for(const panel of panels.sort(cmpTops)) {
        if(panel.top < vSoFar) {
            panel.top = vSoFar;
            panel.style.top = vSoFar + "px";
        }
        vSoFar = panel.top + panel.height + 15;
    }
}
function hydratePanels(panels) {
    const main = document.querySelector("main");
    let mainRect;
    if(main) mainRect = main.getBoundingClientRect();
    // First display them all, if they're not already visible.
    for(const panel of panels) {
        panel.classList.remove("unpositioned");
    }
    // Measure them all
    for(const panel of panels) {
        const dfn = document.getElementById(panel.getAttribute("data-anno-for"));
        if(!dfn) {
            console.log("Can't find the annotation panel target:", panel);
            continue;
        }
        panel.dfn = dfn;
        panel.top = window.scrollY + dfn.getBoundingClientRect().top;
        let panelRect = panel.getBoundingClientRect();
        panel.height = panelRect.height;
        if(main) {
            panel.overlappingMain = panelRect.left < mainRect.right;
        } else {
            panel.overlappingMain = false;
        }
    }
    // And finally position them
    for(const panel of panels) {
        const dfn = panel.dfn;
        if(!dfn) continue;
        panel.style.top = panel.top + "px";
        panel.classList.toggle("overlapping-main", panel.overlappingMain);
    }
}

function cmpTops(a,b) {
    return a.top - b.top;
}

window.addEventListener("load", repositionAnnoPanels);
window.addEventListener("resize", repositionAnnoPanels);
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#activate": {"displayText":"activate","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"activate","type":"dfn","url":"#activate"},
"#all-fetch-listeners-are-empty": {"displayText":"all fetch listeners are empty","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"all fetch listeners are empty","type":"dfn","url":"#all-fetch-listeners-are-empty"},
"#batch-cache-operations": {"displayText":"batch cache operations","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"batch cache operations","type":"dfn","url":"#batch-cache-operations"},
"#cache": {"displayText":"Cache","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"Cache","type":"interface","url":"#cache"},
"#cachestorage": {"displayText":"CacheStorage","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"CacheStorage","type":"interface","url":"#cachestorage"},
"#cachestorage-global-object": {"displayText":"global object","export":true,"for_":["CacheStorage"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"global object","type":"dfn","url":"#cachestorage-global-object"},
"#check-router-registration-limit": {"displayText":"check router registration limit","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"check router registration limit","type":"dfn","url":"#check-router-registration-limit"},
"#clear-registration": {"displayText":"clear registration","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"clear registration","type":"dfn","url":"#clear-registration"},
"#client": {"displayText":"Client","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"Client","type":"interface","url":"#client"},
"#clients": {"displayText":"Clients","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"Clients","type":"interface","url":"#clients"},
"#count-router-inner-conditions": {"displayText":"count router inner conditions","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"count router inner conditions","type":"dfn","url":"#count-router-inner-conditions"},
"#create-client": {"displayText":"create client","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"create client","type":"dfn","url":"#create-client"},
"#create-fetch-event-and-dispatch": {"displayText":"create fetch event and dispatch","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"create fetch event and dispatch","type":"dfn","url":"#create-fetch-event-and-dispatch"},
"#create-job": {"displayText":"create job","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"create job","type":"dfn","url":"#create-job"},
"#create-window-client": {"displayText":"create window client","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"create window client","type":"dfn","url":"#create-window-client"},
"#dfn-active-worker": {"displayText":"active worker","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"active worker","type":"dfn","url":"#dfn-active-worker"},
"#dfn-bad-import-script-response": {"displayText":"bad import script response","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"bad import script response","type":"dfn","url":"#dfn-bad-import-script-response"},
"#dfn-cache-batch-operation": {"displayText":"cache batch operation","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"cache batch operation","type":"dfn","url":"#dfn-cache-batch-operation"},
"#dfn-cache-batch-operation-options": {"displayText":"options","export":true,"for_":["cache batch operation"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"options","type":"dfn","url":"#dfn-cache-batch-operation-options"},
"#dfn-cache-batch-operation-request": {"displayText":"request","export":true,"for_":["cache batch operation"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"request","type":"dfn","url":"#dfn-cache-batch-operation-request"},
"#dfn-cache-batch-operation-response": {"displayText":"response","export":true,"for_":["cache batch operation"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"response","type":"dfn","url":"#dfn-cache-batch-operation-response"},
"#dfn-cache-batch-operation-type": {"displayText":"type","export":true,"for_":["cache batch operation"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"type","type":"dfn","url":"#dfn-cache-batch-operation-type"},
"#dfn-classic-scripts-imported-flag": {"displayText":"classic scripts imported flag","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"classic scripts imported flag","type":"dfn","url":"#dfn-classic-scripts-imported-flag"},
"#dfn-client-message-queue": {"displayText":"client message queue","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"client message queue","type":"dfn","url":"#dfn-client-message-queue"},
"#dfn-containing-job-queue": {"displayText":"containing job queue","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"containing job queue","type":"dfn","url":"#dfn-containing-job-queue"},
"#dfn-containing-service-worker-registration": {"displayText":"containing service worker registration","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"containing service worker registration","type":"dfn","url":"#dfn-containing-service-worker-registration"},
"#dfn-control": {"displayText":"controlled","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"controlled","type":"dfn","url":"#dfn-control"},
"#dfn-count-router-condition-result": {"displayText":"count router condition result","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"count router condition result","type":"dfn","url":"#dfn-count-router-condition-result"},
"#dfn-count-router-condition-result-condition-count": {"displayText":"condition count","export":true,"for_":["count router condition result"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"condition count","type":"dfn","url":"#dfn-count-router-condition-result-condition-count"},
"#dfn-dedicatedworker-client": {"displayText":"dedicated worker client","export":true,"for_":["service worker client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"dedicated worker client","type":"dfn","url":"#dfn-dedicatedworker-client"},
"#dfn-dfn-count-router-condition-result-quota-exceeded": {"displayText":"quota exceeded","export":true,"for_":["count router condition result"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"quota exceeded","type":"dfn","url":"#dfn-dfn-count-router-condition-result-quota-exceeded"},
"#dfn-functional-events": {"displayText":"functional events","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"functional events","type":"dfn","url":"#dfn-functional-events"},
"#dfn-handle-fetch-task-source": {"displayText":"handle fetch task source","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"handle fetch task source","type":"dfn","url":"#dfn-handle-fetch-task-source"},
"#dfn-handle-functional-event-task-source": {"displayText":"handle functional event task source","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"handle functional event task source","type":"dfn","url":"#dfn-handle-functional-event-task-source"},
"#dfn-has-ever-been-evaluated-flag": {"displayText":"has ever been evaluated flag","export":true,"for_":["script resource"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"has ever been evaluated flag","type":"dfn","url":"#dfn-has-ever-been-evaluated-flag"},
"#dfn-installing-worker": {"displayText":"installing worker","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"installing worker","type":"dfn","url":"#dfn-installing-worker"},
"#dfn-job": {"displayText":"job","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"job","type":"dfn","url":"#dfn-job"},
"#dfn-job-client": {"displayText":"client","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"client","type":"dfn","url":"#dfn-job-client"},
"#dfn-job-equivalent": {"displayText":"equivalent","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"equivalent","type":"dfn","url":"#dfn-job-equivalent"},
"#dfn-job-force-bypass-cache-flag": {"displayText":"force bypass cache flag","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"force bypass cache flag","type":"dfn","url":"#dfn-job-force-bypass-cache-flag"},
"#dfn-job-list-of-equivalent-jobs": {"displayText":"list of equivalent jobs","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"list of equivalent jobs","type":"dfn","url":"#dfn-job-list-of-equivalent-jobs"},
"#dfn-job-promise": {"displayText":"job promise","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"job promise","type":"dfn","url":"#dfn-job-promise"},
"#dfn-job-queue": {"displayText":"job queue","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"job queue","type":"dfn","url":"#dfn-job-queue"},
"#dfn-job-scope-url": {"displayText":"scope url","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"scope url","type":"dfn","url":"#dfn-job-scope-url"},
"#dfn-job-script-url": {"displayText":"script url","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"script url","type":"dfn","url":"#dfn-job-script-url"},
"#dfn-job-type": {"displayText":"job type","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"job type","type":"dfn","url":"#dfn-job-type"},
"#dfn-job-update-via-cache-mode": {"displayText":"update via cache mode","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"update via cache mode","type":"dfn","url":"#dfn-job-update-via-cache-mode"},
"#dfn-job-worker-type": {"displayText":"worker type","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"worker type","type":"dfn","url":"#dfn-job-worker-type"},
"#dfn-last-update-check-time": {"displayText":"last update check time","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"last update check time","type":"dfn","url":"#dfn-last-update-check-time"},
"#dfn-lifecycle-events": {"displayText":"lifecycle events","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"lifecycle events","type":"dfn","url":"#dfn-lifecycle-events"},
"#dfn-name-to-cache-map": {"displayText":"name to cache map","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"name to cache map","type":"dfn","url":"#dfn-name-to-cache-map"},
"#dfn-policy-container": {"displayText":"policy container","export":true,"for_":["script resource"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"policy container","type":"dfn","url":"#dfn-policy-container"},
"#dfn-race-response": {"displayText":"race response","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"race response","type":"dfn","url":"#dfn-race-response"},
"#dfn-race-result": {"displayText":"race result","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"race result","type":"dfn","url":"#dfn-race-result"},
"#dfn-relevant-name-to-cache-map": {"displayText":"relevant name to cache map","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"relevant name to cache map","type":"dfn","url":"#dfn-relevant-name-to-cache-map"},
"#dfn-relevant-request-response-list": {"displayText":"relevant request response list","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"relevant request response list","type":"dfn","url":"#dfn-relevant-request-response-list"},
"#dfn-request-response-list": {"displayText":"request response list","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"request response list","type":"dfn","url":"#dfn-request-response-list"},
"#dfn-scope-to-job-queue-map": {"displayText":"scope to job queue map","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"scope to job queue map","type":"dfn","url":"#dfn-scope-to-job-queue-map"},
"#dfn-scope-to-registration-map": {"displayText":"registration map","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"registration map","type":"dfn","url":"#dfn-scope-to-registration-map"},
"#dfn-scope-url": {"displayText":"scope url","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"scope url","type":"dfn","url":"#dfn-scope-url"},
"#dfn-script-resource": {"displayText":"script resource","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"script resource","type":"dfn","url":"#dfn-script-resource"},
"#dfn-script-resource-map": {"displayText":"script resource map","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"script resource map","type":"dfn","url":"#dfn-script-resource-map"},
"#dfn-script-url": {"displayText":"script url","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"script url","type":"dfn","url":"#dfn-script-url"},
"#dfn-service-worker": {"displayText":"service worker","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker","type":"dfn","url":"#dfn-service-worker"},
"#dfn-service-worker-client": {"displayText":"service worker client","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker client","type":"dfn","url":"#dfn-service-worker-client"},
"#dfn-service-worker-client-browsing-context": {"displayText":"browsing context","export":true,"for_":["WindowClient"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"browsing context","type":"dfn","url":"#dfn-service-worker-client-browsing-context"},
"#dfn-service-worker-client-focusstate": {"displayText":"focus state","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"focus state","type":"dfn","url":"#dfn-service-worker-client-focusstate"},
"#dfn-service-worker-client-frame-type": {"displayText":"frame type","export":true,"for_":["Client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"frame type","type":"dfn","url":"#dfn-service-worker-client-frame-type"},
"#dfn-service-worker-client-service-worker-client": {"displayText":"service worker client","export":true,"for_":["Client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker client","type":"dfn","url":"#dfn-service-worker-client-service-worker-client"},
"#dfn-service-worker-client-visibilitystate": {"displayText":"visibility state","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"visibility state","type":"dfn","url":"#dfn-service-worker-client-visibilitystate"},
"#dfn-service-worker-events": {"displayText":"service worker events","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker events","type":"dfn","url":"#dfn-service-worker-events"},
"#dfn-service-worker-global-object": {"displayText":"global object","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"global object","type":"dfn","url":"#dfn-service-worker-global-object"},
"#dfn-service-worker-registration": {"displayText":"service worker registration","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker registration","type":"dfn","url":"#dfn-service-worker-registration"},
"#dfn-service-worker-registration-task-queue": {"displayText":"task queues","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"task queues","type":"dfn","url":"#dfn-service-worker-registration-task-queue"},
"#dfn-service-worker-registration-unregistered": {"displayText":"unregistered","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"unregistered","type":"dfn","url":"#dfn-service-worker-registration-unregistered"},
"#dfn-set-of-event-types-to-handle": {"displayText":"set of event types to handle","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"set of event types to handle","type":"dfn","url":"#dfn-set-of-event-types-to-handle"},
"#dfn-set-of-extended-events": {"displayText":"set of extended events","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"set of extended events","type":"dfn","url":"#dfn-set-of-extended-events"},
"#dfn-set-of-used-scripts": {"displayText":"set of used scripts","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"set of used scripts","type":"dfn","url":"#dfn-set-of-used-scripts"},
"#dfn-sharedworker-client": {"displayText":"shared worker client","export":true,"for_":["service worker client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"shared worker client","type":"dfn","url":"#dfn-sharedworker-client"},
"#dfn-skip-waiting-flag": {"displayText":"skip waiting flag","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"skip waiting flag","type":"dfn","url":"#dfn-skip-waiting-flag"},
"#dfn-state": {"displayText":"state","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"state","type":"dfn","url":"#dfn-state"},
"#dfn-type": {"displayText":"type","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"type","type":"dfn","url":"#dfn-type"},
"#dfn-update-via-cache": {"displayText":"update via cache mode","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"update via cache mode","type":"dfn","url":"#dfn-update-via-cache"},
"#dfn-use": {"displayText":"using","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"using","type":"dfn","url":"#dfn-use"},
"#dfn-waiting-worker": {"displayText":"waiting worker","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"waiting worker","type":"dfn","url":"#dfn-waiting-worker"},
"#dfn-window-client": {"displayText":"window client","export":true,"for_":["service worker client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"window client","type":"dfn","url":"#dfn-window-client"},
"#dfn-worker-client": {"displayText":"worker client","export":true,"for_":["service worker client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"worker client","type":"dfn","url":"#dfn-worker-client"},
"#dictdef-cachequeryoptions": {"displayText":"CacheQueryOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"CacheQueryOptions","type":"dictionary","url":"#dictdef-cachequeryoptions"},
"#dictdef-clientqueryoptions": {"displayText":"ClientQueryOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ClientQueryOptions","type":"dictionary","url":"#dictdef-clientqueryoptions"},
"#dictdef-extendableeventinit": {"displayText":"ExtendableEventInit","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ExtendableEventInit","type":"dictionary","url":"#dictdef-extendableeventinit"},
"#dictdef-extendablemessageeventinit": {"displayText":"ExtendableMessageEventInit","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ExtendableMessageEventInit","type":"dictionary","url":"#dictdef-extendablemessageeventinit"},
"#dictdef-fetcheventinit": {"displayText":"FetchEventInit","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"FetchEventInit","type":"dictionary","url":"#dictdef-fetcheventinit"},
"#dictdef-multicachequeryoptions": {"displayText":"MultiCacheQueryOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"MultiCacheQueryOptions","type":"dictionary","url":"#dictdef-multicachequeryoptions"},
"#dictdef-navigationpreloadstate": {"displayText":"NavigationPreloadState","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"NavigationPreloadState","type":"dictionary","url":"#dictdef-navigationpreloadstate"},
"#dictdef-registrationoptions": {"displayText":"RegistrationOptions","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"RegistrationOptions","type":"dictionary","url":"#dictdef-registrationoptions"},
"#dictdef-routercondition": {"displayText":"RouterCondition","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"RouterCondition","type":"dictionary","url":"#dictdef-routercondition"},
"#dictdef-routerrule": {"displayText":"RouterRule","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"RouterRule","type":"dictionary","url":"#dictdef-routerrule"},
"#dictdef-routersourcedict": {"displayText":"RouterSourceDict","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"RouterSourceDict","type":"dictionary","url":"#dictdef-routersourcedict"},
"#dom-cache-add": {"displayText":"add(request)","export":true,"for_":["Cache"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"add(request)","type":"method","url":"#dom-cache-add"},
"#dom-cache-addall": {"displayText":"addAll(requests)","export":true,"for_":["Cache"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"addAll(requests)","type":"method","url":"#dom-cache-addall"},
"#dom-cache-delete": {"displayText":"delete(request, options)","export":true,"for_":["Cache"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"delete(request, options)","type":"method","url":"#dom-cache-delete"},
"#dom-cache-keys": {"displayText":"keys(request, options)","export":true,"for_":["Cache"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"keys(request, options)","type":"method","url":"#dom-cache-keys"},
"#dom-cache-match": {"displayText":"match(request, options)","export":true,"for_":["Cache"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"match(request, options)","type":"method","url":"#dom-cache-match"},
"#dom-cache-matchall": {"displayText":"matchAll(request, options)","export":true,"for_":["Cache"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"matchAll(request, options)","type":"method","url":"#dom-cache-matchall"},
"#dom-cache-put": {"displayText":"put(request, response)","export":true,"for_":["Cache"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"put(request, response)","type":"method","url":"#dom-cache-put"},
"#dom-cachequeryoptions-ignoremethod": {"displayText":"ignoreMethod","export":true,"for_":["CacheQueryOptions"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ignoreMethod","type":"dict-member","url":"#dom-cachequeryoptions-ignoremethod"},
"#dom-cachequeryoptions-ignoresearch": {"displayText":"ignoreSearch","export":true,"for_":["CacheQueryOptions"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ignoreSearch","type":"dict-member","url":"#dom-cachequeryoptions-ignoresearch"},
"#dom-cachequeryoptions-ignorevary": {"displayText":"ignoreVary","export":true,"for_":["CacheQueryOptions"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ignoreVary","type":"dict-member","url":"#dom-cachequeryoptions-ignorevary"},
"#dom-cachestorage-delete": {"displayText":"delete(cacheName)","export":true,"for_":["CacheStorage"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"delete(cacheName)","type":"method","url":"#dom-cachestorage-delete"},
"#dom-cachestorage-has": {"displayText":"has(cacheName)","export":true,"for_":["CacheStorage"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"has(cacheName)","type":"method","url":"#dom-cachestorage-has"},
"#dom-cachestorage-keys": {"displayText":"keys()","export":true,"for_":["CacheStorage"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"keys()","type":"method","url":"#dom-cachestorage-keys"},
"#dom-cachestorage-match": {"displayText":"match(request, options)","export":true,"for_":["CacheStorage"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"match(request, options)","type":"method","url":"#dom-cachestorage-match"},
"#dom-cachestorage-open": {"displayText":"open(cacheName)","export":true,"for_":["CacheStorage"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"open(cacheName)","type":"method","url":"#dom-cachestorage-open"},
"#dom-client-frametype": {"displayText":"frameType","export":true,"for_":["Client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"frameType","type":"attribute","url":"#dom-client-frametype"},
"#dom-client-id": {"displayText":"id","export":true,"for_":["Client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"id","type":"attribute","url":"#dom-client-id"},
"#dom-client-postmessage": {"displayText":"postMessage(message, transfer)","export":true,"for_":["Client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"postMessage(message, transfer)","type":"method","url":"#dom-client-postmessage"},
"#dom-client-postmessage-message-options": {"displayText":"postMessage(message, options)","export":true,"for_":["Client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"postMessage(message, options)","type":"method","url":"#dom-client-postmessage-message-options"},
"#dom-client-type": {"displayText":"type","export":true,"for_":["Client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"type","type":"attribute","url":"#dom-client-type"},
"#dom-client-url": {"displayText":"url","export":true,"for_":["Client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"url","type":"attribute","url":"#dom-client-url"},
"#dom-clientqueryoptions-includeuncontrolled": {"displayText":"includeUncontrolled","export":true,"for_":["ClientQueryOptions"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"includeUncontrolled","type":"dict-member","url":"#dom-clientqueryoptions-includeuncontrolled"},
"#dom-clientqueryoptions-type": {"displayText":"type","export":true,"for_":["ClientQueryOptions"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"type","type":"dict-member","url":"#dom-clientqueryoptions-type"},
"#dom-clients-claim": {"displayText":"claim()","export":true,"for_":["Clients"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"claim()","type":"method","url":"#dom-clients-claim"},
"#dom-clients-get": {"displayText":"get(id)","export":true,"for_":["Clients"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"get(id)","type":"method","url":"#dom-clients-get"},
"#dom-clients-matchall": {"displayText":"matchAll(options)","export":true,"for_":["Clients"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"matchAll(options)","type":"method","url":"#dom-clients-matchall"},
"#dom-clients-openwindow": {"displayText":"openWindow(url)","export":true,"for_":["Clients"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"openWindow(url)","type":"method","url":"#dom-clients-openwindow"},
"#dom-clienttype-all": {"displayText":"\"all\"","export":true,"for_":["ClientType"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"all\"","type":"enum-value","url":"#dom-clienttype-all"},
"#dom-clienttype-sharedworker": {"displayText":"\"sharedworker\"","export":true,"for_":["ClientType"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"sharedworker\"","type":"enum-value","url":"#dom-clienttype-sharedworker"},
"#dom-clienttype-window": {"displayText":"\"window\"","export":true,"for_":["ClientType"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"window\"","type":"enum-value","url":"#dom-clienttype-window"},
"#dom-clienttype-worker": {"displayText":"\"worker\"","export":true,"for_":["ClientType"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"worker\"","type":"enum-value","url":"#dom-clienttype-worker"},
"#dom-extendableevent-waituntil": {"displayText":"waitUntil(f)","export":true,"for_":["ExtendableEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"waitUntil(f)","type":"method","url":"#dom-extendableevent-waituntil"},
"#dom-extendablemessageevent-data": {"displayText":"data","export":true,"for_":["ExtendableMessageEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"data","type":"attribute","url":"#dom-extendablemessageevent-data"},
"#dom-extendablemessageevent-lasteventid": {"displayText":"lastEventId","export":true,"for_":["ExtendableMessageEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"lastEventId","type":"attribute","url":"#dom-extendablemessageevent-lasteventid"},
"#dom-extendablemessageevent-origin": {"displayText":"origin","export":true,"for_":["ExtendableMessageEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"origin","type":"attribute","url":"#dom-extendablemessageevent-origin"},
"#dom-extendablemessageevent-ports": {"displayText":"ports","export":true,"for_":["ExtendableMessageEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ports","type":"attribute","url":"#dom-extendablemessageevent-ports"},
"#dom-extendablemessageevent-source": {"displayText":"source","export":true,"for_":["ExtendableMessageEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"source","type":"attribute","url":"#dom-extendablemessageevent-source"},
"#dom-fetchevent-clientid": {"displayText":"clientId","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"clientId","type":"attribute","url":"#dom-fetchevent-clientid"},
"#dom-fetchevent-handled": {"displayText":"handled","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"handled","type":"attribute","url":"#dom-fetchevent-handled"},
"#dom-fetchevent-preloadresponse": {"displayText":"preloadResponse","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"preloadResponse","type":"attribute","url":"#dom-fetchevent-preloadresponse"},
"#dom-fetchevent-replacesclientid": {"displayText":"replacesClientId","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"replacesClientId","type":"attribute","url":"#dom-fetchevent-replacesclientid"},
"#dom-fetchevent-request": {"displayText":"request","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"request","type":"attribute","url":"#dom-fetchevent-request"},
"#dom-fetchevent-respondwith": {"displayText":"respondWith(r)","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"respondWith(r)","type":"method","url":"#dom-fetchevent-respondwith"},
"#dom-fetchevent-resultingclientid": {"displayText":"resultingClientId","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"resultingClientId","type":"attribute","url":"#dom-fetchevent-resultingclientid"},
"#dom-installevent-addroutes": {"displayText":"addRoutes(rules)","export":true,"for_":["InstallEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"addRoutes(rules)","type":"method","url":"#dom-installevent-addroutes"},
"#dom-multicachequeryoptions-cachename": {"displayText":"cacheName","export":true,"for_":["MultiCacheQueryOptions"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"cacheName","type":"dict-member","url":"#dom-multicachequeryoptions-cachename"},
"#dom-navigationpreloadmanager-disable": {"displayText":"disable()","export":true,"for_":["NavigationPreloadManager"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"disable()","type":"method","url":"#dom-navigationpreloadmanager-disable"},
"#dom-navigationpreloadmanager-enable": {"displayText":"enable()","export":true,"for_":["NavigationPreloadManager"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"enable()","type":"method","url":"#dom-navigationpreloadmanager-enable"},
"#dom-navigationpreloadmanager-getstate": {"displayText":"getState()","export":true,"for_":["NavigationPreloadManager"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"getState()","type":"method","url":"#dom-navigationpreloadmanager-getstate"},
"#dom-navigationpreloadmanager-setheadervalue": {"displayText":"setHeaderValue(value)","export":true,"for_":["NavigationPreloadManager"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"setHeaderValue(value)","type":"method","url":"#dom-navigationpreloadmanager-setheadervalue"},
"#dom-navigationpreloadstate-enabled": {"displayText":"enabled","export":true,"for_":["NavigationPreloadState"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"enabled","type":"dict-member","url":"#dom-navigationpreloadstate-enabled"},
"#dom-navigationpreloadstate-headervalue": {"displayText":"headerValue","export":true,"for_":["NavigationPreloadState"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"headerValue","type":"dict-member","url":"#dom-navigationpreloadstate-headervalue"},
"#dom-registrationoptions-scope": {"displayText":"scope","export":true,"for_":["RegistrationOptions"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"scope","type":"dict-member","url":"#dom-registrationoptions-scope"},
"#dom-registrationoptions-type": {"displayText":"type","export":true,"for_":["RegistrationOptions"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"type","type":"dict-member","url":"#dom-registrationoptions-type"},
"#dom-registrationoptions-updateviacache": {"displayText":"updateViaCache","export":true,"for_":["RegistrationOptions"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"updateViaCache","type":"dict-member","url":"#dom-registrationoptions-updateviacache"},
"#dom-routercondition-not": {"displayText":"not","export":true,"for_":["RouterCondition"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"not","type":"dict-member","url":"#dom-routercondition-not"},
"#dom-routercondition-or": {"displayText":"or","export":true,"for_":["RouterCondition"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"or","type":"dict-member","url":"#dom-routercondition-or"},
"#dom-routercondition-requestdestination": {"displayText":"requestDestination","export":true,"for_":["RouterCondition"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"requestDestination","type":"dict-member","url":"#dom-routercondition-requestdestination"},
"#dom-routercondition-requestmethod": {"displayText":"requestMethod","export":true,"for_":["RouterCondition"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"requestMethod","type":"dict-member","url":"#dom-routercondition-requestmethod"},
"#dom-routercondition-requestmode": {"displayText":"requestMode","export":true,"for_":["RouterCondition"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"requestMode","type":"dict-member","url":"#dom-routercondition-requestmode"},
"#dom-routercondition-runningstatus": {"displayText":"runningStatus","export":true,"for_":["RouterCondition"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"runningStatus","type":"dict-member","url":"#dom-routercondition-runningstatus"},
"#dom-routercondition-urlpattern": {"displayText":"urlPattern","export":true,"for_":["RouterCondition"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"urlPattern","type":"dict-member","url":"#dom-routercondition-urlpattern"},
"#dom-routerrule-condition": {"displayText":"condition","export":true,"for_":["RouterRule"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"condition","type":"dict-member","url":"#dom-routerrule-condition"},
"#dom-routerrule-source": {"displayText":"source","export":true,"for_":["RouterRule"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"source","type":"dict-member","url":"#dom-routerrule-source"},
"#dom-routersourcedict-cachename": {"displayText":"cacheName","export":true,"for_":["RouterSourceDict"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"cacheName","type":"dict-member","url":"#dom-routersourcedict-cachename"},
"#dom-routersourceenum-cache": {"displayText":"\"cache\"","export":true,"for_":["RouterSourceEnum"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"cache\"","type":"enum-value","url":"#dom-routersourceenum-cache"},
"#dom-routersourceenum-fetch-event": {"displayText":"\"fetch-event\"","export":true,"for_":["RouterSourceEnum"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"fetch-event\"","type":"enum-value","url":"#dom-routersourceenum-fetch-event"},
"#dom-routersourceenum-network": {"displayText":"\"network\"","export":true,"for_":["RouterSourceEnum"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"network\"","type":"enum-value","url":"#dom-routersourceenum-network"},
"#dom-routersourceenum-race-network-and-fetch-handler": {"displayText":"\"race-network-and-fetch-handler\"","export":true,"for_":["RouterSourceEnum"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"race-network-and-fetch-handler\"","type":"enum-value","url":"#dom-routersourceenum-race-network-and-fetch-handler"},
"#dom-runningstatus-not-running": {"displayText":"\"not-running\"","export":true,"for_":["RunningStatus"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"not-running\"","type":"enum-value","url":"#dom-runningstatus-not-running"},
"#dom-runningstatus-running": {"displayText":"\"running\"","export":true,"for_":["RunningStatus"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"\"running\"","type":"enum-value","url":"#dom-runningstatus-running"},
"#dom-serviceworker-onstatechange": {"displayText":"onstatechange","export":true,"for_":["ServiceWorker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"onstatechange","type":"attribute","url":"#dom-serviceworker-onstatechange"},
"#dom-serviceworker-postmessage": {"displayText":"postMessage(message, transfer)","export":true,"for_":["ServiceWorker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"postMessage(message, transfer)","type":"method","url":"#dom-serviceworker-postmessage"},
"#dom-serviceworker-postmessage-message-options": {"displayText":"postMessage(message, options)","export":true,"for_":["ServiceWorker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"postMessage(message, options)","type":"method","url":"#dom-serviceworker-postmessage-message-options"},
"#dom-serviceworker-scripturl": {"displayText":"scriptURL","export":true,"for_":["ServiceWorker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"scriptURL","type":"attribute","url":"#dom-serviceworker-scripturl"},
"#dom-serviceworker-state": {"displayText":"state","export":true,"for_":["ServiceWorker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"state","type":"attribute","url":"#dom-serviceworker-state"},
"#dom-serviceworkercontainer-controller": {"displayText":"controller","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"controller","type":"attribute","url":"#dom-serviceworkercontainer-controller"},
"#dom-serviceworkercontainer-getregistration": {"displayText":"getRegistration(clientURL)","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"getRegistration(clientURL)","type":"method","url":"#dom-serviceworkercontainer-getregistration"},
"#dom-serviceworkercontainer-getregistrations": {"displayText":"getRegistrations()","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"getRegistrations()","type":"method","url":"#dom-serviceworkercontainer-getregistrations"},
"#dom-serviceworkercontainer-oncontrollerchange": {"displayText":"oncontrollerchange","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"oncontrollerchange","type":"attribute","url":"#dom-serviceworkercontainer-oncontrollerchange"},
"#dom-serviceworkercontainer-onmessage": {"displayText":"onmessage","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"onmessage","type":"attribute","url":"#dom-serviceworkercontainer-onmessage"},
"#dom-serviceworkercontainer-onmessageerror": {"displayText":"onmessageerror","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"onmessageerror","type":"attribute","url":"#dom-serviceworkercontainer-onmessageerror"},
"#dom-serviceworkercontainer-ready": {"displayText":"ready","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ready","type":"attribute","url":"#dom-serviceworkercontainer-ready"},
"#dom-serviceworkercontainer-register": {"displayText":"register(scriptURL, options)","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"register(scriptURL, options)","type":"method","url":"#dom-serviceworkercontainer-register"},
"#dom-serviceworkercontainer-startmessages": {"displayText":"startMessages()","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"startMessages()","type":"method","url":"#dom-serviceworkercontainer-startmessages"},
"#dom-serviceworkerglobalscope-clients": {"displayText":"clients","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"clients","type":"attribute","url":"#dom-serviceworkerglobalscope-clients"},
"#dom-serviceworkerglobalscope-onactivate": {"displayText":"onactivate","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"onactivate","type":"attribute","url":"#dom-serviceworkerglobalscope-onactivate"},
"#dom-serviceworkerglobalscope-onfetch": {"displayText":"onfetch","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"onfetch","type":"attribute","url":"#dom-serviceworkerglobalscope-onfetch"},
"#dom-serviceworkerglobalscope-oninstall": {"displayText":"oninstall","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"oninstall","type":"attribute","url":"#dom-serviceworkerglobalscope-oninstall"},
"#dom-serviceworkerglobalscope-onmessage": {"displayText":"onmessage","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"onmessage","type":"attribute","url":"#dom-serviceworkerglobalscope-onmessage"},
"#dom-serviceworkerglobalscope-onmessageerror": {"displayText":"onmessageerror","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"onmessageerror","type":"attribute","url":"#dom-serviceworkerglobalscope-onmessageerror"},
"#dom-serviceworkerglobalscope-registration": {"displayText":"registration","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"registration","type":"attribute","url":"#dom-serviceworkerglobalscope-registration"},
"#dom-serviceworkerglobalscope-serviceworker": {"displayText":"serviceWorker","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"serviceWorker","type":"attribute","url":"#dom-serviceworkerglobalscope-serviceworker"},
"#dom-serviceworkerglobalscope-skipwaiting": {"displayText":"skipWaiting()","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"skipWaiting()","type":"method","url":"#dom-serviceworkerglobalscope-skipwaiting"},
"#dom-serviceworkerregistration-active": {"displayText":"active","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"active","type":"attribute","url":"#dom-serviceworkerregistration-active"},
"#dom-serviceworkerregistration-installing": {"displayText":"installing","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"installing","type":"attribute","url":"#dom-serviceworkerregistration-installing"},
"#dom-serviceworkerregistration-navigationpreload": {"displayText":"navigationPreload","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"navigationPreload","type":"attribute","url":"#dom-serviceworkerregistration-navigationpreload"},
"#dom-serviceworkerregistration-onupdatefound": {"displayText":"onupdatefound","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"onupdatefound","type":"attribute","url":"#dom-serviceworkerregistration-onupdatefound"},
"#dom-serviceworkerregistration-scope": {"displayText":"scope","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"scope","type":"attribute","url":"#dom-serviceworkerregistration-scope"},
"#dom-serviceworkerregistration-unregister": {"displayText":"unregister()","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"unregister()","type":"method","url":"#dom-serviceworkerregistration-unregister"},
"#dom-serviceworkerregistration-update": {"displayText":"update()","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"update()","type":"method","url":"#dom-serviceworkerregistration-update"},
"#dom-serviceworkerregistration-updateviacache": {"displayText":"updateViaCache","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"updateViaCache","type":"attribute","url":"#dom-serviceworkerregistration-updateviacache"},
"#dom-serviceworkerregistration-waiting": {"displayText":"waiting","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"waiting","type":"attribute","url":"#dom-serviceworkerregistration-waiting"},
"#dom-windowclient-ancestororigins": {"displayText":"ancestorOrigins","export":true,"for_":["WindowClient"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ancestorOrigins","type":"attribute","url":"#dom-windowclient-ancestororigins"},
"#dom-windowclient-focus": {"displayText":"focus()","export":true,"for_":["WindowClient"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"focus()","type":"method","url":"#dom-windowclient-focus"},
"#dom-windowclient-focused": {"displayText":"focused","export":true,"for_":["WindowClient"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"focused","type":"attribute","url":"#dom-windowclient-focused"},
"#dom-windowclient-navigate": {"displayText":"navigate(url)","export":true,"for_":["WindowClient"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"navigate(url)","type":"method","url":"#dom-windowclient-navigate"},
"#dom-windowclient-visibilitystate": {"displayText":"visibilityState","export":true,"for_":["WindowClient"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"visibilityState","type":"attribute","url":"#dom-windowclient-visibilitystate"},
"#enumdef-clienttype": {"displayText":"ClientType","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ClientType","type":"enum","url":"#enumdef-clienttype"},
"#enumdef-frametype": {"displayText":"FrameType","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"FrameType","type":"enum","url":"#enumdef-frametype"},
"#enumdef-routersourceenum": {"displayText":"RouterSourceEnum","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"RouterSourceEnum","type":"enum","url":"#enumdef-routersourceenum"},
"#enumdef-runningstatus": {"displayText":"RunningStatus","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"RunningStatus","type":"enum","url":"#enumdef-runningstatus"},
"#enumdef-serviceworkerstate": {"displayText":"ServiceWorkerState","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ServiceWorkerState","type":"enum","url":"#enumdef-serviceworkerstate"},
"#enumdef-serviceworkerupdateviacache": {"displayText":"ServiceWorkerUpdateViaCache","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ServiceWorkerUpdateViaCache","type":"enum","url":"#enumdef-serviceworkerupdateviacache"},
"#environment-settings-object-service-worker-object-map": {"displayText":"service worker object map","export":true,"for_":["environment settings object"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker object map","type":"dfn","url":"#environment-settings-object-service-worker-object-map"},
"#environment-settings-object-service-worker-registration-object-map": {"displayText":"service worker registration object map","export":true,"for_":["environment settings object"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker registration object map","type":"dfn","url":"#environment-settings-object-service-worker-registration-object-map"},
"#eventdef-serviceworker-statechange": {"displayText":"statechange","export":true,"for_":["ServiceWorker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"statechange","type":"event","url":"#eventdef-serviceworker-statechange"},
"#eventdef-serviceworkerglobalscope-message": {"displayText":"message","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"message","type":"event","url":"#eventdef-serviceworkerglobalscope-message"},
"#eventdef-serviceworkerglobalscope-messageerror": {"displayText":"messageerror","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"messageerror","type":"event","url":"#eventdef-serviceworkerglobalscope-messageerror"},
"#extendableevent": {"displayText":"ExtendableEvent","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ExtendableEvent","type":"interface","url":"#extendableevent"},
"#extendableevent-active": {"displayText":"active","export":true,"for_":["ExtendableEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"active","type":"dfn","url":"#extendableevent-active"},
"#extendableevent-add-lifetime-promise": {"displayText":"add lifetime promise","export":true,"for_":["ExtendableEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"add lifetime promise","type":"dfn","url":"#extendableevent-add-lifetime-promise"},
"#extendableevent-extend-lifetime-promises": {"displayText":"extend lifetime promises","export":true,"for_":["ExtendableEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"extend lifetime promises","type":"dfn","url":"#extendableevent-extend-lifetime-promises"},
"#extendableevent-pending-promises-count": {"displayText":"pending promises count","export":true,"for_":["ExtendableEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"pending promises count","type":"dfn","url":"#extendableevent-pending-promises-count"},
"#extendableevent-timed-out-flag": {"displayText":"timed out flag","export":true,"for_":["ExtendableEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"timed out flag","type":"dfn","url":"#extendableevent-timed-out-flag"},
"#extendablemessageevent": {"displayText":"ExtendableMessageEvent","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ExtendableMessageEvent","type":"interface","url":"#extendablemessageevent"},
"#fetchevent": {"displayText":"FetchEvent","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"FetchEvent","type":"interface","url":"#fetchevent"},
"#fetchevent-potential-response": {"displayText":"potential response","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"potential response","type":"dfn","url":"#fetchevent-potential-response"},
"#fetchevent-respond-with-entered-flag": {"displayText":"respond-with entered flag","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"respond-with entered flag","type":"dfn","url":"#fetchevent-respond-with-entered-flag"},
"#fetchevent-respond-with-error-flag": {"displayText":"respond-with error flag","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"respond-with error flag","type":"dfn","url":"#fetchevent-respond-with-error-flag"},
"#fetchevent-wait-to-respond-flag": {"displayText":"wait to respond flag","export":true,"for_":["FetchEvent"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"wait to respond flag","type":"dfn","url":"#fetchevent-wait-to-respond-flag"},
"#finish-job": {"displayText":"finish job","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"finish job","type":"dfn","url":"#finish-job"},
"#fire-functional-event": {"displayText":"fire functional event","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"fire functional event","type":"dfn","url":"#fire-functional-event"},
"#get-frame-type": {"displayText":"get frame type","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"get frame type","type":"dfn","url":"#get-frame-type"},
"#get-newest-worker": {"displayText":"get newest worker","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"get newest worker","type":"dfn","url":"#get-newest-worker"},
"#get-registration": {"displayText":"get registration","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"get registration","type":"dfn","url":"#get-registration"},
"#get-router-source": {"displayText":"get router source","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"get router source","type":"dfn","url":"#get-router-source"},
"#get-the-service-worker-object": {"displayText":"getting the service worker object","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"getting the service worker object","type":"dfn","url":"#get-the-service-worker-object"},
"#get-the-service-worker-registration-object": {"displayText":"getting the service worker registration object","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"getting the service worker registration object","type":"dfn","url":"#get-the-service-worker-registration-object"},
"#global-caches-attribute": {"displayText":"caches","export":true,"for_":["WindowOrWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"caches","type":"attribute","url":"#global-caches-attribute"},
"#handle-fetch": {"displayText":"handle fetch","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"handle fetch","type":"dfn","url":"#handle-fetch"},
"#handle-service-worker-client-unload": {"displayText":"handle service worker client unload","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"handle service worker client unload","type":"dfn","url":"#handle-service-worker-client-unload"},
"#handle-user-agent-shutdown": {"displayText":"handle user agent shutdown","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"handle user agent shutdown","type":"dfn","url":"#handle-user-agent-shutdown"},
"#importscripts-method": {"displayText":"importScripts(urls)","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"importScripts(urls)","type":"method","url":"#importscripts-method"},
"#install": {"displayText":"install","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"install","type":"dfn","url":"#install"},
"#installevent": {"displayText":"InstallEvent","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"InstallEvent","type":"interface","url":"#installevent"},
"#is-async-module": {"displayText":"is async module","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"is async module","type":"dfn","url":"#is-async-module"},
"#job-referrer": {"displayText":"referrer","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"referrer","type":"dfn","url":"#job-referrer"},
"#job-storage-key": {"displayText":"storage key","export":true,"for_":["job"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"storage key","type":"dfn","url":"#job-storage-key"},
"#match-router-condition": {"displayText":"match router condition","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"match router condition","type":"dfn","url":"#match-router-condition"},
"#match-service-worker-registration": {"displayText":"match service worker registration","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"match service worker registration","type":"dfn","url":"#match-service-worker-registration"},
"#navigationpreloadmanager": {"displayText":"NavigationPreloadManager","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"NavigationPreloadManager","type":"interface","url":"#navigationpreloadmanager"},
"#navigator-service-worker-attribute": {"displayText":"serviceWorker","export":true,"for_":["Navigator","WorkerNavigator"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"serviceWorker","type":"attribute","url":"#navigator-service-worker-attribute"},
"#notify-controller-change": {"displayText":"notify controller change","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"notify controller change","type":"dfn","url":"#notify-controller-change"},
"#parse-url-pattern": {"displayText":"parse url pattern","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"parse url pattern","type":"dfn","url":"#parse-url-pattern"},
"#query-cache": {"displayText":"query cache","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"query cache","type":"dfn","url":"#query-cache"},
"#race-response-value": {"displayText":"value","export":true,"for_":["race response"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"value","type":"dfn","url":"#race-response-value"},
"#race-result-routed-response": {"displayText":"routed response","export":true,"for_":["race result"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"routed response","type":"dfn","url":"#race-result-routed-response"},
"#race-result-used-route": {"displayText":"used route","export":true,"for_":["race result"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"used route","type":"dfn","url":"#race-result-used-route"},
"#register": {"displayText":"register","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"register","type":"dfn","url":"#register"},
"#reject-job-promise": {"displayText":"reject job promise","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"reject job promise","type":"dfn","url":"#reject-job-promise"},
"#request-matches-cached-item": {"displayText":"request matches cached item","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"request matches cached item","type":"dfn","url":"#request-matches-cached-item"},
"#resolve-get-client-promise": {"displayText":"resolve get client promise","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"resolve get client promise","type":"dfn","url":"#resolve-get-client-promise"},
"#resolve-job-promise": {"displayText":"resolve job promise","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"resolve job promise","type":"dfn","url":"#resolve-job-promise"},
"#run-job": {"displayText":"run job","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"run job","type":"dfn","url":"#run-job"},
"#run-service-worker": {"displayText":"run service worker","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"run service worker","type":"dfn","url":"#run-service-worker"},
"#schedule-job": {"displayText":"schedule job","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"schedule job","type":"dfn","url":"#schedule-job"},
"#service-worker": {"displayText":"service-worker","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service-worker","type":"dfn","url":"#service-worker"},
"#service-worker-all-fetch-listeners-are-empty-flag": {"displayText":"all fetch listeners are empty flag","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"all fetch listeners are empty flag","type":"dfn","url":"#service-worker-all-fetch-listeners-are-empty-flag"},
"#service-worker-allowed": {"displayText":"service-worker-allowed","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service-worker-allowed","type":"dfn","url":"#service-worker-allowed"},
"#service-worker-client-discarded-flag": {"displayText":"discarded flag","export":true,"for_":["service worker client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"discarded flag","type":"dfn","url":"#service-worker-client-discarded-flag"},
"#service-worker-client-origin": {"displayText":"origin","export":true,"for_":["service worker client"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"origin","type":"dfn","url":"#service-worker-client-origin"},
"#service-worker-container-controllerchange-event": {"displayText":"controllerchange","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"controllerchange","type":"event","url":"#service-worker-container-controllerchange-event"},
"#service-worker-container-message-event": {"displayText":"message","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"message","type":"event","url":"#service-worker-container-message-event"},
"#service-worker-container-messageerror-event": {"displayText":"messageerror","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"messageerror","type":"event","url":"#service-worker-container-messageerror-event"},
"#service-worker-global-scope-activate-event": {"displayText":"activate","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"activate","type":"event","url":"#service-worker-global-scope-activate-event"},
"#service-worker-global-scope-fetch-event": {"displayText":"fetch","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"fetch","type":"event","url":"#service-worker-global-scope-fetch-event"},
"#service-worker-global-scope-install-event": {"displayText":"install","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"install","type":"event","url":"#service-worker-global-scope-install-event"},
"#service-worker-has-no-pending-events": {"displayText":"service worker has no pending events","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker has no pending events","type":"dfn","url":"#service-worker-has-no-pending-events"},
"#service-worker-list-of-router-rules": {"displayText":"list of router rules","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"list of router rules","type":"dfn","url":"#service-worker-list-of-router-rules"},
"#service-worker-registration-navigation-preload-enabled-flag": {"displayText":"navigation preload enabled flag","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"navigation preload enabled flag","type":"dfn","url":"#service-worker-registration-navigation-preload-enabled-flag"},
"#service-worker-registration-navigation-preload-header-value": {"displayText":"navigation preload header value","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"navigation preload header value","type":"dfn","url":"#service-worker-registration-navigation-preload-header-value"},
"#service-worker-registration-stale": {"displayText":"stale","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"stale","type":"dfn","url":"#service-worker-registration-stale"},
"#service-worker-registration-storage-key": {"displayText":"storage key","export":true,"for_":["service worker registration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"storage key","type":"dfn","url":"#service-worker-registration-storage-key"},
"#service-worker-registration-updatefound-event": {"displayText":"updatefound","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"updatefound","type":"event","url":"#service-worker-registration-updatefound-event"},
"#service-worker-running": {"displayText":"running","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"running","type":"dfn","url":"#service-worker-running"},
"#service-worker-service-worker-queue": {"displayText":"[[service worker queue]]","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"[[service worker queue]]","type":"dfn","url":"#service-worker-service-worker-queue"},
"#service-worker-start-status": {"displayText":"start status","export":true,"for_":["service worker"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"start status","type":"dfn","url":"#service-worker-start-status"},
"#service-worker-timing-info": {"displayText":"service worker timing info","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker timing info","type":"dfn","url":"#service-worker-timing-info"},
"#service-worker-timing-info-fetch-event-dispatch-time": {"displayText":"fetch event dispatch time","export":true,"for_":["service worker timing info"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"fetch event dispatch time","type":"dfn","url":"#service-worker-timing-info-fetch-event-dispatch-time"},
"#service-worker-timing-info-start-time": {"displayText":"start time","export":true,"for_":["service worker timing info"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"start time","type":"dfn","url":"#service-worker-timing-info-start-time"},
"#service-worker-timing-info-worker-cache-lookup-start": {"displayText":"worker cache lookup start","export":true,"for_":["service worker timing info"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"worker cache lookup start","type":"dfn","url":"#service-worker-timing-info-worker-cache-lookup-start"},
"#service-worker-timing-info-worker-final-router-source": {"displayText":"worker final router source","export":true,"for_":["service worker timing info"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"worker final router source","type":"dfn","url":"#service-worker-timing-info-worker-final-router-source"},
"#service-worker-timing-info-worker-matched-router-source": {"displayText":"worker matched router source","export":true,"for_":["service worker timing info"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"worker matched router source","type":"dfn","url":"#service-worker-timing-info-worker-matched-router-source"},
"#service-worker-timing-info-worker-router-evaluation-start": {"displayText":"worker router evaluation start","export":true,"for_":["service worker timing info"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"worker router evaluation start","type":"dfn","url":"#service-worker-timing-info-worker-router-evaluation-start"},
"#serviceworker": {"displayText":"ServiceWorker","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ServiceWorker","type":"interface","url":"#serviceworker"},
"#serviceworkercontainer": {"displayText":"ServiceWorkerContainer","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ServiceWorkerContainer","type":"interface","url":"#serviceworkercontainer"},
"#serviceworkercontainer-ready-promise": {"displayText":"ready promise","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ready promise","type":"dfn","url":"#serviceworkercontainer-ready-promise"},
"#serviceworkercontainer-service-worker-client": {"displayText":"service worker client","export":true,"for_":["ServiceWorkerContainer"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker client","type":"dfn","url":"#serviceworkercontainer-service-worker-client"},
"#serviceworkerglobalscope": {"displayText":"ServiceWorkerGlobalScope","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ServiceWorkerGlobalScope","type":"interface","url":"#serviceworkerglobalscope"},
"#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag": {"displayText":"force bypass cache for import scripts flag","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"force bypass cache for import scripts flag","type":"dfn","url":"#serviceworkerglobalscope-force-bypass-cache-for-import-scripts-flag"},
"#serviceworkerglobalscope-race-response-map": {"displayText":"race response map","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"race response map","type":"dfn","url":"#serviceworkerglobalscope-race-response-map"},
"#serviceworkerglobalscope-service-worker": {"displayText":"service worker","export":true,"for_":["ServiceWorkerGlobalScope"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker","type":"dfn","url":"#serviceworkerglobalscope-service-worker"},
"#serviceworkerregistration": {"displayText":"ServiceWorkerRegistration","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ServiceWorkerRegistration","type":"interface","url":"#serviceworkerregistration"},
"#serviceworkerregistration-service-worker-registration": {"displayText":"service worker registration","export":true,"for_":["ServiceWorkerRegistration"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"service worker registration","type":"dfn","url":"#serviceworkerregistration-service-worker-registration"},
"#set-registration": {"displayText":"set registration","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"set registration","type":"dfn","url":"#set-registration"},
"#setup-serviceworkerglobalscope": {"displayText":"setup serviceworkerglobalscope","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"setup serviceworkerglobalscope","type":"dfn","url":"#setup-serviceworkerglobalscope"},
"#should-skip-event": {"displayText":"should skip event","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"should skip event","type":"dfn","url":"#should-skip-event"},
"#soft-update": {"displayText":"soft update","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"soft update","type":"dfn","url":"#soft-update"},
"#start-register": {"displayText":"start register","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"start register","type":"dfn","url":"#start-register"},
"#terminate-service-worker": {"displayText":"terminate service worker","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"terminate service worker","type":"dfn","url":"#terminate-service-worker"},
"#try-activate": {"displayText":"try activate","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"try activate","type":"dfn","url":"#try-activate"},
"#try-clear-registration": {"displayText":"try clear registration","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"try clear registration","type":"dfn","url":"#try-clear-registration"},
"#typedefdef-routersource": {"displayText":"RouterSource","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"RouterSource","type":"typedef","url":"#typedefdef-routersource"},
"#unregister": {"displayText":"unregister","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"unregister","type":"dfn","url":"#unregister"},
"#update": {"displayText":"update","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"update","type":"dfn","url":"#update"},
"#update-registration-state": {"displayText":"update registration state","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"update registration state","type":"dfn","url":"#update-registration-state"},
"#update-service-worker-extended-events-set": {"displayText":"update service worker extended events set","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"update service worker extended events set","type":"dfn","url":"#update-service-worker-extended-events-set"},
"#update-worker-state": {"displayText":"update worker state","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"update worker state","type":"dfn","url":"#update-worker-state"},
"#verify-router-condition": {"displayText":"verify router condition","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"verify router condition","type":"dfn","url":"#verify-router-condition"},
"#windowclient": {"displayText":"WindowClient","export":true,"for_":[],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"WindowClient","type":"interface","url":"#windowclient"},
"#windowclient-ancestor-origins-array": {"displayText":"ancestor origins array","export":true,"for_":["WindowClient"],"level":"","normative":true,"shortname":"service-workers","spec":"service-workers","status":"local","text":"ancestor origins array","type":"dfn","url":"#windowclient-ancestor-origins-array"},
"03b441c0_https://tc39.es/ecma262/#sec-completion-record-specification-type": {"displayText":"abrupt completion","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"abrupt completion","type":"dfn","url":"https://tc39.es/ecma262/#sec-completion-record-specification-type"},
"b5a40239_https://tc39.es/ecma262/#sec-ecmascript-language-statements-and-declarations": {"displayText":"declaration","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"declaration","type":"dfn","url":"https://tc39.es/ecma262/#sec-ecmascript-language-statements-and-declarations"},
"d7e375d3_https://html.spec.whatwg.org/multipage/interaction.html#page-visibility": {"displayText":"visibilityState","export":true,"for_":["Document"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"visibilityState","type":"attribute","url":"https://html.spec.whatwg.org/multipage/interaction.html#page-visibility"},
"https://datatracker.ietf.org/doc/html/rfc7230#section-3.2": {"displayText":"field-value","export":true,"for_":["http"],"level":"","normative":true,"shortname":"rfc7230","spec":"rfc7230","status":"anchor-block","text":"field-value","type":"dfn","url":"https://datatracker.ietf.org/doc/html/rfc7230#section-3.2"},
"https://datatracker.ietf.org/doc/html/rfc7231#section-7.1.4": {"displayText":"Vary","export":true,"for_":[],"level":"","normative":true,"shortname":"rfc7231","spec":"rfc7231","status":"anchor-block","text":"vary","type":"dfn","url":"https://datatracker.ietf.org/doc/html/rfc7231#section-7.1.4"},
"https://dom.spec.whatwg.org/#abortcontroller": {"displayText":"AbortController","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"AbortController","type":"interface","url":"https://dom.spec.whatwg.org/#abortcontroller"},
"https://dom.spec.whatwg.org/#abortcontroller-signal": {"displayText":"signal","export":true,"for_":["AbortController"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"signal","type":"dfn","url":"https://dom.spec.whatwg.org/#abortcontroller-signal"},
"https://dom.spec.whatwg.org/#abortcontroller-signal-abort": {"displayText":"signal abort","export":true,"for_":["AbortController"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"signal abort","type":"dfn","url":"https://dom.spec.whatwg.org/#abortcontroller-signal-abort"},
"https://dom.spec.whatwg.org/#canceled-flag": {"displayText":"canceled flag","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"canceled flag","type":"dfn","url":"https://dom.spec.whatwg.org/#canceled-flag"},
"https://dom.spec.whatwg.org/#concept-document": {"displayText":"document","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"document","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-document"},
"https://dom.spec.whatwg.org/#concept-event": {"displayText":"event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"event","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event"},
"https://dom.spec.whatwg.org/#concept-event-create": {"displayText":"creating an event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"creating an event","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-create"},
"https://dom.spec.whatwg.org/#concept-event-dispatch": {"displayText":"dispatch","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"dispatch","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-dispatch"},
"https://dom.spec.whatwg.org/#concept-event-fire": {"displayText":"fire an event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"fire an event","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-fire"},
"https://dom.spec.whatwg.org/#concept-event-listener": {"displayText":"event listener","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"event listener","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-listener"},
"https://dom.spec.whatwg.org/#dictdef-eventinit": {"displayText":"EventInit","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventInit","type":"dictionary","url":"https://dom.spec.whatwg.org/#dictdef-eventinit"},
"https://dom.spec.whatwg.org/#dispatch-flag": {"displayText":"dispatch flag","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"dispatch flag","type":"dfn","url":"https://dom.spec.whatwg.org/#dispatch-flag"},
"https://dom.spec.whatwg.org/#dom-event-cancelable": {"displayText":"cancelable","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"cancelable","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-event-cancelable"},
"https://dom.spec.whatwg.org/#dom-event-istrusted": {"displayText":"isTrusted","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"isTrusted","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-event-istrusted"},
"https://dom.spec.whatwg.org/#dom-event-type": {"displayText":"type","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"type","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-event-type"},
"https://dom.spec.whatwg.org/#dom-eventlistener-handleevent": {"displayText":"handleEvent(event)","export":true,"for_":["EventListener"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"handleEvent(event)","type":"method","url":"https://dom.spec.whatwg.org/#dom-eventlistener-handleevent"},
"https://dom.spec.whatwg.org/#event": {"displayText":"Event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Event","type":"interface","url":"https://dom.spec.whatwg.org/#event"},
"https://dom.spec.whatwg.org/#event-listener-callback": {"displayText":"callback","export":true,"for_":["event listener"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"callback","type":"dfn","url":"https://dom.spec.whatwg.org/#event-listener-callback"},
"https://dom.spec.whatwg.org/#eventtarget": {"displayText":"EventTarget","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"EventTarget","type":"interface","url":"https://dom.spec.whatwg.org/#eventtarget"},
"https://dom.spec.whatwg.org/#legacy-obtain-service-worker-fetch-event-listener-callbacks": {"displayText":"legacy-obtain service worker fetch event listener callbacks","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"legacy-obtain service worker fetch event listener callbacks","type":"dfn","url":"https://dom.spec.whatwg.org/#legacy-obtain-service-worker-fetch-event-listener-callbacks"},
"https://dom.spec.whatwg.org/#stop-immediate-propagation-flag": {"displayText":"stop immediate propagation flag","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"stop immediate propagation flag","type":"dfn","url":"https://dom.spec.whatwg.org/#stop-immediate-propagation-flag"},
"https://dom.spec.whatwg.org/#stop-propagation-flag": {"displayText":"stop propagation flag","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"stop propagation flag","type":"dfn","url":"https://dom.spec.whatwg.org/#stop-propagation-flag"},
"https://fetch.spec.whatwg.org/#body-unusable": {"displayText":"unusable","export":true,"for_":["Body"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"unusable","type":"dfn","url":"https://fetch.spec.whatwg.org/#body-unusable"},
"https://fetch.spec.whatwg.org/#concept-body": {"displayText":"body","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"body","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-body"},
"https://fetch.spec.whatwg.org/#concept-body-source": {"displayText":"source","export":true,"for_":["body"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"source","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-body-source"},
"https://fetch.spec.whatwg.org/#concept-body-stream": {"displayText":"stream","export":true,"for_":["body"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"stream","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-body-stream"},
"https://fetch.spec.whatwg.org/#concept-fetch": {"displayText":"fetch","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"fetch","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-fetch"},
"https://fetch.spec.whatwg.org/#concept-filtered-response": {"displayText":"filtered response","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"filtered response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-filtered-response"},
"https://fetch.spec.whatwg.org/#concept-filtered-response-basic": {"displayText":"basic filtered response","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"basic filtered response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-filtered-response-basic"},
"https://fetch.spec.whatwg.org/#concept-filtered-response-cors": {"displayText":"CORS filtered response","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"cors filtered response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-filtered-response-cors"},
"https://fetch.spec.whatwg.org/#concept-filtered-response-opaque": {"displayText":"opaque filtered response","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"opaque filtered response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-filtered-response-opaque"},
"https://fetch.spec.whatwg.org/#concept-header": {"displayText":"header","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"header","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header"},
"https://fetch.spec.whatwg.org/#concept-header-extract-mime-type": {"displayText":"extract a MIME type","export":true,"for_":["header list"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"extract a mime type","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-extract-mime-type"},
"https://fetch.spec.whatwg.org/#concept-header-list-append": {"displayText":"append","export":true,"for_":["header list"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"append","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-list-append"},
"https://fetch.spec.whatwg.org/#concept-header-list-combine": {"displayText":"combine","export":true,"for_":["header list"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"combine","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-list-combine"},
"https://fetch.spec.whatwg.org/#concept-header-name": {"displayText":"name","export":true,"for_":["header"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"name","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-name"},
"https://fetch.spec.whatwg.org/#concept-header-value": {"displayText":"value","export":true,"for_":["header"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"value","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-header-value"},
"https://fetch.spec.whatwg.org/#concept-headers-guard": {"displayText":"guard","export":true,"for_":["Headers"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"guard","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-headers-guard"},
"https://fetch.spec.whatwg.org/#concept-http-fetch": {"displayText":"HTTP fetch","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"http fetch","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-http-fetch"},
"https://fetch.spec.whatwg.org/#concept-internal-response": {"displayText":"internal response","export":true,"for_":["filtered response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"internal response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-internal-response"},
"https://fetch.spec.whatwg.org/#concept-method": {"displayText":"method","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"method","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-method"},
"https://fetch.spec.whatwg.org/#concept-method-normalize": {"displayText":"normalize","export":true,"for_":["method"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"normalize","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-method-normalize"},
"https://fetch.spec.whatwg.org/#concept-network-error": {"displayText":"network error","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"network error","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-network-error"},
"https://fetch.spec.whatwg.org/#concept-request": {"displayText":"request","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"request","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request"},
"https://fetch.spec.whatwg.org/#concept-request-body": {"displayText":"body","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"body","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-body"},
"https://fetch.spec.whatwg.org/#concept-request-cache-mode": {"displayText":"cache mode","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"cache mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-cache-mode"},
"https://fetch.spec.whatwg.org/#concept-request-client": {"displayText":"client","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"client","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-client"},
"https://fetch.spec.whatwg.org/#concept-request-clone": {"displayText":"clone","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"clone","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-clone"},
"https://fetch.spec.whatwg.org/#concept-request-destination": {"displayText":"destination","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"destination","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-destination"},
"https://fetch.spec.whatwg.org/#concept-request-header-list": {"displayText":"header list","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"header list","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-header-list"},
"https://fetch.spec.whatwg.org/#concept-request-initiator": {"displayText":"initiator","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"initiator","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-initiator"},
"https://fetch.spec.whatwg.org/#concept-request-method": {"displayText":"method","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"method","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-method"},
"https://fetch.spec.whatwg.org/#concept-request-mode": {"displayText":"mode","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-mode"},
"https://fetch.spec.whatwg.org/#concept-request-origin": {"displayText":"origin","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"origin","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-origin"},
"https://fetch.spec.whatwg.org/#concept-request-parser-metadata": {"displayText":"parser metadata","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"parser metadata","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-parser-metadata"},
"https://fetch.spec.whatwg.org/#concept-request-redirect-mode": {"displayText":"redirect mode","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"redirect mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-redirect-mode"},
"https://fetch.spec.whatwg.org/#concept-request-replaces-client-id": {"displayText":"replaces client id","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"replaces client id","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-replaces-client-id"},
"https://fetch.spec.whatwg.org/#concept-request-request": {"displayText":"request","export":true,"for_":["Request"],"level":"","normative":true,"shortname":"fetch","spec":"fetch","status":"anchor-block","text":"request","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-request"},
"https://fetch.spec.whatwg.org/#concept-request-reserved-client": {"displayText":"reserved client","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"reserved client","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-reserved-client"},
"https://fetch.spec.whatwg.org/#concept-request-url": {"displayText":"URL","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"url","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-url"},
"https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag": {"displayText":"use-URL-credentials flag","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"use-url-credentials flag","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag"},
"https://fetch.spec.whatwg.org/#concept-response": {"displayText":"response","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response"},
"https://fetch.spec.whatwg.org/#concept-response-aborted": {"displayText":"aborted flag","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"aborted flag","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-aborted"},
"https://fetch.spec.whatwg.org/#concept-response-body": {"displayText":"body","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"body","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-body"},
"https://fetch.spec.whatwg.org/#concept-response-body-info": {"displayText":"body info","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"body info","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-body-info"},
"https://fetch.spec.whatwg.org/#concept-response-cache-state": {"displayText":"cache state","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"cache state","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-cache-state"},
"https://fetch.spec.whatwg.org/#concept-response-clone": {"displayText":"clone","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"clone","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-clone"},
"https://fetch.spec.whatwg.org/#concept-response-header-list": {"displayText":"header list","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"header list","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-header-list"},
"https://fetch.spec.whatwg.org/#concept-response-response": {"displayText":"response","export":true,"for_":["Response"],"level":"","normative":true,"shortname":"fetch","spec":"fetch","status":"anchor-block","text":"response","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-response"},
"https://fetch.spec.whatwg.org/#concept-response-status": {"displayText":"status","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"status","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-status"},
"https://fetch.spec.whatwg.org/#concept-response-type": {"displayText":"type","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"type","type":"dfn","url":"https://fetch.spec.whatwg.org/#concept-response-type"},
"https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check": {"displayText":"cross-origin resource policy check","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"cross-origin resource policy check","type":"dfn","url":"https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check"},
"https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason": {"displayText":"deserialize a serialized abort reason","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"deserialize a serialized abort reason","type":"dfn","url":"https://fetch.spec.whatwg.org/#deserialize-a-serialized-abort-reason"},
"https://fetch.spec.whatwg.org/#dom-global-fetch": {"displayText":"fetch(input, init)","export":true,"for_":["WindowOrWorkerGlobalScope"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"fetch(input, init)","type":"method","url":"https://fetch.spec.whatwg.org/#dom-global-fetch"},
"https://fetch.spec.whatwg.org/#dom-requestdestination-report": {"displayText":"\"report\"","export":true,"for_":["RequestDestination"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"\"report\"","type":"enum-value","url":"https://fetch.spec.whatwg.org/#dom-requestdestination-report"},
"https://fetch.spec.whatwg.org/#extract-header-list-values": {"displayText":"extracting header list values","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"extracting header list values","type":"dfn","url":"https://fetch.spec.whatwg.org/#extract-header-list-values"},
"https://fetch.spec.whatwg.org/#fetch-controller": {"displayText":"fetch controller","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"fetch controller","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-controller"},
"https://fetch.spec.whatwg.org/#fetch-controller-abort": {"displayText":"abort","export":true,"for_":["fetch controller"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"abort","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-controller-abort"},
"https://fetch.spec.whatwg.org/#fetch-controller-serialized-abort-reason": {"displayText":"serialized abort reason","export":true,"for_":["fetch controller"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"serialized abort reason","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-controller-serialized-abort-reason"},
"https://fetch.spec.whatwg.org/#fetch-controller-state": {"displayText":"state","export":true,"for_":["fetch controller"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"state","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-controller-state"},
"https://fetch.spec.whatwg.org/#fetch-processresponseendofbody": {"displayText":"processResponseEndOfBody","export":true,"for_":["fetch"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"processresponseendofbody","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-processresponseendofbody"},
"https://fetch.spec.whatwg.org/#fetch-timing-info-decoded-body-size": {"displayText":"decoded size","export":true,"for_":["response body info"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"decoded size","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-timing-info-decoded-body-size"},
"https://fetch.spec.whatwg.org/#fetch-timing-info-encoded-body-size": {"displayText":"encoded size","export":true,"for_":["response body info"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"encoded size","type":"dfn","url":"https://fetch.spec.whatwg.org/#fetch-timing-info-encoded-body-size"},
"https://fetch.spec.whatwg.org/#forbidden-method": {"displayText":"forbidden method","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"forbidden method","type":"dfn","url":"https://fetch.spec.whatwg.org/#forbidden-method"},
"https://fetch.spec.whatwg.org/#header-list-contains": {"displayText":"contains","export":true,"for_":["header list"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"contains","type":"dfn","url":"https://fetch.spec.whatwg.org/#header-list-contains"},
"https://fetch.spec.whatwg.org/#headers": {"displayText":"Headers","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"Headers","type":"interface","url":"https://fetch.spec.whatwg.org/#headers"},
"https://fetch.spec.whatwg.org/#navigation-request": {"displayText":"navigation request","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"navigation request","type":"dfn","url":"https://fetch.spec.whatwg.org/#navigation-request"},
"https://fetch.spec.whatwg.org/#non-subresource-request": {"displayText":"non-subresource request","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"non-subresource request","type":"dfn","url":"https://fetch.spec.whatwg.org/#non-subresource-request"},
"https://fetch.spec.whatwg.org/#ok-status": {"displayText":"ok status","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"ok status","type":"dfn","url":"https://fetch.spec.whatwg.org/#ok-status"},
"https://fetch.spec.whatwg.org/#process-response": {"displayText":"processResponse","export":true,"for_":["fetch"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"processresponse","type":"dfn","url":"https://fetch.spec.whatwg.org/#process-response"},
"https://fetch.spec.whatwg.org/#request": {"displayText":"Request","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"Request","type":"interface","url":"https://fetch.spec.whatwg.org/#request"},
"https://fetch.spec.whatwg.org/#request-create": {"displayText":"creating","export":true,"for_":["Request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"creating","type":"dfn","url":"https://fetch.spec.whatwg.org/#request-create"},
"https://fetch.spec.whatwg.org/#request-service-workers-mode": {"displayText":"service-workers mode","export":true,"for_":["request"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"service-workers mode","type":"dfn","url":"https://fetch.spec.whatwg.org/#request-service-workers-mode"},
"https://fetch.spec.whatwg.org/#requestdestination": {"displayText":"RequestDestination","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"RequestDestination","type":"enum","url":"https://fetch.spec.whatwg.org/#requestdestination"},
"https://fetch.spec.whatwg.org/#requestinfo": {"displayText":"RequestInfo","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"RequestInfo","type":"typedef","url":"https://fetch.spec.whatwg.org/#requestinfo"},
"https://fetch.spec.whatwg.org/#requestmode": {"displayText":"RequestMode","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"RequestMode","type":"enum","url":"https://fetch.spec.whatwg.org/#requestmode"},
"https://fetch.spec.whatwg.org/#response": {"displayText":"Response","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"Response","type":"interface","url":"https://fetch.spec.whatwg.org/#response"},
"https://fetch.spec.whatwg.org/#response-service-worker-timing-info": {"displayText":"service worker timing info","export":true,"for_":["response"],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"service worker timing info","type":"dfn","url":"https://fetch.spec.whatwg.org/#response-service-worker-timing-info"},
"https://fetch.spec.whatwg.org/#subresource-request": {"displayText":"subresource request","export":true,"for_":[],"level":"1","normative":true,"shortname":"fetch","spec":"fetch","status":"current","text":"subresource request","type":"dfn","url":"https://fetch.spec.whatwg.org/#subresource-request"},
"https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin": {"displayText":"serialization of an origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"serialization of an origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#ascii-serialisation-of-an-origin"},
"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin": {"displayText":"origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin"},
"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque": {"displayText":"opaque origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"opaque origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#concept-origin-opaque"},
"https://html.spec.whatwg.org/multipage/browsers.html#creating-a-policy-container-from-a-fetch-response": {"displayText":"creating a policy container from a fetch response","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"creating a policy container from a fetch response","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#creating-a-policy-container-from-a-fetch-response"},
"https://html.spec.whatwg.org/multipage/browsers.html#policy-container": {"displayText":"policy container","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"policy container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#policy-container"},
"https://html.spec.whatwg.org/multipage/browsers.html#same-origin": {"displayText":"same origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"same origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsers.html#same-origin"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled": {"displayText":"exceptionsEnabled","export":true,"for_":["navigate"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"exceptionsenabled","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#exceptions-enabled"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate": {"displayText":"navigate","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"navigate","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate"},
"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh": {"displayText":"historyHandling","export":true,"for_":["navigate"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"historyhandling","type":"dfn","url":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh"},
"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-data": {"displayText":"data","export":true,"for_":["MessageEvent"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"data","type":"attribute","url":"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-data"},
"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin": {"displayText":"origin","export":true,"for_":["MessageEvent"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"origin","type":"attribute","url":"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-origin"},
"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-ports": {"displayText":"ports","export":true,"for_":["MessageEvent"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"ports","type":"attribute","url":"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-ports"},
"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source": {"displayText":"source","export":true,"for_":["MessageEvent"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"source","type":"attribute","url":"https://html.spec.whatwg.org/multipage/comms.html#dom-messageevent-source"},
"https://html.spec.whatwg.org/multipage/comms.html#messageevent": {"displayText":"MessageEvent","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"MessageEvent","type":"interface","url":"https://html.spec.whatwg.org/multipage/comms.html#messageevent"},
"https://html.spec.whatwg.org/multipage/document-lifecycle.html#unloading-document-cleanup-steps": {"displayText":"unloading document cleanup steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"unloading document cleanup steps","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-lifecycle.html#unloading-document-cleanup-steps"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#auxiliary-browsing-context": {"displayText":"auxiliary browsing context","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"auxiliary browsing context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#auxiliary-browsing-context"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context": {"displayText":"browsing context","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"browsing context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active": {"displayText":"fully active","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"fully active","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#fully-active"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc": {"displayText":"active browsing context","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"active browsing context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document": {"displayText":"active document","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"active document","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent": {"displayText":"parent","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"parent","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable": {"displayText":"navigable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context": {"displayText":"top-level browsing context","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level browsing context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-browsing-context"},
"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox": {"displayText":"sandbox","export":true,"for_":["iframe"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"sandbox","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-sandbox"},
"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element": {"displayText":"iframe","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"iframe","type":"element","url":"https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element"},
"https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded": {"displayText":"DOMContentLoaded","export":true,"for_":["Document"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"DOMContentLoaded","type":"event","url":"https://html.spec.whatwg.org/multipage/indices.html#event-domcontentloaded"},
"https://html.spec.whatwg.org/multipage/indices.html#event-message": {"displayText":"message","export":true,"for_":["Window","EventSource","MessagePort","BroadcastChannel","DedicatedWorkerGlobalScope","Worker","ServiceWorkerContainer"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"message","type":"event","url":"https://html.spec.whatwg.org/multipage/indices.html#event-message"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel": {"displayText":"in parallel","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"in parallel","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel"},
"https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue": {"displayText":"parallel queue","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"parallel queue","type":"dfn","url":"https://html.spec.whatwg.org/multipage/infrastructure.html#parallel-queue"},
"https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps": {"displayText":"focusing steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"focusing steps","type":"dfn","url":"https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps"},
"https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps": {"displayText":"has focus steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"has focus steps","type":"dfn","url":"https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps"},
"https://html.spec.whatwg.org/multipage/interaction.html#page-visibility": {"displayText":"VisibilityState","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"VisibilityState","type":"enum","url":"https://html.spec.whatwg.org/multipage/interaction.html#page-visibility"},
"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation": {"displayText":"transient activation","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"transient activation","type":"dfn","url":"https://html.spec.whatwg.org/multipage/interaction.html#transient-activation"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window": {"displayText":"associated Document","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"associated document","type":"dfn","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-location-ancestor-origins-list": {"displayText":"ancestor origins list","export":true,"for_":["Location"],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"ancestor origins list","type":"dfn","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-location-ancestor-origins-list"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#location": {"displayText":"Location","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Location","type":"interface","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#location"},
"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window": {"displayText":"Window","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Window","type":"interface","url":"https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"},
"https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer": {"displayText":"StructuredDeserializeWithTransfer","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"StructuredDeserializeWithTransfer","type":"abstract-op","url":"https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserializewithtransfer"},
"https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer": {"displayText":"StructuredSerializeWithTransfer","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"StructuredSerializeWithTransfer","type":"abstract-op","url":"https://html.spec.whatwg.org/multipage/structured-data.html#structuredserializewithtransfer"},
"https://html.spec.whatwg.org/multipage/system-state.html#navigator": {"displayText":"Navigator","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Navigator","type":"interface","url":"https://html.spec.whatwg.org/multipage/system-state.html#navigator"},
"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#map-of-active-timers": {"displayText":"map of active timers","export":true,"for_":["WindowOrWorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"map of active timers","type":"dfn","url":"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#map-of-active-timers"},
"https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response": {"displayText":"unsafe response","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"unsafe response","type":"dfn","url":"https://html.spec.whatwg.org/multipage/urls-and-fetching.html#unsafe-response"},
"https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer": {"displayText":"transfer","export":true,"for_":["StructuredSerializeOptions"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"transfer","type":"dict-member","url":"https://html.spec.whatwg.org/multipage/web-messaging.html#dom-structuredserializeoptions-transfer"},
"https://html.spec.whatwg.org/multipage/web-messaging.html#messageport": {"displayText":"MessagePort","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"MessagePort","type":"interface","url":"https://html.spec.whatwg.org/multipage/web-messaging.html#messageport"},
"https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions": {"displayText":"StructuredSerializeOptions","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"StructuredSerializeOptions","type":"dictionary","url":"https://html.spec.whatwg.org/multipage/web-messaging.html#structuredserializeoptions"},
"https://html.spec.whatwg.org/multipage/webappapis.html#abort-a-running-script": {"displayText":"abort a running script","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"abort a running script","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#abort-a-running-script"},
"https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url": {"displayText":"API base URL","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"api base url","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#api-base-url"},
"https://html.spec.whatwg.org/multipage/webappapis.html#classic-script": {"displayText":"classic script","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"classic script","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#classic-script"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop": {"displayText":"event loop","export":true,"for_":["agent"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event loop","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-agent-event-loop"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker": {"displayText":"active service worker","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"active service worker","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-active-service-worker"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url": {"displayText":"creation URL","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"creation url","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-creation-url"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag": {"displayText":"execution ready flag","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"execution ready flag","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-execution-ready-flag"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id": {"displayText":"id","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"id","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-id"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context": {"displayText":"target browsing context","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"target browsing context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-target-browsing-context"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url": {"displayText":"top-level creation URL","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level creation url","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-creation-url"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin": {"displayText":"top-level origin","export":true,"for_":["environment"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"top-level origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm": {"displayText":"realm","export":true,"for_":["global object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"realm","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-global-object-realm"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": {"displayText":"relevant global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm": {"displayText":"relevant realm","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant realm","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-script": {"displayText":"script","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"script","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-script"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url": {"displayText":"base URL","export":true,"for_":["script"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"base url","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-base-url"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record": {"displayText":"record","export":true,"for_":["script"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"record","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-script-record"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global": {"displayText":"global object","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-global"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-has-cross-site-ancestor": {"displayText":"has cross-site ancestor","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"has cross-site ancestor","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-has-cross-site-ancestor"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-module-map": {"displayText":"module map","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"module map","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-module-map"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin": {"displayText":"origin","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-policy-container": {"displayText":"policy container","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"policy container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-policy-container"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin": {"displayText":"time origin","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"time origin","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-time-origin"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task": {"displayText":"task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm": {"displayText":"create a new realm","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"create a new realm","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#creating-a-new-javascript-realm"},
"https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object": {"displayText":"current global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"current global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#current-global-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source": {"displayText":"DOM manipulation task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"dom manipulation task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#environment": {"displayText":"environment","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"environment","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment"},
"https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps": {"displayText":"environment discarding steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"environment discarding steps","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-discarding-steps"},
"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object": {"displayText":"environment settings object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"environment settings object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm": {"displayText":"realm","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"realm","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object's-realm"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type": {"displayText":"event handler event type","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler event type","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes": {"displayText":"event handler IDL attribute","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler idl attribute","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-listener": {"displayText":"listener","export":true,"for_":["event handler"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"listener","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-listener"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-map": {"displayText":"event handler map","export":true,"for_":["EventTarget"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler map","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-map"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-value": {"displayText":"value","export":true,"for_":["event handler"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"value","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-value"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers": {"displayText":"event handler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop": {"displayText":"event loop","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event loop","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-loop"},
"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": {"displayText":"EventHandler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"EventHandler","type":"typedef","url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-imported-script": {"displayText":"fetch a classic worker-imported script","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"fetch a classic worker-imported script","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-imported-script"},
"https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script": {"displayText":"fetch a classic worker script","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"fetch a classic worker script","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-classic-worker-script"},
"https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree": {"displayText":"fetch a module worker script graph","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"fetch a module worker script graph","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetch-a-module-worker-script-tree"},
"https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-is-top-level": {"displayText":"isTopLevel","export":true,"for_":["fetching scripts"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"istoplevel","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-is-top-level"},
"https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch": {"displayText":"perform the fetch hook","export":true,"for_":["fetching scripts"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"perform the fetch hook","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#fetching-scripts-perform-fetch"},
"https://html.spec.whatwg.org/multipage/webappapis.html#global-object": {"displayText":"global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#global-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#incumbent-settings-object": {"displayText":"incumbent settings object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"incumbent settings object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#incumbent-settings-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#module-map": {"displayText":"module map","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"module map","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#module-map"},
"https://html.spec.whatwg.org/multipage/webappapis.html#module-script": {"displayText":"module script","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"module script","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#module-script"},
"https://html.spec.whatwg.org/multipage/webappapis.html#obtain-a-service-worker-agent": {"displayText":"obtain a service worker agent","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"obtain a service worker agent","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#obtain-a-service-worker-agent"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask": {"displayText":"queue a microtask","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a microtask","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-microtask"},
"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task": {"displayText":"queue a task","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"queue a task","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task"},
"https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context": {"displayText":"realm execution context","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"realm execution context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#realm-execution-context"},
"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object": {"displayText":"relevant settings object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant settings object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object"},
"https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier": {"displayText":"resolve a module specifier","export":true,"for_":[],"level":"","normative":true,"shortname":"html","spec":"html","status":"anchor-block","text":"resolve a module specifier","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#resolve-a-module-specifier"},
"https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop": {"displayText":"responsible event loop","export":true,"for_":["environment settings object"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"responsible event loop","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#responsible-event-loop"},
"https://html.spec.whatwg.org/multipage/webappapis.html#run-a-classic-script": {"displayText":"run a classic script","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"run a classic script","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#run-a-classic-script"},
"https://html.spec.whatwg.org/multipage/webappapis.html#run-a-module-script": {"displayText":"run a module script","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"run a module script","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#run-a-module-script"},
"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context": {"displayText":"secure context","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"secure context","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#secure-context"},
"https://html.spec.whatwg.org/multipage/webappapis.html#task-queue": {"displayText":"task queues","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task queues","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-queue"},
"https://html.spec.whatwg.org/multipage/webappapis.html#task-source": {"displayText":"task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source": {"displayText":"user interaction task source","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"user interaction task source","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#user-interaction-task-source"},
"https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope": {"displayText":"WindowOrWorkerGlobalScope","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WindowOrWorkerGlobalScope","type":"interface","url":"https://html.spec.whatwg.org/multipage/webappapis.html#windoworworkerglobalscope"},
"https://html.spec.whatwg.org/multipage/workers.html#abstractworker": {"displayText":"AbstractWorker","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"AbstractWorker","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#abstractworker"},
"https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set": {"displayText":"owner set","export":true,"for_":["WorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"owner set","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#concept-WorkerGlobalScope-owner-set"},
"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability": {"displayText":"cross-origin isolated capability","export":true,"for_":["WorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"cross-origin isolated capability","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-cross-origin-isolated-capability"},
"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-module-map": {"displayText":"module map","export":true,"for_":["WorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"module map","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-module-map"},
"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container": {"displayText":"policy container","export":true,"for_":["WorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"policy container","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-policy-container"},
"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-type": {"displayText":"type","export":true,"for_":["WorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"type","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-type"},
"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-url": {"displayText":"url","export":true,"for_":["WorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"url","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-url"},
"https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope": {"displayText":"DedicatedWorkerGlobalScope","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"DedicatedWorkerGlobalScope","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#dedicatedworkerglobalscope"},
"https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-closing": {"displayText":"closing","export":true,"for_":["WorkerGlobalScope"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"closing","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#dom-workerglobalscope-closing"},
"https://html.spec.whatwg.org/multipage/workers.html#import-scripts-into-worker-global-scope": {"displayText":"import scripts into worker global scope","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"import scripts into worker global scope","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#import-scripts-into-worker-global-scope"},
"https://html.spec.whatwg.org/multipage/workers.html#run-a-worker": {"displayText":"run a worker","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"run a worker","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#run-a-worker"},
"https://html.spec.whatwg.org/multipage/workers.html#sharedworkerglobalscope": {"displayText":"SharedWorkerGlobalScope","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"SharedWorkerGlobalScope","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#sharedworkerglobalscope"},
"https://html.spec.whatwg.org/multipage/workers.html#worker": {"displayText":"Worker","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Worker","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#worker"},
"https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope": {"displayText":"WorkerGlobalScope","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WorkerGlobalScope","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope"},
"https://html.spec.whatwg.org/multipage/workers.html#workerlocation": {"displayText":"WorkerLocation","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WorkerLocation","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#workerlocation"},
"https://html.spec.whatwg.org/multipage/workers.html#workernavigator": {"displayText":"WorkerNavigator","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WorkerNavigator","type":"interface","url":"https://html.spec.whatwg.org/multipage/workers.html#workernavigator"},
"https://html.spec.whatwg.org/multipage/workers.html#workers": {"displayText":"web worker","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"web worker","type":"dfn","url":"https://html.spec.whatwg.org/multipage/workers.html#workers"},
"https://html.spec.whatwg.org/multipage/workers.html#workertype": {"displayText":"WorkerType","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"WorkerType","type":"enum","url":"https://html.spec.whatwg.org/multipage/workers.html#workertype"},
"https://infra.spec.whatwg.org/#abort-when": {"displayText":"abort when","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"abort when","type":"dfn","url":"https://infra.spec.whatwg.org/#abort-when"},
"https://infra.spec.whatwg.org/#ascii-case-insensitive": {"displayText":"ASCII case-insensitive","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ascii case-insensitive","type":"dfn","url":"https://infra.spec.whatwg.org/#ascii-case-insensitive"},
"https://infra.spec.whatwg.org/#byte-sequence": {"displayText":"byte sequence","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"byte sequence","type":"dfn","url":"https://infra.spec.whatwg.org/#byte-sequence"},
"https://infra.spec.whatwg.org/#if-aborted": {"displayText":"if aborted","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"if aborted","type":"dfn","url":"https://infra.spec.whatwg.org/#if-aborted"},
"https://infra.spec.whatwg.org/#implementation-defined": {"displayText":"implementation-defined","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"implementation-defined","type":"dfn","url":"https://infra.spec.whatwg.org/#implementation-defined"},
"https://infra.spec.whatwg.org/#iteration-break": {"displayText":"break","export":true,"for_":["iteration"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"break","type":"dfn","url":"https://infra.spec.whatwg.org/#iteration-break"},
"https://infra.spec.whatwg.org/#iteration-continue": {"displayText":"continue","export":true,"for_":["iteration"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"continue","type":"dfn","url":"https://infra.spec.whatwg.org/#iteration-continue"},
"https://infra.spec.whatwg.org/#list": {"displayText":"list","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"list","type":"dfn","url":"https://infra.spec.whatwg.org/#list"},
"https://infra.spec.whatwg.org/#list-append": {"displayText":"append","export":true,"for_":["list"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"append","type":"dfn","url":"https://infra.spec.whatwg.org/#list-append"},
"https://infra.spec.whatwg.org/#list-contain": {"displayText":"contain","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"contain","type":"dfn","url":"https://infra.spec.whatwg.org/#list-contain"},
"https://infra.spec.whatwg.org/#list-is-empty": {"displayText":"is not empty","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"is not empty","type":"dfn","url":"https://infra.spec.whatwg.org/#list-is-empty"},
"https://infra.spec.whatwg.org/#list-item": {"displayText":"item","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#list-item"},
"https://infra.spec.whatwg.org/#list-iterate": {"displayText":"for each","export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"for each","type":"dfn","url":"https://infra.spec.whatwg.org/#list-iterate"},
"https://infra.spec.whatwg.org/#list-remove": {"displayText":"remove","export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"remove","type":"dfn","url":"https://infra.spec.whatwg.org/#list-remove"},
"https://infra.spec.whatwg.org/#map-clear": {"displayText":"clear","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"clear","type":"dfn","url":"https://infra.spec.whatwg.org/#map-clear"},
"https://infra.spec.whatwg.org/#map-entry": {"displayText":"entry","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"entry","type":"dfn","url":"https://infra.spec.whatwg.org/#map-entry"},
"https://infra.spec.whatwg.org/#map-exists": {"displayText":"exist","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"exist","type":"dfn","url":"https://infra.spec.whatwg.org/#map-exists"},
"https://infra.spec.whatwg.org/#map-getting-the-keys": {"displayText":"keys","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"keys","type":"dfn","url":"https://infra.spec.whatwg.org/#map-getting-the-keys"},
"https://infra.spec.whatwg.org/#map-getting-the-values": {"displayText":"values","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"values","type":"dfn","url":"https://infra.spec.whatwg.org/#map-getting-the-values"},
"https://infra.spec.whatwg.org/#map-iterate": {"displayText":"for each","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"for each","type":"dfn","url":"https://infra.spec.whatwg.org/#map-iterate"},
"https://infra.spec.whatwg.org/#map-key": {"displayText":"key","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"key","type":"dfn","url":"https://infra.spec.whatwg.org/#map-key"},
"https://infra.spec.whatwg.org/#map-remove": {"displayText":"remove","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"remove","type":"dfn","url":"https://infra.spec.whatwg.org/#map-remove"},
"https://infra.spec.whatwg.org/#map-set": {"displayText":"set","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"set","type":"dfn","url":"https://infra.spec.whatwg.org/#map-set"},
"https://infra.spec.whatwg.org/#map-value": {"displayText":"value","export":true,"for_":["map"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"value","type":"dfn","url":"https://infra.spec.whatwg.org/#map-value"},
"https://infra.spec.whatwg.org/#ordered-map": {"displayText":"ordered map","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ordered map","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-map"},
"https://infra.spec.whatwg.org/#ordered-set": {"displayText":"ordered set","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ordered set","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-set"},
"https://infra.spec.whatwg.org/#queue": {"displayText":"queue","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"queue","type":"dfn","url":"https://infra.spec.whatwg.org/#queue"},
"https://infra.spec.whatwg.org/#queue-dequeue": {"displayText":"dequeue","export":true,"for_":["queue"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"dequeue","type":"dfn","url":"https://infra.spec.whatwg.org/#queue-dequeue"},
"https://infra.spec.whatwg.org/#queue-enqueue": {"displayText":"enqueue","export":true,"for_":["queue"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"enqueue","type":"dfn","url":"https://infra.spec.whatwg.org/#queue-enqueue"},
"https://infra.spec.whatwg.org/#set-append": {"displayText":"append","export":true,"for_":["set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"append","type":"dfn","url":"https://infra.spec.whatwg.org/#set-append"},
"https://infra.spec.whatwg.org/#string-is": {"displayText":"is","export":true,"for_":["string"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"is","type":"dfn","url":"https://infra.spec.whatwg.org/#string-is"},
"https://infra.spec.whatwg.org/#struct": {"displayText":"struct","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"struct","type":"dfn","url":"https://infra.spec.whatwg.org/#struct"},
"https://infra.spec.whatwg.org/#struct-item": {"displayText":"item","export":true,"for_":["struct","tuple"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#struct-item"},
"https://infra.spec.whatwg.org/#tuple": {"displayText":"tuple","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"tuple","type":"dfn","url":"https://infra.spec.whatwg.org/#tuple"},
"https://mimesniff.spec.whatwg.org/#javascript-mime-type": {"displayText":"JavaScript MIME type","export":true,"for_":[],"level":"1","normative":true,"shortname":"mimesniff","spec":"mimesniff","status":"current","text":"javascript mime type","type":"dfn","url":"https://mimesniff.spec.whatwg.org/#javascript-mime-type"},
"https://storage.spec.whatwg.org/#obtain-a-storage-key": {"displayText":"obtain a storage key","export":true,"for_":[],"level":"","normative":true,"shortname":"storage","spec":"storage","status":"anchor-block","text":"obtain a storage key","type":"dfn","url":"https://storage.spec.whatwg.org/#obtain-a-storage-key"},
"https://storage.spec.whatwg.org/#storage-key": {"displayText":"storage key","export":true,"for_":[],"level":"","normative":true,"shortname":"storage","spec":"storage","status":"anchor-block","text":"storage key","type":"dfn","url":"https://storage.spec.whatwg.org/#storage-key"},
"https://storage.spec.whatwg.org/#storage-key-equal": {"displayText":"equal","export":true,"for_":["storage key"],"level":"1","normative":true,"shortname":"storage","spec":"storage","status":"current","text":"equal","type":"dfn","url":"https://storage.spec.whatwg.org/#storage-key-equal"},
"https://streams.spec.whatwg.org/#chunk": {"displayText":"chunk","export":true,"for_":[],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"chunk","type":"dfn","url":"https://streams.spec.whatwg.org/#chunk"},
"https://streams.spec.whatwg.org/#is-readable-stream-disturbed": {"displayText":"disturbed","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"disturbed","type":"dfn","url":"https://streams.spec.whatwg.org/#is-readable-stream-disturbed"},
"https://streams.spec.whatwg.org/#read-request": {"displayText":"read request","export":true,"for_":[],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"read request","type":"dfn","url":"https://streams.spec.whatwg.org/#read-request"},
"https://streams.spec.whatwg.org/#read-request-chunk-steps": {"displayText":"chunk steps","export":true,"for_":["read request"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"chunk steps","type":"dfn","url":"https://streams.spec.whatwg.org/#read-request-chunk-steps"},
"https://streams.spec.whatwg.org/#read-request-close-steps": {"displayText":"close steps","export":true,"for_":["read request"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"close steps","type":"dfn","url":"https://streams.spec.whatwg.org/#read-request-close-steps"},
"https://streams.spec.whatwg.org/#read-request-error-steps": {"displayText":"error steps","export":true,"for_":["read request"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"error steps","type":"dfn","url":"https://streams.spec.whatwg.org/#read-request-error-steps"},
"https://streams.spec.whatwg.org/#readablestream": {"displayText":"ReadableStream","export":true,"for_":[],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"ReadableStream","type":"interface","url":"https://streams.spec.whatwg.org/#readablestream"},
"https://streams.spec.whatwg.org/#readablestream-cancel": {"displayText":"cancel","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"cancel","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-cancel"},
"https://streams.spec.whatwg.org/#readablestream-close": {"displayText":"close","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"close","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-close"},
"https://streams.spec.whatwg.org/#readablestream-enqueue": {"displayText":"enqueue","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"enqueue","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-enqueue"},
"https://streams.spec.whatwg.org/#readablestream-error": {"displayText":"error","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"error","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-error"},
"https://streams.spec.whatwg.org/#readablestream-errored": {"displayText":"errored","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"errored","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-errored"},
"https://streams.spec.whatwg.org/#readablestream-get-a-reader": {"displayText":"getting a reader","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"getting a reader","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-get-a-reader"},
"https://streams.spec.whatwg.org/#readablestream-locked": {"displayText":"locked","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"locked","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-locked"},
"https://streams.spec.whatwg.org/#readablestream-set-up": {"displayText":"set up","export":true,"for_":["ReadableStream"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"set up","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-set-up"},
"https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm": {"displayText":"cancelAlgorithm","export":true,"for_":["ReadableStream/set up"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"cancelalgorithm","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-set-up-cancelalgorithm"},
"https://streams.spec.whatwg.org/#readablestream-set-up-highwatermark": {"displayText":"highWaterMark","export":true,"for_":["ReadableStream/set up"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"highwatermark","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-set-up-highwatermark"},
"https://streams.spec.whatwg.org/#readablestream-set-up-pullalgorithm": {"displayText":"pullAlgorithm","export":true,"for_":["ReadableStream/set up"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"pullalgorithm","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-set-up-pullalgorithm"},
"https://streams.spec.whatwg.org/#readablestream-set-up-sizealgorithm": {"displayText":"sizeAlgorithm","export":true,"for_":["ReadableStream/set up"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"sizealgorithm","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestream-set-up-sizealgorithm"},
"https://streams.spec.whatwg.org/#readablestreamdefaultreader-cancel": {"displayText":"cancel","export":true,"for_":["ReadableStreamDefaultReader"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"cancel","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestreamdefaultreader-cancel"},
"https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-a-chunk": {"displayText":"read a chunk","export":true,"for_":["ReadableStreamDefaultReader"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"read a chunk","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-a-chunk"},
"https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes": {"displayText":"reading all bytes","export":true,"for_":["ReadableStreamDefaultReader"],"level":"1","normative":true,"shortname":"streams","spec":"streams","status":"current","text":"reading all bytes","type":"dfn","url":"https://streams.spec.whatwg.org/#readablestreamdefaultreader-read-all-bytes"},
"https://tc39.es/ecma262/#agent": {"displayText":"agent","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"agent","type":"dfn","url":"https://tc39.es/ecma262/#agent"},
"https://tc39.es/ecma262/#prod-FunctionBody": {"displayText":"function body","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"function body","type":"dfn","url":"https://tc39.es/ecma262/#prod-FunctionBody"},
"https://tc39.es/ecma262/#sec-abstract-module-records": {"displayText":"Module Record","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"module record","type":"dfn","url":"https://tc39.es/ecma262/#sec-abstract-module-records"},
"https://tc39.es/ecma262/#sec-algorithm-conventions": {"displayText":"Assert","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"assert","type":"dfn","url":"https://tc39.es/ecma262/#sec-algorithm-conventions"},
"https://tc39.es/ecma262/#sec-completion-record-specification-type": {"displayText":"Completion","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"completion","type":"dfn","url":"https://tc39.es/ecma262/#sec-completion-record-specification-type"},
"https://tc39.es/ecma262/#sec-cyclic-module-records": {"displayText":"Cyclic Module Record","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"cyclic module record","type":"dfn","url":"https://tc39.es/ecma262/#sec-cyclic-module-records"},
"https://tc39.es/ecma262/#sec-detacharraybuffer": {"displayText":"DetachArrayBuffer","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"detacharraybuffer","type":"dfn","url":"https://tc39.es/ecma262/#sec-detacharraybuffer"},
"https://tc39.es/ecma262/#sec-ecmascript-language-statements-and-declarations": {"displayText":"statement","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"statement","type":"dfn","url":"https://tc39.es/ecma262/#sec-ecmascript-language-statements-and-declarations"},
"https://tc39.es/ecma262/#sec-iscallable": {"displayText":"IsCallable","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"IsCallable","type":"abstract-op","url":"https://tc39.es/ecma262/#sec-iscallable"},
"https://tc39.es/ecma262/#sec-map-objects": {"displayText":"map objects","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"map objects","type":"dfn","url":"https://tc39.es/ecma262/#sec-map-objects"},
"https://tc39.es/ecma262/#sec-normalcompletion": {"displayText":"NormalCompletion","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"NormalCompletion","type":"abstract-op","url":"https://tc39.es/ecma262/#sec-normalcompletion"},
"https://tc39.es/ecma262/#sec-promise-objects": {"displayText":"promise","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"promise","type":"dfn","url":"https://tc39.es/ecma262/#sec-promise-objects"},
"https://tc39.es/ecma262/#sec-throwcompletion": {"displayText":"ThrowCompletion","export":true,"for_":[],"level":"262","normative":true,"shortname":"ecma","spec":"ecma-262","status":"anchor-block","text":"ThrowCompletion","type":"abstract-op","url":"https://tc39.es/ecma262/#sec-throwcompletion"},
"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent": {"displayText":"surrounding agent","export":true,"for_":["ECMAScript"],"level":"1","normative":true,"shortname":"ecmascript","spec":"ecmascript","status":"current","text":"surrounding agent","type":"dfn","url":"https://tc39.es/ecma262/multipage/executable-code-and-execution-contexts.html#surrounding-agent"},
"https://url.spec.whatwg.org/#concept-url": {"displayText":"URL","export":true,"for_":[],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"url","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url"},
"https://url.spec.whatwg.org/#concept-url-equals": {"displayText":"equal","export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"equal","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-equals"},
"https://url.spec.whatwg.org/#concept-url-fragment": {"displayText":"fragment","export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"fragment","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-fragment"},
"https://url.spec.whatwg.org/#concept-url-origin": {"displayText":"origin","export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"origin","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-origin"},
"https://url.spec.whatwg.org/#concept-url-parser": {"displayText":"URL parser","export":true,"for_":[],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"url parser","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-parser"},
"https://url.spec.whatwg.org/#concept-url-path": {"displayText":"path","export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"path","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-path"},
"https://url.spec.whatwg.org/#concept-url-query": {"displayText":"query","export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"query","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-query"},
"https://url.spec.whatwg.org/#concept-url-scheme": {"displayText":"scheme","export":true,"for_":["url"],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"scheme","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-scheme"},
"https://url.spec.whatwg.org/#concept-url-serializer": {"displayText":"URL serializer","export":true,"for_":[],"level":"1","normative":true,"shortname":"url","spec":"url","status":"current","text":"url serializer","type":"dfn","url":"https://url.spec.whatwg.org/#concept-url-serializer"},
"https://urlpattern.spec.whatwg.org/#build-a-url-pattern-from-a-web-idl-value": {"displayText":"build a URL pattern from a Web IDL value","export":true,"for_":[],"level":"1","normative":true,"shortname":"urlpattern","spec":"urlpattern","status":"current","text":"build a url pattern from a web idl value","type":"dfn","url":"https://urlpattern.spec.whatwg.org/#build-a-url-pattern-from-a-web-idl-value"},
"https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible": {"displayText":"URLPatternCompatible","export":true,"for_":[],"level":"1","normative":true,"shortname":"urlpattern","spec":"urlpattern","status":"current","text":"URLPatternCompatible","type":"typedef","url":"https://urlpattern.spec.whatwg.org/#typedefdef-urlpatterncompatible"},
"https://urlpattern.spec.whatwg.org/#url-pattern": {"displayText":"URL pattern","export":true,"for_":[],"level":"1","normative":true,"shortname":"urlpattern","spec":"urlpattern","status":"current","text":"url pattern","type":"dfn","url":"https://urlpattern.spec.whatwg.org/#url-pattern"},
"https://urlpattern.spec.whatwg.org/#url-pattern-has-regexp-groups": {"displayText":"has regexp groups","export":true,"for_":["URL pattern"],"level":"1","normative":true,"shortname":"urlpattern","spec":"urlpattern","status":"current","text":"has regexp groups","type":"dfn","url":"https://urlpattern.spec.whatwg.org/#url-pattern-has-regexp-groups"},
"https://urlpattern.spec.whatwg.org/#url-pattern-match": {"displayText":"match","export":true,"for_":["URL pattern"],"level":"1","normative":true,"shortname":"urlpattern","spec":"urlpattern","status":"current","text":"match","type":"dfn","url":"https://urlpattern.spec.whatwg.org/#url-pattern-match"},
"https://w3c.github.io/FileAPI/#blob-url": {"displayText":"blob URL","export":true,"for_":[],"level":"1","normative":true,"shortname":"fileapi","spec":"fileapi","status":"current","text":"blob url","type":"dfn","url":"https://w3c.github.io/FileAPI/#blob-url"},
"https://w3c.github.io/hr-time/#dfn-coarsen-time": {"displayText":"coarsen time","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"coarsen time","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-coarsen-time"},
"https://w3c.github.io/hr-time/#dfn-coarsened-shared-current-time": {"displayText":"coarsened shared current time","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"coarsened shared current time","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-coarsened-shared-current-time"},
"https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time": {"displayText":"unsafe shared current time","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"unsafe shared current time","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-unsafe-shared-current-time"},
"https://w3c.github.io/hr-time/#dom-domhighrestimestamp": {"displayText":"DOMHighResTimeStamp","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"DOMHighResTimeStamp","type":"typedef","url":"https://w3c.github.io/hr-time/#dom-domhighrestimestamp"},
"https://w3c.github.io/mediacapture-screen-share/#dfn-monitor": {"displayText":"monitor","export":true,"for_":["display surface"],"level":"1","normative":true,"shortname":"screen-capture","spec":"screen-capture","status":"current","text":"monitor","type":"dfn","url":"https://w3c.github.io/mediacapture-screen-share/#dfn-monitor"},
"https://w3c.github.io/navigation-timing/#dom-performancenavigationtiming": {"displayText":"PerformanceNavigationTiming","export":true,"for_":[],"level":"2","normative":true,"shortname":"navigation-timing","spec":"navigation-timing-2","status":"current","text":"PerformanceNavigationTiming","type":"interface","url":"https://w3c.github.io/navigation-timing/#dom-performancenavigationtiming"},
"https://w3c.github.io/push-api/#pushevent-interface": {"displayText":"push","export":true,"for_":[],"level":"","normative":true,"shortname":"push","spec":"push","status":"anchor-block","text":"push","type":"event","url":"https://w3c.github.io/push-api/#pushevent-interface"},
"https://w3c.github.io/resource-timing/#dom-performanceresourcetiming": {"displayText":"PerformanceResourceTiming","export":true,"for_":[],"level":"1","normative":true,"shortname":"resource-timing","spec":"resource-timing","status":"current","text":"PerformanceResourceTiming","type":"interface","url":"https://w3c.github.io/resource-timing/#dom-performanceresourcetiming"},
"https://w3c.github.io/trusted-types/dist/spec/#abstract-opdef-get-trusted-type-compliant-string": {"displayText":"Get Trusted Type compliant string","export":true,"for_":[],"level":"1","normative":true,"shortname":"trusted-types","spec":"trusted-types","status":"current","text":"Get Trusted Type compliant string","type":"abstract-op","url":"https://w3c.github.io/trusted-types/dist/spec/#abstract-opdef-get-trusted-type-compliant-string"},
"https://w3c.github.io/trusted-types/dist/spec/#trustedscripturl": {"displayText":"TrustedScriptURL","export":true,"for_":[],"level":"1","normative":true,"shortname":"trusted-types","spec":"trusted-types","status":"current","text":"TrustedScriptURL","type":"interface","url":"https://w3c.github.io/trusted-types/dist/spec/#trustedscripturl"},
"https://w3c.github.io/webappsec-csp/#run-global-object-csp-initialization": {"displayText":"Run CSP initialization for a global object","export":true,"for_":[],"level":"3","normative":true,"shortname":"csp","spec":"csp3","status":"current","text":"run csp initialization for a global object","type":"dfn","url":"https://w3c.github.io/webappsec-csp/#run-global-object-csp-initialization"},
"https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-origin": {"displayText":"potentially trustworthy origin","export":true,"for_":[],"level":"1","normative":true,"shortname":"secure-contexts","spec":"secure-contexts","status":"current","text":"potentially trustworthy origin","type":"dfn","url":"https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-origin"},
"https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-url": {"displayText":"potentially trustworthy URL","export":true,"for_":[],"level":"1","normative":true,"shortname":"secure-contexts","spec":"secure-contexts","status":"current","text":"potentially trustworthy url","type":"dfn","url":"https://w3c.github.io/webappsec-secure-contexts/#potentially-trustworthy-url"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#Global": {"displayText":"Global","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Global","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Global"},
"https://webidl.spec.whatwg.org/#NewObject": {"displayText":"NewObject","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NewObject","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#NewObject"},
"https://webidl.spec.whatwg.org/#SameObject": {"displayText":"SameObject","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SameObject","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#SameObject"},
"https://webidl.spec.whatwg.org/#SecureContext": {"displayText":"SecureContext","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SecureContext","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#SecureContext"},
"https://webidl.spec.whatwg.org/#a-new-promise": {"displayText":"a new promise","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a new promise","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-new-promise"},
"https://webidl.spec.whatwg.org/#a-promise-rejected-with": {"displayText":"a promise rejected with","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a promise rejected with","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-promise-rejected-with"},
"https://webidl.spec.whatwg.org/#a-promise-resolved-with": {"displayText":"a promise resolved with","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"a promise resolved with","type":"dfn","url":"https://webidl.spec.whatwg.org/#a-promise-resolved-with"},
"https://webidl.spec.whatwg.org/#aborterror": {"displayText":"AbortError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"AbortError","type":"exception","url":"https://webidl.spec.whatwg.org/#aborterror"},
"https://webidl.spec.whatwg.org/#buffersource-byte-length": {"displayText":"byte length","export":true,"for_":["BufferSource"],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"byte length","type":"dfn","url":"https://webidl.spec.whatwg.org/#buffersource-byte-length"},
"https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value": {"displayText":"converted to an ECMAScript value","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"converted to an ecmascript value","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-convert-idl-to-javascript-value"},
"https://webidl.spec.whatwg.org/#dfn-create-exception": {"displayText":"create","export":true,"for_":["exception"],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"create","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-create-exception"},
"https://webidl.spec.whatwg.org/#dfn-create-frozen-array": {"displayText":"create a frozen array","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"create a frozen array","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-create-frozen-array"},
"https://webidl.spec.whatwg.org/#dfn-exception": {"displayText":"exception","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"exception","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-exception"},
"https://webidl.spec.whatwg.org/#dfn-frozen-array-type": {"displayText":"frozen array type","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"frozen array type","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-frozen-array-type"},
"https://webidl.spec.whatwg.org/#dfn-partial-interface": {"displayText":"partial interface","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"partial interface","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-partial-interface"},
"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled": {"displayText":"reacting","export":true,"for_":["promise"],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"reacting","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-perform-steps-once-promise-is-settled"},
"https://webidl.spec.whatwg.org/#dfn-throw": {"displayText":"throw","export":true,"for_":["exception"],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"throw","type":"dfn","url":"https://webidl.spec.whatwg.org/#dfn-throw"},
"https://webidl.spec.whatwg.org/#exceptiondef-typeerror": {"displayText":"TypeError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"TypeError","type":"exception","url":"https://webidl.spec.whatwg.org/#exceptiondef-typeerror"},
"https://webidl.spec.whatwg.org/#idl-ArrayBuffer": {"displayText":"ArrayBuffer","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"ArrayBuffer","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-ArrayBuffer"},
"https://webidl.spec.whatwg.org/#idl-ByteString": {"displayText":"ByteString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"ByteString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-ByteString"},
"https://webidl.spec.whatwg.org/#idl-DOMException": {"displayText":"DOMException","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMException","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMException"},
"https://webidl.spec.whatwg.org/#idl-DOMString": {"displayText":"DOMString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"DOMString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-DOMString"},
"https://webidl.spec.whatwg.org/#idl-USVString": {"displayText":"USVString","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"USVString","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-USVString"},
"https://webidl.spec.whatwg.org/#idl-Uint8Array": {"displayText":"Uint8Array","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Uint8Array","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-Uint8Array"},
"https://webidl.spec.whatwg.org/#idl-any": {"displayText":"any","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"any","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-any"},
"https://webidl.spec.whatwg.org/#idl-boolean": {"displayText":"boolean","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"boolean","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"https://webidl.spec.whatwg.org/#idl-frozen-array": {"displayText":"FrozenArray","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"FrozenArray","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-frozen-array"},
"https://webidl.spec.whatwg.org/#idl-object": {"displayText":"object","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"object","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-object"},
"https://webidl.spec.whatwg.org/#idl-promise": {"displayText":"Promise","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Promise","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-promise"},
"https://webidl.spec.whatwg.org/#idl-sequence": {"displayText":"sequence","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"sequence","type":"dfn","url":"https://webidl.spec.whatwg.org/#idl-sequence"},
"https://webidl.spec.whatwg.org/#idl-undefined": {"displayText":"undefined","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"undefined","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-undefined"},
"https://webidl.spec.whatwg.org/#invalidaccesserror": {"displayText":"InvalidAccessError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"InvalidAccessError","type":"exception","url":"https://webidl.spec.whatwg.org/#invalidaccesserror"},
"https://webidl.spec.whatwg.org/#invalidstateerror": {"displayText":"InvalidStateError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"InvalidStateError","type":"exception","url":"https://webidl.spec.whatwg.org/#invalidstateerror"},
"https://webidl.spec.whatwg.org/#networkerror": {"displayText":"NetworkError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"NetworkError","type":"exception","url":"https://webidl.spec.whatwg.org/#networkerror"},
"https://webidl.spec.whatwg.org/#new": {"displayText":"new","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"new","type":"dfn","url":"https://webidl.spec.whatwg.org/#new"},
"https://webidl.spec.whatwg.org/#quotaexceedederror": {"displayText":"QuotaExceededError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"QuotaExceededError","type":"interface","url":"https://webidl.spec.whatwg.org/#quotaexceedederror"},
"https://webidl.spec.whatwg.org/#reject": {"displayText":"reject","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"reject","type":"dfn","url":"https://webidl.spec.whatwg.org/#reject"},
"https://webidl.spec.whatwg.org/#resolve": {"displayText":"resolve","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"resolve","type":"dfn","url":"https://webidl.spec.whatwg.org/#resolve"},
"https://webidl.spec.whatwg.org/#securityerror": {"displayText":"SecurityError","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"SecurityError","type":"exception","url":"https://webidl.spec.whatwg.org/#securityerror"},
"https://webidl.spec.whatwg.org/#this": {"displayText":"this","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"this","type":"dfn","url":"https://webidl.spec.whatwg.org/#this"},
"https://webidl.spec.whatwg.org/#upon-fulfillment": {"displayText":"upon fulfillment","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"upon fulfillment","type":"dfn","url":"https://webidl.spec.whatwg.org/#upon-fulfillment"},
"https://webidl.spec.whatwg.org/#upon-rejection": {"displayText":"upon rejection","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"upon rejection","type":"dfn","url":"https://webidl.spec.whatwg.org/#upon-rejection"},
"https://webidl.spec.whatwg.org/#waiting-for-all-promise": {"displayText":"getting a promise to wait for all","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"getting a promise to wait for all","type":"dfn","url":"https://webidl.spec.whatwg.org/#waiting-for-all-promise"},
"https://wicg.github.io/csp-next/scripting-policy.html#scripting-policy-pair-enforced": {"displayText":"enforced","export":true,"for_":["scripting policy pair"],"level":"1","normative":true,"shortname":"csp-next","spec":"csp-next","status":"current","text":"enforced","type":"dfn","url":"https://wicg.github.io/csp-next/scripting-policy.html#scripting-policy-pair-enforced"},
"https://wicg.github.io/page-lifecycle/#discarded": {"displayText":"discard","export":true,"for_":[],"level":"1","normative":true,"shortname":"page-lifecycle","spec":"page-lifecycle","status":"current","text":"discard","type":"dfn","url":"https://wicg.github.io/page-lifecycle/#discarded"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>